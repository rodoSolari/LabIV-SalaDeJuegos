"use strict";(self.webpackChunkTpSalaDeJuegos=self.webpackChunkTpSalaDeJuegos||[]).push([[179],{2011:(yt,De,k)=>{k.d(De,{Dh:()=>Re,GT:()=>fe,cc:()=>ke,on:()=>Oe,pX:()=>de,xv:()=>Ie});var p=k(4650),F=k(9260);yt=k.hmd(yt);const te=["ngOnDestroy"],de=(J,Me,_e,Fe={})=>new Proxy(J,{get:(xe,pe)=>_e.runOutsideAngular(()=>{var ye;if(J[pe])return!(null===(ye=Fe?.spy)||void 0===ye)&&ye.get&&Fe.spy.get(pe,J[pe]),J[pe];if(te.indexOf(pe)>-1)return()=>{};const Le=Me.toPromise().then(Ne=>{const Ge=Ne&&Ne[pe];return"function"==typeof Ge?Ge.bind(Ne):Ge&&Ge.then?Ge.then(it=>_e.run(()=>it)):_e.run(()=>Ge)});return new Proxy(()=>{},{get:(Ne,Ge)=>Le[Ge],apply:(Ne,Ge,it)=>Le.then(Pt=>{var Qe;const jt=Pt&&Pt(...it);return!(null===(Qe=Fe?.spy)||void 0===Qe)&&Qe.apply&&Fe.spy.apply(pe,it,jt),jt})})})}),fe=(J,Me)=>{Me.forEach(_e=>{Object.getOwnPropertyNames(_e.prototype||_e).forEach(Fe=>{Object.defineProperty(J.prototype,Fe,Object.getOwnPropertyDescriptor(_e.prototype||_e,Fe))})})};class ce{constructor(Me){return Me}}const Re=new p.OlP("angularfire2.app.options"),Ie=new p.OlP("angularfire2.app.name");function Oe(J,Me,_e){const xe="object"==typeof _e&&_e||{};xe.name=xe.name||"string"==typeof _e&&_e||"[DEFAULT]";const ye=F.Z.apps.filter(Le=>Le&&Le.name===xe.name)[0]||Me.runOutsideAngular(()=>F.Z.initializeApp(J,xe));try{JSON.stringify(J)!==JSON.stringify(ye.options)&&U("error",`${ye.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ce(ye)}const U=(J,...Me)=>{(0,p.X6Q)()&&typeof console<"u"&&console[J](...Me)};function ke(J,Me,_e,Fe,xe){const[,pe,ye]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===J)||[];if(pe)return function Ce(J,Me){try{return J.toString()===Me.toString()}catch{return J===Me}}(xe,ye)||(et("error",`${Me} was already initialized on the ${_e} Firebase App with different settings.${qe?" You may need to reload as Firebase is not HMR aware.":""}`),et("warn",{is:xe,was:ye})),pe;{const Le=Fe();return globalThis.\u0275AngularfireInstanceCache.push([J,Le,xe]),Le}}const qe=!!yt.hot,et=(J,...Me)=>{(0,p.X6Q)()&&typeof console<"u"&&console[J](...Me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1389:(yt,De,k)=>{k.d(De,{$:()=>Fn,A:()=>dn,D:()=>si,I:()=>lh,J:()=>Wi,L:()=>xt,N:()=>zc,P:()=>Lh,Q:()=>fu,R:()=>Mg,U:()=>ga,V:()=>ms,W:()=>yh,X:()=>Ci,Y:()=>yo,Z:()=>pu,_:()=>dg,a:()=>Eo,a0:()=>ys,a1:()=>pn,a2:()=>qv,a3:()=>tl,a4:()=>nl,a5:()=>rl,a6:()=>yu,a7:()=>_u,a8:()=>wa,a9:()=>_o,aA:()=>we,aB:()=>zn,aC:()=>Di,aD:()=>la,aE:()=>xa,aF:()=>yr,aG:()=>Mu,aH:()=>Bt,aL:()=>Yi,aO:()=>ma,aa:()=>_s,ab:()=>pg,ac:()=>gg,ad:()=>Kv,ae:()=>mg,af:()=>yg,ai:()=>ol,aj:()=>vu,ak:()=>al,an:()=>hg,ao:()=>Ia,aq:()=>Th,ar:()=>Zv,as:()=>Ar,at:()=>Wc,au:()=>ou,av:()=>Ze,aw:()=>di,ax:()=>Ra,ay:()=>Bv,az:()=>ot,b:()=>Rh,c:()=>ba,d:()=>Su,e:()=>t0,f:()=>xn,g:()=>Hn,h:()=>Pg,i:()=>Ws,j:()=>Ng,k:()=>Ds,l:()=>Ca,m:()=>Tl,o:()=>ku,p:()=>Xt,r:()=>bo,s:()=>Tu,u:()=>xg});var Re,Ie,Oe,U,B,H,ke,Ce,qe,et,J,Me,_e,Fe,xe,pe,ye,Le,Ne,Ge,it,Pt,Qe,jt,st,co,lo,Li,ho,Y,ee,ne,Q,Pe,be,ht,tt,yn,_t,zt,_n,rn,Xn,er,Nn,pr,Kr,tr,ct,Vi,sa,$n,Ls,Ui,hn,tn,ft,Dr,Cr,nr,br,rr,oa,an,Bi,At,aa,Jt,ds,vi,$i,ji,Tr,Hi,hs,L,P,$,se,W,Te,p=k(5861),F=k(2090),te=k(6881),de=k(7582),fe=k(1877),ce=k(4859);const Xt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},dn={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const si=function Ut(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Vs=function Sr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nu=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Z=new fe.Yd("@firebase/auth");function Ke(D,...g){Z.logLevel<=fe.in.ERROR&&Z.error(`Auth (${te.SDK_VERSION}): ${D}`,...g)}function Ze(D,...g){throw Gt(D,...g)}function ot(D,...g){return Gt(D,...g)}function nt(D,g,m){const v=Object.assign(Object.assign({},Vs()),{[g]:m});return new F.LL("auth","Firebase",v).create(g,{appName:D.name})}function Ht(D,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Ze(D,"argument-error"),nt(D,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gt(D,...g){if("string"!=typeof D){const m=g[0],v=[...g.slice(1)];return v[0]&&(v[0].appName=D.name),D._errorFactory.create(m,...v)}return nu.create(D,...g)}function we(D,g,...m){if(!D)throw Gt(g,...m)}function sn(D){const g="INTERNAL ASSERTION FAILED: "+D;throw Ke(g),new Error(g)}function Ar(D,g){D||sn(g)}function zi(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function fo(){return"http:"===Zr()||"https:"===Zr()}function Zr(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class on{constructor(g,m){this.shortDelay=g,this.longDelay=m,Ar(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function We(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(fo()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mr(D,g){Ar(D.emulator,"Emulator should always be set here");const{url:m}=D.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Gi{static initialize(g,m,v){this.fetchImpl=g,m&&(this.headersImpl=m),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ir={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},po=new on(3e4,6e4);function St(D,g){return D.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:D.tenantId}):g}function un(D,g,m,v){return(Re=Re||(0,p.Z)(function*(T,A,R,V,q={}){return go(T,q,(0,p.Z)(function*(){let he={},rt={};V&&("GET"===A?rt=V:he={body:JSON.stringify(V)});const Ye=(0,F.xO)(Object.assign({key:T.config.apiKey},rt)).slice(1),at=yield T._getAdditionalHeaders();return at["Content-Type"]="application/json",T.languageCode&&(at["X-Firebase-Locale"]=T.languageCode),Gi.fetch()(ua(T,T.config.apiHost,R,Ye),Object.assign({method:A,headers:at,referrerPolicy:"no-referrer"},he))}))})).apply(this,arguments)}function go(D,g,m){return(Ie=Ie||(0,p.Z)(function*(v,T,A){v._canInitEmulator=!1;const R=Object.assign(Object.assign({},ir),T);try{const V=new Us(v),q=yield Promise.race([A(),V.promise]);V.clearNetworkTimeout();const he=yield q.json();if("needConfirmation"in he)throw fs(v,"account-exists-with-different-credential",he);if(q.ok&&!("errorMessage"in he))return he;{const rt=q.ok?he.errorMessage:he.error.message,[Ye,at]=rt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ye)throw fs(v,"credential-already-in-use",he);if("EMAIL_EXISTS"===Ye)throw fs(v,"email-already-in-use",he);if("USER_DISABLED"===Ye)throw fs(v,"user-disabled",he);const qt=R[Ye]||Ye.toLowerCase().replace(/[_\s]+/g,"-");if(at)throw nt(v,qt,at);Ze(v,qt)}}catch(V){if(V instanceof F.ZR)throw V;Ze(v,"network-request-failed",{message:String(V)})}})).apply(this,arguments)}function wt(D,g,m,v){return(Oe=Oe||(0,p.Z)(function*(T,A,R,V,q={}){const he=yield un(T,A,R,V,q);return"mfaPendingCredential"in he&&Ze(T,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function ua(D,g,m,v){const T=`${g}${m}?${v}`;return D.config.emulator?Mr(D.config,T):`${D.config.apiScheme}://${T}`}class Us{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,v)=>{this.timer=setTimeout(()=>v(ot(this.auth,"network-request-failed")),po.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fs(D,g,m){const v={appName:D.name};m.email&&(v.email=m.email),m.phoneNumber&&(v.phoneNumber=m.phoneNumber);const T=ot(D,g,v);return T.customData._tokenResponse=m,T}function oi(D){if(D)try{const g=new Date(Number(D));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Hc(D){return 1e3*Number(D)}function nn(D){const[g,m,v]=D.split(".");if(void 0===g||void 0===m||void 0===v)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,F.tV)(m);return T?JSON.parse(T):(Ke("Failed to decode base64 JWT payload"),null)}catch(T){return Ke("Caught error parsing JWT payload as JSON",T?.toString()),null}}function ai(D,g){return(Ce=Ce||(0,p.Z)(function*(m,v,T=!1){if(T)return v;try{return yield v}catch(A){throw A instanceof F.ZR&&function rh({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(A)&&m.auth.currentUser===m&&(yield m.auth.signOut()),A}})).apply(this,arguments)}class su{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const v=this.getInterval(g);this.timerId=setTimeout((0,p.Z)(function*(){yield m.iteration()}),v)}iteration(){var g=this;return(0,p.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&g.schedule(!0))}g.schedule()})()}}class ca{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=oi(this.lastLoginAt),this.creationTime=oi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ei(D){return(qe=qe||(0,p.Z)(function*(g){var m;const v=g.auth,T=yield g.getIdToken(),A=yield ai(g,function ru(D,g){return(H=H||(0,p.Z)(function*(m,v){return un(m,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}(v,{idToken:T}));we(A?.users.length,v,"internal-error");const R=A.users[0];g._notifyReloadListener(R);const V=null!==(m=R.providerUserInfo)&&void 0!==m&&m.length?function Fr(D){return D.map(g=>{var{providerId:m}=g,v=(0,de._T)(g,["providerId"]);return{providerId:m,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(R.providerUserInfo):[],q=function Vv(D,g){return[...D.filter(v=>!g.some(T=>T.providerId===v.providerId)),...g]}(g.providerData,V),Ye=!!g.isAnonymous&&!(g.email&&R.passwordHash||q?.length),at={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:q,metadata:new ca(R.createdAt,R.lastLoginAt),isAnonymous:Ye};Object.assign(g,at)})).apply(this,arguments)}class Bs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){we(g.idToken,"internal-error"),we(typeof g.idToken<"u","internal-error"),we(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function wi(D){const g=nn(D);return we(g,"internal-error"),we(typeof g.exp<"u","internal-error"),we(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var v=this;return(0,p.Z)(function*(){return we(!v.accessToken||v.refreshToken,g,"user-token-expired"),m||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(g,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var v=this;return(0,p.Z)(function*(){const{accessToken:T,refreshToken:A,expiresIn:R}=yield function ui(D,g){return(J=J||(0,p.Z)(function*(m,v){const T=yield go(m,{},(0,p.Z)(function*(){const A=(0,F.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:R,apiKey:V}=m.config,q=ua(m,R,"/v1/token",`key=${V}`),he=yield m._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",Gi.fetch()(q,{method:"POST",headers:he,body:A})}));return{accessToken:T.access_token,expiresIn:T.expires_in,refreshToken:T.refresh_token}})).apply(this,arguments)}(g,m);v.updateTokensAndExpiration(T,A,Number(R))})()}updateTokensAndExpiration(g,m,v){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(g,m){const{refreshToken:v,accessToken:T,expirationTime:A}=m,R=new Bs;return v&&(we("string"==typeof v,"internal-error",{appName:g}),R.refreshToken=v),T&&(we("string"==typeof T,"internal-error",{appName:g}),R.accessToken=T),A&&(we("number"==typeof A,"internal-error",{appName:g}),R.expirationTime=A),R}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Bs,this.toJSON())}_performRefresh(){return sn("not implemented")}}function Yr(D,g){we("string"==typeof D||typeof D>"u","internal-error",{appName:g})}class Ii{constructor(g){var{uid:m,auth:v,stsTokenManager:T}=g,A=(0,de._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new su(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new ca(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,p.Z)(function*(){const v=yield ai(m,m.stsTokenManager.getToken(m.auth,g));return we(v,m.auth,"internal-error"),m.accessToken!==v&&(m.accessToken=v,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),v})()}getIdTokenResult(g){return function iu(D){return(ke=ke||(0,p.Z)(function*(g,m=!1){const v=(0,F.m9)(g),T=yield v.getIdToken(m),A=nn(T);we(A&&A.exp&&A.auth_time&&A.iat,v.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,V=R?.sign_in_provider;return{claims:A,token:T,authTime:oi(Hc(A.auth_time)),issuedAtTime:oi(Hc(A.iat)),expirationTime:oi(Hc(A.exp)),signInProvider:V||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}(this,g)}reload(){return function gr(D){return(et=et||(0,p.Z)(function*(g){const m=(0,F.m9)(g);yield Ei(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}(this)}_assign(g){this!==g&&(we(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const m=new Ii(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(g){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var v=this;return(0,p.Z)(function*(){let T=!1;g.idToken&&g.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(g),T=!0),m&&(yield Ei(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var g=this;return(0,p.Z)(function*(){const m=yield g.getIdToken();return yield ai(g,function mo(D,g){return(U=U||(0,p.Z)(function*(m,v){return un(m,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var v,T,A,R,V,q,he,rt;const Ye=null!==(v=m.displayName)&&void 0!==v?v:void 0,at=null!==(T=m.email)&&void 0!==T?T:void 0,qt=null!==(A=m.phoneNumber)&&void 0!==A?A:void 0,Rn=null!==(R=m.photoURL)&&void 0!==R?R:void 0,Br=null!==(V=m.tenantId)&&void 0!==V?V:void 0,On=null!==(q=m._redirectEventId)&&void 0!==q?q:void 0,Qs=null!==(he=m.createdAt)&&void 0!==he?he:void 0,Fu=null!==(rt=m.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:Oa,emailVerified:bs,isAnonymous:Lu,providerData:Vu,stsTokenManager:ko}=m;we(Oa&&ko,g,"internal-error");const Uu=Bs.fromJSON(this.name,ko);we("string"==typeof Oa,g,"internal-error"),Yr(Ye,g.name),Yr(at,g.name),we("boolean"==typeof bs,g,"internal-error"),we("boolean"==typeof Lu,g,"internal-error"),Yr(qt,g.name),Yr(Rn,g.name),Yr(Br,g.name),Yr(On,g.name),Yr(Qs,g.name),Yr(Fu,g.name);const Fo=new Ii({uid:Oa,auth:g,email:at,emailVerified:bs,displayName:Ye,isAnonymous:Lu,photoURL:Rn,phoneNumber:qt,tenantId:Br,stsTokenManager:Uu,createdAt:Qs,lastLoginAt:Fu});return Vu&&Array.isArray(Vu)&&(Fo.providerData=Vu.map(Ts=>Object.assign({},Ts))),On&&(Fo._redirectEventId=On),Fo}static _fromIdTokenResponse(g,m,v=!1){return(0,p.Z)(function*(){const T=new Bs;T.updateFromServerResponse(m);const A=new Ii({uid:m.localId,auth:g,stsTokenManager:T,isAnonymous:v});return yield Ei(A),A})()}}const Qr=new Map;function Di(D){Ar(D instanceof Function,"Expected a class definition");let g=Qr.get(D);return g?(Ar(g instanceof D,"Instance stored in cache mismatched with class"),g):(g=new D,Qr.set(D,g),g)}const zc=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(m,v){var T=this;return(0,p.Z)(function*(){T.storage[m]=v})()}_get(m){var v=this;return(0,p.Z)(function*(){const T=v.storage[m];return void 0===T?null:T})()}_remove(m){var v=this;return(0,p.Z)(function*(){delete v.storage[m]})()}_addListener(m,v){}_removeListener(m,v){}}return D.type="NONE",D})();function la(D,g,m){return`firebase:${D}:${g}:${m}`}class da{constructor(g,m,v){this.persistence=g,this.auth=m,this.userKey=v;const{config:T,name:A}=this.auth;this.fullUserKey=la(this.userKey,T.apiKey,A),this.fullPersistenceKey=la("persistence",T.apiKey,A),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,p.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Ii._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,p.Z)(function*(){if(m.persistence===g)return;const v=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,v?m.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,v="authUser"){return(0,p.Z)(function*(){var T,A;if(!m.length)return new da(Di(zc),g,v);const R=(yield Promise.all(m.map(function(Ye){return(T=T||(0,p.Z)(function*(at){if(yield at._isAvailable())return at})).apply(this,arguments)}))).filter(Ye=>Ye);let V=R[0]||Di(zc);const q=la(v,g.config.apiKey,g.name);let he=null;for(const Ye of m)try{const at=yield Ye._get(q);if(at){const qt=Ii._fromJSON(g,at);Ye!==V&&(he=qt),V=Ye;break}}catch{}const rt=R.filter(Ye=>Ye._shouldAllowMigration);return V._shouldAllowMigration&&rt.length?(V=rt[0],he&&(yield V._set(q,he.toJSON())),yield Promise.all(m.map(function(Ye){return(A=A||(0,p.Z)(function*(at){if(at!==V)try{yield at._remove(q)}catch{}})).apply(this,arguments)})),new da(V,g,v)):new da(V,g,v)})()}}function Zp(D){const g=D.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Qp(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(ih(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Gc(g))return"Blackberry";if(Uv(g))return"Webos";if(sh(g))return"Safari";if((g.includes("chrome/")||Yp(g))&&!g.includes("edge/"))return"Chrome";if(ou(g))return"Android";{const v=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function ih(D=(0,F.z$)()){return/firefox\//i.test(D)}function sh(D=(0,F.z$)()){const g=D.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Yp(D=(0,F.z$)()){return/crios\//i.test(D)}function Qp(D=(0,F.z$)()){return/iemobile/i.test(D)}function ou(D=(0,F.z$)()){return/android/i.test(D)}function Gc(D=(0,F.z$)()){return/blackberry/i.test(D)}function Uv(D=(0,F.z$)()){return/webos/i.test(D)}function Wc(D=(0,F.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function Bv(D=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function qc(D=(0,F.z$)()){return Wc(D)||ou(D)||Uv(D)||Gc(D)||/windows phone/i.test(D)||Qp(D)}function jv(D,g=[]){let m;switch(D){case"Browser":m=Zp((0,F.z$)());break;case"Worker":m=`${Zp((0,F.z$)())}-${D}`;break;default:m=D}const v=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${te.SDK_VERSION}/${v}`}function $s(D,g){return(_e=_e||(0,p.Z)(function*(m,v){return un(m,"GET","/v2/recaptchaConfig",St(m,v))})).apply(this,arguments)}function Xp(D){return void 0!==D&&void 0!==D.getResponse}function Kc(D){return void 0!==D&&void 0!==D.enterprise}class Zc{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function au(D){return new Promise((g,m)=>{const v=document.createElement("script");v.setAttribute("src",D),v.onload=g,v.onerror=T=>{const A=ot("internal-error");A.customData=T,m(A)},v.type="text/javascript",v.charset="UTF-8",function eg(){var D,g;return null!==(g=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==g?g:document}().appendChild(v)})}function Yc(D){return`__${D}${Math.floor(1e6*Math.random())}`}const ah="NO_RECAPTCHA";class uu{constructor(g){this.type="recaptcha-enterprise",this.auth=Bt(g)}verify(g="verify",m=!1){var v=this;return(0,p.Z)(function*(){var T;function R(V,q,he){const rt=window.grecaptcha;Kc(rt)?rt.enterprise.ready(()=>{rt.enterprise.execute(V,{action:g}).then(Ye=>{q(Ye)}).catch(()=>{q(ah)})}):he(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((V,q)=>{(function A(V){return(T=T||(0,p.Z)(function*(q){var he;if(!m){if(null==q.tenantId&&null!=q._agentRecaptchaConfig)return q._agentRecaptchaConfig.siteKey;if(null!=q.tenantId&&void 0!==q._tenantRecaptchaConfigs[q.tenantId])return q._tenantRecaptchaConfigs[q.tenantId].siteKey}return new Promise(function(rt,Ye){return(he=he||(0,p.Z)(function*(at,qt){$s(q,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Rn=>{if(void 0!==Rn.recaptchaKey){const Br=new Zc(Rn);return null==q.tenantId?q._agentRecaptchaConfig=Br:q._tenantRecaptchaConfigs[q.tenantId]=Br,at(Br.siteKey)}qt(new Error("recaptcha Enterprise site key undefined"))}).catch(Rn=>{qt(Rn)})})).apply(this,arguments)})})).apply(this,arguments)})(v.auth).then(he=>{if(!m&&Kc(window.grecaptcha))R(he,V,q);else{if(typeof window>"u")return void q(new Error("RecaptchaVerifier is only supported in browser"));au("https://www.google.com/recaptcha/enterprise.js?render="+he).then(()=>{R(he,V,q)}).catch(rt=>{q(rt)})}}).catch(he=>{q(he)})})})()}}function kn(D,g,m){return(Fe=Fe||(0,p.Z)(function*(v,T,A,R=!1){const V=new uu(v);let q;try{q=yield V.verify(A)}catch{q=yield V.verify(A,!0)}const he=Object.assign({},T);return Object.assign(he,R?{captchaResp:q}:{captchaResponse:q}),Object.assign(he,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(he,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),he})).apply(this,arguments)}class uh{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const v=A=>new Promise((R,V)=>{try{R(g(A))}catch(q){V(q)}});v.onAbort=m,this.queue.push(v);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,p.Z)(function*(){if(m.auth.currentUser===g)return;const v=[];try{for(const T of m.queue)yield T(g),T.onAbort&&v.push(T.onAbort)}catch(T){v.reverse();for(const A of v)try{A()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class ch{constructor(g,m,v,T){this.app=g,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=v,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ha(this),this.idTokenSubscription=new ha(this),this.beforeStateQueue=new uh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nu,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(g,m){var v=this;return m&&(this._popupRedirectResolver=Di(m)),this._initializationPromise=this.queue((0,p.Z)(function*(){var T,A;if(!v._deleted&&(v.persistenceManager=yield da.create(v,g),!v._deleted)){if(null!==(T=v._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(m),v.lastNotifiedUid=(null===(A=v.currentUser)||void 0===A?void 0:A.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,p.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,p.Z)(function*(){var v;const T=yield m.assertedPersistence.getCurrentUser();let A=T,R=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const V=null===(v=m.redirectUser)||void 0===v?void 0:v._redirectEventId,q=A?._redirectEventId,he=yield m.tryRedirectSignIn(g);(!V||V===q)&&he?.user&&(A=he.user,R=!0)}if(!A)return m.directlySetCurrentUser(null);if(!A._redirectEventId){if(R)try{yield m.beforeStateQueue.runMiddleware(A)}catch(V){A=T,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(V))}return A?m.reloadAndSetCurrentUserOrClear(A):m.directlySetCurrentUser(null)}return we(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===A._redirectEventId?m.directlySetCurrentUser(A):m.reloadAndSetCurrentUserOrClear(A)})()}tryRedirectSignIn(g){var m=this;return(0,p.Z)(function*(){let v=null;try{v=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,p.Z)(function*(){try{yield Ei(g)}catch(v){if("auth/network-request-failed"!==v?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ot(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var g=this;return(0,p.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,p.Z)(function*(){const v=g?(0,F.m9)(g):null;return v&&we(v.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(v&&v._clone(m))})()}_updateCurrentUser(g,m=!1){var v=this;return(0,p.Z)(function*(){if(!v._deleted)return g&&we(v.tenantId===g.tenantId,v,"tenant-id-mismatch"),m||(yield v.beforeStateQueue.runMiddleware(g)),v.queue((0,p.Z)(function*(){yield v.directlySetCurrentUser(g),v.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,p.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,p.Z)(function*(){yield m.assertedPersistence.setPersistence(Di(g))}))}initializeRecaptchaConfig(){var g=this;return(0,p.Z)(function*(){const m=yield $s(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),v=new Zc(m);null==g.tenantId?g._agentRecaptchaConfig=v:g._tenantRecaptchaConfigs[g.tenantId]=v,v.emailPasswordEnabled&&new uu(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new F.LL("auth","Firebase",g())}onAuthStateChanged(g,m,v){return this.registerStateListener(this.authStateSubscription,g,m,v)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,v){return this.registerStateListener(this.idTokenSubscription,g,m,v)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var v=this;return(0,p.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(m);return null===g?T.removeCurrentUser():T.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,p.Z)(function*(){if(!m.redirectPersistenceManager){const v=g&&Di(g)||m._popupRedirectResolver;we(v,m,"argument-error"),m.redirectPersistenceManager=yield da.create(m,[Di(v._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,p.Z)(function*(){var v,T;return m._isInitialized&&(yield m.queue((0,p.Z)(function*(){}))),(null===(v=m._currentUser)||void 0===v?void 0:v._redirectEventId)===g?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,p.Z)(function*(){if(g===m.currentUser)return m.queue((0,p.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,v,T){if(this._deleted)return()=>{};const A="function"==typeof m?m:m.next.bind(m),R=this._isInitialized?Promise.resolve():this._initializationPromise;return we(R,this,"internal-error"),R.then(()=>A(this.currentUser)),"function"==typeof m?g.addObserver(m,v,T):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,p.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=jv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,p.Z)(function*(){var m;const v={"X-Client-Version":g.clientVersion};g.app.options.appId&&(v["X-Firebase-gmpid"]=g.app.options.appId);const T=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();T&&(v["X-Firebase-Client"]=T);const A=yield g._getAppCheckToken();return A&&(v["X-Firebase-AppCheck"]=A),v})()}_getAppCheckToken(){var g=this;return(0,p.Z)(function*(){var m;const v=yield null===(m=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return v?.error&&function Se(D,...g){Z.logLevel<=fe.in.WARN&&Z.warn(`Auth (${te.SDK_VERSION}): ${D}`,...g)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function Bt(D){return(0,F.m9)(D)}class ha{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,F.ne)(m=>this.observer=m)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function lh(D,g,m){const v=Bt(D);we(v._canInitEmulator,v,"emulator-config-failed"),we(/^https?:\/\//.test(g),v,"invalid-emulator-scheme");const T=!!m?.disableWarnings,A=Qc(g),{host:R,port:V}=function fa(D){const g=Qc(D),m=/(\/\/)?([^?#/]+)/.exec(D.substr(g.length));if(!m)return{host:"",port:null};const v=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const A=T[1];return{host:A,port:mr(v.substr(A.length+1))}}{const[A,R]=v.split(":");return{host:A,port:mr(R)}}}(g);v.config.emulator={url:`${A}//${R}${null===V?"":`:${V}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:R,port:V,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function rg(){function D(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function Qc(D){const g=D.indexOf(":");return g<0?"":D.substr(0,g+1)}function mr(D){if(!D)return null;const g=Number(D);return isNaN(g)?null:g}class Wi{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return sn("not implemented")}_getIdTokenResponse(g){return sn("not implemented")}_linkToIdToken(g,m){return sn("not implemented")}_getReauthenticationResolver(g){return sn("not implemented")}}function dh(D,g){return(xe=xe||(0,p.Z)(function*(m,v){return un(m,"POST","/v1/accounts:resetPassword",St(m,v))})).apply(this,arguments)}function gs(D,g){return(pe=pe||(0,p.Z)(function*(m,v){return un(m,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function pa(D,g){return(Le=Le||(0,p.Z)(function*(m,v){return wt(m,"POST","/v1/accounts:signInWithPassword",St(m,v))})).apply(this,arguments)}function Et(D,g){return(Ne=Ne||(0,p.Z)(function*(m,v){return un(m,"POST","/v1/accounts:sendOobCode",St(m,v))})).apply(this,arguments)}function ig(D,g){return(it=it||(0,p.Z)(function*(m,v){return Et(m,v)})).apply(this,arguments)}function Jc(D,g){return(Pt=Pt||(0,p.Z)(function*(m,v){return Et(m,v)})).apply(this,arguments)}class lu extends Wi{constructor(g,m,v,T=null){super("password",v),this._email=g,this._password=m,this._tenantId=T}static _fromEmailAndPassword(g,m){return new lu(g,m,"password")}static _fromEmailAndCode(g,m,v=null){return new lu(g,m,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,p.Z)(function*(){var v;switch(m.signInMethod){case"password":const A={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=g._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const R=yield kn(g,A,"signInWithPassword");return pa(g,R)}var T;return pa(g,A).catch(function(R){return(T=T||(0,p.Z)(function*(V){if("auth/missing-recaptcha-token"===V.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const q=yield kn(g,A,"signInWithPassword");return pa(g,q)}return Promise.reject(V)})).apply(this,arguments)});case"emailLink":return function og(D,g){return(jt=jt||(0,p.Z)(function*(m,v){return wt(m,"POST","/v1/accounts:signInWithEmailLink",St(m,v))})).apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Ze(g,"internal-error")}})()}_linkToIdToken(g,m){var v=this;return(0,p.Z)(function*(){switch(v.signInMethod){case"password":return gs(g,{idToken:m,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function ph(D,g){return(st=st||(0,p.Z)(function*(m,v){return wt(m,"POST","/v1/accounts:signInWithEmailLink",St(m,v))})).apply(this,arguments)}(g,{idToken:m,email:v._email,oobCode:v._password});default:Ze(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function qi(D,g){return(co=co||(0,p.Z)(function*(m,v){return wt(m,"POST","/v1/accounts:signInWithIdp",St(m,v))})).apply(this,arguments)}class xt extends Wi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new xt(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Ze("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:v,signInMethod:T}=m,A=(0,de._T)(m,["providerId","signInMethod"]);if(!v||!T)return null;const R=new xt(v,T);return R.idToken=A.idToken||void 0,R.accessToken=A.accessToken||void 0,R.secret=A.secret,R.nonce=A.nonce,R.pendingToken=A.pendingToken||null,R}_getIdTokenResponse(g){return qi(g,this.buildRequest())}_linkToIdToken(g,m){const v=this.buildRequest();return v.idToken=m,qi(g,v)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,qi(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,F.xO)(m)}return g}}const cg={USER_NOT_FOUND:"user-not-found"};class ur extends Wi{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new ur({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new ur({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function ug(D,g){return(Li=Li||(0,p.Z)(function*(m,v){return wt(m,"POST","/v1/accounts:signInWithPhoneNumber",St(m,v))})).apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function ar(D,g){return(ho=ho||(0,p.Z)(function*(m,v){const T=yield wt(m,"POST","/v1/accounts:signInWithPhoneNumber",St(m,v));if(T.temporaryProof)throw fs(m,"account-exists-with-different-credential",T);return T})).apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function du(D,g){return(Y=Y||(0,p.Z)(function*(m,v){return wt(m,"POST","/v1/accounts:signInWithPhoneNumber",St(m,Object.assign(Object.assign({},v),{operation:"REAUTH"})),cg)})).apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:v,verificationCode:T}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:v,code:T}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:v,phoneNumber:T,temporaryProof:A}=g;return v||m||T||A?new ur({verificationId:m,verificationCode:v,phoneNumber:T,temporaryProof:A}):null}}class hu{constructor(g){var m,v,T,A,R,V;const q=(0,F.zd)((0,F.pd)(g)),he=null!==(m=q.apiKey)&&void 0!==m?m:null,rt=null!==(v=q.oobCode)&&void 0!==v?v:null,Ye=function gh(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=q.mode)&&void 0!==T?T:null);we(he&&rt&&Ye,"argument-error"),this.apiKey=he,this.operation=Ye,this.code=rt,this.continueUrl=null!==(A=q.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(R=q.languageCode)&&void 0!==R?R:null,this.tenantId=null!==(V=q.tenantId)&&void 0!==V?V:null}static parseLink(g){const m=function mh(D){const g=(0,F.zd)((0,F.pd)(D)).link,m=g?(0,F.zd)((0,F.pd)(g)).deep_link_id:null,v=(0,F.zd)((0,F.pd)(D)).deep_link_id;return(v?(0,F.zd)((0,F.pd)(v)).link:null)||v||m||g||D}(g);try{return new hu(m)}catch{return null}}}let fu=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(m,v){return lu._fromEmailAndPassword(m,v)}static credentialWithLink(m,v){const T=hu.parseLink(v);return we(T,"argument-error"),lu._fromEmailAndCode(m,T.code,T.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class fn{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class cr extends fn{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ci extends cr{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return we("providerId"in m&&"signInMethod"in m,"argument-error"),xt._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return we(g.idToken||g.accessToken,"argument-error"),xt._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ci.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ci.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:A,nonce:R,providerId:V}=g;if(!v&&!T&&!m&&!A||!V)return null;try{return new Ci(V)._credential({idToken:m,accessToken:v,nonce:R,pendingToken:A})}catch{return null}}}let ga=(()=>{class D extends cr{constructor(){super("facebook.com")}static credential(m){return xt._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),ms=(()=>{class D extends cr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,v){return xt._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:v})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:T}=m;if(!v&&!T)return null;try{return D.credential(v,T)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),yh=(()=>{class D extends cr{constructor(){super("github.com")}static credential(m){return xt._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class ma extends Wi{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return qi(g,this.buildRequest())}_linkToIdToken(g,m){const v=this.buildRequest();return v.idToken=m,qi(g,v)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,qi(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:v,signInMethod:T,pendingToken:A}=m;return v&&T&&A&&v===T?new ma(v,A):null}static _create(g,m){return new ma(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yo extends fn{constructor(g){we(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return yo.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return yo.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=ma.fromJSON(g);return we(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:v}=g;if(!m||!v)return null;try{return ma._create(v,m)}catch{return null}}}let pu=(()=>{class D extends cr{constructor(){super("twitter.com")}static credential(m,v){return xt._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:v})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=m;if(!v||!T)return null;try{return D.credential(v,T)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function gu(D,g){return(ee=ee||(0,p.Z)(function*(m,v){return wt(m,"POST","/v1/accounts:signUp",St(m,v))})).apply(this,arguments)}class Lr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,v,T=!1){return(0,p.Z)(function*(){const A=yield Ii._fromIdTokenResponse(g,v,T),R=lg(v);return new Lr({user:A,providerId:R,_tokenResponse:v,operationType:m})})()}static _forOperation(g,m,v){return(0,p.Z)(function*(){yield g._updateTokensIfNecessary(v,!0);const T=lg(v);return new Lr({user:g,providerId:T,_tokenResponse:v,operationType:m})})()}}function lg(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function dg(D){return(ne=ne||(0,p.Z)(function*(g){var m;const v=Bt(g);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new Lr({user:v.currentUser,providerId:null,operationType:"signIn"});const T=yield gu(v,{returnSecureToken:!0}),A=yield Lr._fromIdTokenResponse(v,"signIn",T,!0);return yield v._updateCurrentUser(A.user),A})).apply(this,arguments)}class ya extends F.ZR{constructor(g,m,v,T){var A;super(m.code,m.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,ya.prototype),this.customData={appName:g.name,tenantId:null!==(A=g.tenantId)&&void 0!==A?A:void 0,_serverResponse:m.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(g,m,v,T){return new ya(g,m,v,T)}}function _h(D,g,m,v){return("reauthenticate"===g?m._getReauthenticationResolver(D):m._getIdTokenResponse(D)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?ya._fromErrorAndOperation(D,A,g,v):A})}function vh(D){return new Set(D.map(({providerId:g})=>g).filter(g=>!!g))}function hg(D,g){return(Q=Q||(0,p.Z)(function*(m,v){const T=(0,F.m9)(m);yield _a(!0,T,v);const{providerUserInfo:A}=yield function sr(D,g){return(B=B||(0,p.Z)(function*(m,v){return un(m,"POST","/v1/accounts:update",v)})).apply(this,arguments)}(T.auth,{idToken:yield T.getIdToken(),deleteProvider:[v]}),R=vh(A||[]);return T.providerData=T.providerData.filter(V=>R.has(V.providerId)),R.has("phone")||(T.phoneNumber=null),yield T.auth._persistUserIfCurrent(T),T})).apply(this,arguments)}function el(D,g){return(Pe=Pe||(0,p.Z)(function*(m,v,T=!1){const A=yield ai(m,v._linkToIdToken(m.auth,yield m.getIdToken()),T);return Lr._forOperation(m,"link",A)})).apply(this,arguments)}function _a(D,g,m){return(be=be||(0,p.Z)(function*(v,T,A){yield Ei(T);const V=!1===v?"provider-already-linked":"no-such-provider";we(vh(T.providerData).has(A)===v,T.auth,V)})).apply(this,arguments)}function wh(D,g){return(ht=ht||(0,p.Z)(function*(m,v,T=!1){const{auth:A}=m,R="reauthenticate";try{const V=yield ai(m,_h(A,R,v,m),T);we(V.idToken,A,"internal-error");const q=nn(V.idToken);we(q,A,"internal-error");const{sub:he}=q;return we(m.uid===he,A,"user-mismatch"),Lr._forOperation(m,R,V)}catch(V){throw"auth/user-not-found"===V?.code&&Ze(A,"user-mismatch"),V}})).apply(this,arguments)}function fg(D,g){return(tt=tt||(0,p.Z)(function*(m,v,T=!1){const A="signIn",R=yield _h(m,A,v),V=yield Lr._fromIdTokenResponse(m,A,R);return T||(yield m._updateCurrentUser(V.user)),V})).apply(this,arguments)}function Fn(D,g){return(yn=yn||(0,p.Z)(function*(m,v){return fg(Bt(m),v)})).apply(this,arguments)}function ys(D,g){return(_t=_t||(0,p.Z)(function*(m,v){const T=(0,F.m9)(m);return yield _a(!1,T,v.providerId),el(T,v)})).apply(this,arguments)}function pn(D,g){return(zt=zt||(0,p.Z)(function*(m,v){return wh((0,F.m9)(m),v)})).apply(this,arguments)}function qv(D,g){return(rn=rn||(0,p.Z)(function*(m,v){const T=Bt(m),A=yield function Wv(D,g){return(_n=_n||(0,p.Z)(function*(m,v){return wt(m,"POST","/v1/accounts:signInWithCustomToken",St(m,v))})).apply(this,arguments)}(T,{token:v,returnSecureToken:!0}),R=yield Lr._fromIdTokenResponse(T,"signIn",A);return yield T._updateCurrentUser(R.user),R})).apply(this,arguments)}class mu{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Eh._fromServerResponse(g,m):"totpInfo"in m?Ih._fromServerResponse(g,m):Ze(g,"internal-error")}}class Eh extends mu{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Eh(m)}}class Ih extends mu{constructor(g){super("totp",g)}static _fromServerResponse(g,m){return new Ih(m)}}function va(D,g,m){var v;we((null===(v=m.url)||void 0===v?void 0:v.length)>0,D,"invalid-continue-uri"),we(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(we(m.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(we(m.android.packageName.length>0,D,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function tl(D,g,m){return(Xn=Xn||(0,p.Z)(function*(v,T,A){var R;const V=Bt(v),q={requestType:"PASSWORD_RESET",email:T,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=V._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const rt=yield kn(V,q,"getOobCode",!0);A&&va(V,rt,A),yield ig(V,rt)}else{var he;A&&va(V,q,A),yield ig(V,q).catch(function(rt){return(he=he||(0,p.Z)(function*(Ye){if("auth/missing-recaptcha-token"!==Ye.code)return Promise.reject(Ye);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const at=yield kn(V,q,"getOobCode",!0);A&&va(V,at,A),yield ig(V,at)}})).apply(this,arguments)})}})).apply(this,arguments)}function nl(D,g,m){return(er=er||(0,p.Z)(function*(v,T,A){yield dh((0,F.m9)(v),{oobCode:T,newPassword:A})})).apply(this,arguments)}function rl(D,g){return(Nn=Nn||(0,p.Z)(function*(m,v){yield function hh(D,g){return(ye=ye||(0,p.Z)(function*(m,v){return un(m,"POST","/v1/accounts:update",St(m,v))})).apply(this,arguments)}((0,F.m9)(m),{oobCode:v})})).apply(this,arguments)}function yu(D,g){return(pr=pr||(0,p.Z)(function*(m,v){const T=(0,F.m9)(m),A=yield dh(T,{oobCode:v}),R=A.requestType;switch(we(R,T,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(A.newEmail,T,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(A.mfaInfo,T,"internal-error");default:we(A.email,T,"internal-error")}let V=null;return A.mfaInfo&&(V=mu._fromServerResponse(Bt(T),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:V},operation:R}})).apply(this,arguments)}function _u(D,g){return(Kr=Kr||(0,p.Z)(function*(m,v){const{data:T}=yield yu((0,F.m9)(m),v);return T.email})).apply(this,arguments)}function wa(D,g,m){return(tr=tr||(0,p.Z)(function*(v,T,A){var R;const V=Bt(v),q={returnSecureToken:!0,email:T,password:A,clientType:"CLIENT_TYPE_WEB"};let he;if(null!==(R=V._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const qt=yield kn(V,q,"signUpPassword");he=gu(V,qt)}else{var rt;he=gu(V,q).catch(function(qt){return(rt=rt||(0,p.Z)(function*(Rn){if("auth/missing-recaptcha-token"===Rn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Br=yield kn(V,q,"signUpPassword");return gu(V,Br)}return Promise.reject(Rn)})).apply(this,arguments)})}const Ye=yield he.catch(qt=>Promise.reject(qt)),at=yield Lr._fromIdTokenResponse(V,"signIn",Ye);return yield V._updateCurrentUser(at.user),at})).apply(this,arguments)}function _o(D,g,m){return Fn((0,F.m9)(D),fu.credential(g,m))}function _s(D,g,m){return(ct=ct||(0,p.Z)(function*(v,T,A){var R;const V=Bt(v),q={requestType:"EMAIL_SIGNIN",email:T,clientType:"CLIENT_TYPE_WEB"};function he(Ye,at){we(at.handleCodeInApp,V,"argument-error"),at&&va(V,Ye,at)}if(null!==(R=V._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const Ye=yield kn(V,q,"getOobCode",!0);he(Ye,A),yield Jc(V,Ye)}else{var rt;he(q,A),yield Jc(V,q).catch(function(Ye){return(rt=rt||(0,p.Z)(function*(at){if("auth/missing-recaptcha-token"!==at.code)return Promise.reject(at);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const qt=yield kn(V,q,"getOobCode",!0);he(qt,A),yield Jc(V,qt)}})).apply(this,arguments)})}})).apply(this,arguments)}function pg(D,g){return"EMAIL_SIGNIN"===hu.parseLink(g)?.operation}function gg(D,g,m){return(Vi=Vi||(0,p.Z)(function*(v,T,A){const R=(0,F.m9)(v),V=fu.credentialWithLink(T,A||zi());return we(V._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),Fn(R,V)})).apply(this,arguments)}function Kv(D,g){return($n=$n||(0,p.Z)(function*(m,v){const A={identifier:v,continueUri:fo()?zi():"http://localhost"},{signinMethods:R}=yield function il(D,g){return(sa=sa||(0,p.Z)(function*(m,v){return un(m,"POST","/v1/accounts:createAuthUri",St(m,v))})).apply(this,arguments)}((0,F.m9)(m),A);return R||[]})).apply(this,arguments)}function mg(D,g){return(Ls=Ls||(0,p.Z)(function*(m,v){const T=(0,F.m9)(m),R={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};v&&va(T.auth,R,v);const{email:V}=yield function fh(D,g){return(Ge=Ge||(0,p.Z)(function*(m,v){return Et(m,v)})).apply(this,arguments)}(T.auth,R);V!==m.email&&(yield m.reload())})).apply(this,arguments)}function yg(D,g,m){return(Ui=Ui||(0,p.Z)(function*(v,T,A){const R=(0,F.m9)(v),q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:T};A&&va(R.auth,q,A);const{email:he}=yield function sg(D,g){return(Qe=Qe||(0,p.Z)(function*(m,v){return Et(m,v)})).apply(this,arguments)}(R.auth,q);he!==v.email&&(yield v.reload())})).apply(this,arguments)}function ol(D,g){return(tn=tn||(0,p.Z)(function*(m,{displayName:v,photoURL:T}){if(void 0===v&&void 0===T)return;const A=(0,F.m9)(m),V={idToken:yield A.getIdToken(),displayName:v,photoUrl:T,returnSecureToken:!0},q=yield ai(A,function sl(D,g){return(hn=hn||(0,p.Z)(function*(m,v){return un(m,"POST","/v1/accounts:update",v)})).apply(this,arguments)}(A.auth,V));A.displayName=q.displayName||null,A.photoURL=q.photoUrl||null;const he=A.providerData.find(({providerId:rt})=>"password"===rt);he&&(he.displayName=A.displayName,he.photoURL=A.photoURL),yield A._updateTokensIfNecessary(q)})).apply(this,arguments)}function vu(D,g){return js((0,F.m9)(D),g,null)}function al(D,g){return js((0,F.m9)(D),null,g)}function js(D,g,m){return(ft=ft||(0,p.Z)(function*(v,T,A){const{auth:R}=v,q={idToken:yield v.getIdToken(),returnSecureToken:!0};T&&(q.email=T),A&&(q.password=A);const he=yield ai(v,gs(R,q));yield v._updateTokensIfNecessary(he,!0)})).apply(this,arguments)}class Ki{constructor(g,m,v={}){this.isNewUser=g,this.providerId=m,this.profile=v}}class wu extends Ki{constructor(g,m,v,T){super(g,m,v),this.username=T}}class Ea extends Ki{constructor(g,m){super(g,"facebook.com",m)}}class _g extends wu{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Eu extends Ki{constructor(g,m){super(g,"google.com",m)}}class ul extends wu{constructor(g,m,v){super(g,"twitter.com",m,v)}}function Ia(D){const{user:g,_tokenResponse:m}=D;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Hs(D){var g,m;if(!D)return null;const{providerId:v}=D,T=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},A=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!v&&D?.idToken){const R=null===(m=null===(g=nn(D.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(R)return new Ki(A,"anonymous"!==R&&"custom"!==R?R:null)}if(!v)return null;switch(v){case"facebook.com":return new Ea(A,T);case"github.com":return new _g(A,T);case"google.com":return new Eu(A,T);case"twitter.com":return new ul(A,T,D.screenName||null);case"custom":case"anonymous":return new Ki(A,null);default:return new Ki(A,v,T)}}(m)}class Zi{constructor(g,m,v){this.type=g,this.credential=m,this.auth=v}static _fromIdtoken(g,m){return new Zi("enroll",g,m)}static _fromMfaPendingCredential(g){return new Zi("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,v;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Zi._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.idToken)return Zi._fromIdtoken(g.multiFactorSession.idToken)}return null}}class zs{constructor(g,m,v){this.session=g,this.hints=m,this.signInResolver=v}static _fromError(g,m){var v;const T=Bt(g),A=m.customData._serverResponse,R=(A.mfaInfo||[]).map(q=>mu._fromServerResponse(T,q));we(A.mfaPendingCredential,T,"internal-error");const V=Zi._fromMfaPendingCredential(A.mfaPendingCredential);return new zs(V,R,function(q){return(v=v||(0,p.Z)(function*(he){const rt=yield he._process(T,V);delete A.mfaInfo,delete A.mfaPendingCredential;const Ye=Object.assign(Object.assign({},A),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(m.operationType){case"signIn":const at=yield Lr._fromIdTokenResponse(T,m.operationType,Ye);return yield T._updateCurrentUser(at.user),at;case"reauthenticate":return we(m.user,T,"internal-error"),Lr._forOperation(m.user,m.operationType,Ye);default:Ze(T,"internal-error")}})).apply(this,arguments)})}resolveSignIn(g){var m=this;return(0,p.Z)(function*(){return m.signInResolver(g)})()}}function Th(D,g){var m;const v=(0,F.m9)(D),T=g;return we(g.customData.operationType,v,"argument-error"),we(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,v,"argument-error"),zs._fromError(v,T)}class vs{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(v=>mu._fromServerResponse(g.auth,v)))})}static _fromUser(g){return new vs(g)}getSession(){var g=this;return(0,p.Z)(function*(){return Zi._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var v=this;return(0,p.Z)(function*(){const T=g,A=yield v.getSession(),R=yield ai(v.user,T._process(v.user.auth,A,m));return yield v.user._updateTokensIfNecessary(R),v.user.reload()})()}unenroll(g){var m=this;return(0,p.Z)(function*(){const v="string"==typeof g?g:g.uid,T=yield m.user.getIdToken();try{const A=yield ai(m.user,function Eg(D,g){return un(D,"POST","/v2/accounts/mfaEnrollment:withdraw",St(D,g))}(m.user.auth,{idToken:T,mfaEnrollmentId:v}));m.enrolledFactors=m.enrolledFactors.filter(({uid:R})=>R!==v),yield m.user._updateTokensIfNecessary(A),yield m.user.reload()}catch(A){throw A}})()}}const ws=new WeakMap;function Zv(D){const g=(0,F.m9)(D);return ws.has(g)||ws.set(g,vs._fromUser(g)),ws.get(g)}const vo="__sak";class Mh{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(vo,"1"),this.storage.removeItem(vo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rh=(()=>{class D extends Mh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,v)=>this.onStorageEvent(m,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wo(){const D=(0,F.z$)();return sh(D)||Wc(D)}()&&function $v(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qc(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),A=this.localCache[v];T!==A&&m(v,A,T)}}onStorageEvent(m,v=!1){if(!m.key)return void this.forAllChangedKeys((V,q,he)=>{this.notifyListeners(V,he)});const T=m.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const V=this.storage.getItem(T);if(m.newValue!==V)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!v)return}const A=()=>{const V=this.storage.getItem(T);!v&&this.localCache[T]===V||this.notifyListeners(T,V)},R=this.storage.getItem(T);!function oh(){return(0,F.w1)()&&10===document.documentMode}()||R===m.newValue||m.newValue===m.oldValue?A():setTimeout(A,10)}notifyListeners(m,v){this.localCache[m]=v;const T=this.listeners[m];if(T)for(const A of Array.from(T))A(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(v)}_removeListener(m,v){this.listeners[m]&&(this.listeners[m].delete(v),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,v){var T=()=>super._set,A=this;return(0,p.Z)(function*(){yield T().call(A,m,v),A.localCache[m]=JSON.stringify(v)})()}_get(m){var v=()=>super._get,T=this;return(0,p.Z)(function*(){const A=yield v().call(T,m);return T.localCache[m]=JSON.stringify(A),A})()}_remove(m){var v=()=>super._remove,T=this;return(0,p.Z)(function*(){yield v().call(T,m),delete T.localCache[m]})()}}return D.type="LOCAL",D})(),Eo=(()=>{class D extends Mh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,v){}_removeListener(m,v){}}return D.type="SESSION",D})();let Io=(()=>{class D{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const v=this.receivers.find(A=>A.isListeningto(m));if(v)return v;const T=new D(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var v=this;return(0,p.Z)(function*(){var T;const A=m,{eventId:R,eventType:V,data:q}=A.data,he=v.handlersMap[V];if(!he?.size)return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:V});const rt=Array.from(he).map(function(at){return(T=T||(0,p.Z)(function*(qt){return qt(A.origin,q)})).apply(this,arguments)}),Ye=yield function Gs(D){var g;return Promise.all(D.map(function(m){return(g=g||(0,p.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(T){return{fulfilled:!1,reason:T}}})).apply(this,arguments)}))}(rt);A.ports[0].postMessage({status:"done",eventId:R,eventType:V,response:Ye})})()}_subscribe(m,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(v)}_unsubscribe(m,v){this.handlersMap[m]&&v&&this.handlersMap[m].delete(v),(!v||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Yi(D="",g=10){let m="";for(let v=0;v<g;v++)m+=Math.floor(10*Math.random());return D+m}class Ph{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,v=50){var T=this;return(0,p.Z)(function*(){const A=typeof MessageChannel<"u"?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let R,V;return new Promise((q,he)=>{const rt=Yi("",20);A.port1.start();const Ye=setTimeout(()=>{he(new Error("unsupported_event"))},v);V={messageChannel:A,onMessage(at){const qt=at;if(qt.data.eventId===rt)switch(qt.data.status){case"ack":clearTimeout(Ye),R=setTimeout(()=>{he(new Error("timeout"))},3e3);break;case"done":clearTimeout(R),q(qt.data.response);break;default:clearTimeout(Ye),clearTimeout(R),he(new Error("invalid_response"))}}},T.handlers.add(V),A.port1.addEventListener("message",V.onMessage),T.target.postMessage({eventType:g,eventId:rt,data:m},[A.port2])}).finally(()=>{V&&T.removeMessageHandler(V)})})()}}function vn(){return window}function pl(){return typeof vn().WorkerGlobalScope<"u"&&"function"==typeof vn().importScripts}const Dg="firebaseLocalStorageDb",kh=1,Iu="firebaseLocalStorage",Qv="fbase_key";class gl{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Fh(D,g){return D.transaction([Iu],g?"readwrite":"readonly").objectStore(Iu)}function Cg(){const D=indexedDB.open(Dg,kh);return new Promise((g,m)=>{D.addEventListener("error",()=>{m(D.error)}),D.addEventListener("upgradeneeded",()=>{const v=D.result;try{v.createObjectStore(Iu,{keyPath:Qv})}catch(T){m(T)}}),D.addEventListener("success",(0,p.Z)(function*(){const v=D.result;v.objectStoreNames.contains(Iu)?g(v):(v.close(),yield function Da(){const D=indexedDB.deleteDatabase(Dg);return new gl(D).toPromise()}(),g(yield Cg()))}))})}function Jv(D,g,m){return(Cr=Cr||(0,p.Z)(function*(v,T,A){const R=Fh(v,!0).put({[Qv]:T,value:A});return new gl(R).toPromise()})).apply(this,arguments)}function ml(D,g){const m=Fh(D,!0).delete(g);return new gl(m).toPromise()}const Ws=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,p.Z)(function*(){return m.db||(m.db=yield Cg()),m.db})()}_withRetries(m){var v=this;return(0,p.Z)(function*(){let T=0;for(;;)try{const A=yield v._openDb();return yield m(A)}catch(A){if(T++>3)throw A;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,p.Z)(function*(){return pl()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,p.Z)(function*(){var v,T;m.receiver=Io._getInstance(function Yv(){return pl()?self:null}()),m.receiver._subscribe("keyChanged",function(A,R){return(v=v||(0,p.Z)(function*(V,q){return{keyProcessed:(yield m._poll()).includes(q.key)}})).apply(this,arguments)}),m.receiver._subscribe("ping",function(A,R){return(T=T||(0,p.Z)(function*(V,q){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var m=this;return(0,p.Z)(function*(){var v,T;if(m.activeServiceWorker=yield function Nh(){return(Dr=Dr||(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ph(m.activeServiceWorker);const A=yield m.sender._send("ping",{},800);A&&null!==(v=A[0])&&void 0!==v&&v.fulfilled&&null!==(T=A[0])&&void 0!==T&&T.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var v=this;return(0,p.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Wt(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:m},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Cg();return yield Jv(m,vo,"1"),yield ml(m,vo),!0}catch{}return!1})()}_withPendingWrite(m){var v=this;return(0,p.Z)(function*(){v.pendingWrites++;try{yield m()}finally{v.pendingWrites--}})()}_set(m,v){var T=this;return(0,p.Z)(function*(){return T._withPendingWrite((0,p.Z)(function*(){return yield T._withRetries(A=>Jv(A,m,v)),T.localCache[m]=v,T.notifyServiceWorker(m)}))})()}_get(m){var v=this;return(0,p.Z)(function*(){const T=yield v._withRetries(A=>function Ln(D,g){return(nr=nr||(0,p.Z)(function*(m,v){const T=Fh(m,!1).get(v),A=yield new gl(T).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}(A,m));return v.localCache[m]=T,T})()}_remove(m){var v=this;return(0,p.Z)(function*(){return v._withPendingWrite((0,p.Z)(function*(){return yield v._withRetries(T=>ml(T,m)),delete v.localCache[m],v.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,p.Z)(function*(){const v=yield m._withRetries(R=>{const V=Fh(R,!1).getAll();return new gl(V).toPromise()});if(!v)return[];if(0!==m.pendingWrites)return[];const T=[],A=new Set;for(const{fbase_key:R,value:V}of v)A.add(R),JSON.stringify(m.localCache[R])!==JSON.stringify(V)&&(m.notifyListeners(R,V),T.push(R));for(const R of Object.keys(m.localCache))m.localCache[R]&&!A.has(R)&&(m.notifyListeners(R,null),T.push(R));return T})()}notifyListeners(m,v){this.localCache[m]=v;const T=this.listeners[m];if(T)for(const A of Array.from(T))A(v)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(v)}_removeListener(m,v){this.listeners[m]&&(this.listeners[m].delete(v),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})(),_l=1e12;class e0{constructor(g){this.auth=g,this.counter=_l,this._widgets=new Map}render(g,m){const v=this.counter;return this._widgets.set(v,new Jr(g,this.auth.name,m||{})),this.counter++,v}reset(g){var m;const v=g||_l;null===(m=this._widgets.get(v))||void 0===m||m.delete(),this._widgets.delete(v)}getResponse(g){var m;return(null===(m=this._widgets.get(g||_l))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,p.Z)(function*(){var v;return null===(v=m._widgets.get(g||_l))||void 0===v||v.execute(),""})()}}class Jr{constructor(g,m,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof g?document.getElementById(g):g;we(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function gn(D){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<D;v++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vr=Yc("rcb"),dt=new on(3e4,6e4);class li{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=vn().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return we(function Sg(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(m),g,"argument-error"),this.shouldResolveImmediately(m)&&Xp(vn().grecaptcha)?Promise.resolve(vn().grecaptcha):new Promise((v,T)=>{const A=vn().setTimeout(()=>{T(ot(g,"network-request-failed"))},dt.get());vn()[Vr]=()=>{vn().clearTimeout(A),delete vn()[Vr];const V=vn().grecaptcha;if(!V||!Xp(V))return void T(ot(g,"internal-error"));const q=V.render;V.render=(he,rt)=>{const Ye=q(he,rt);return this.counter++,Ye},this.hostLanguage=m,v(V)},au(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Vr,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(A),T(ot(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=vn().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bu{load(g){return(0,p.Z)(function*(){return new e0(g)})()}clearedOneInstance(){}}const Xr="recaptcha",Ag={theme:"light",type:"image"};class Mg{constructor(g,m=Object.assign({},Ag),v){this.parameters=m,this.type=Xr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bt(v),this.isInvisible="invisible"===this.parameters.size,we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof g?document.getElementById(g):g;we(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bu:new li,this.validateStartingState()}verify(){var g=this;return(0,p.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),v=g.getAssertedRecaptcha();return v.getResponse(m)||new Promise(A=>{const R=V=>{V&&(g.tokenChangeListeners.delete(R),A(V))};g.tokenChangeListeners.add(R),g.isInvisible&&v.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(v=>v(m)),"function"==typeof g)g(m);else if("string"==typeof g){const v=vn()[g];"function"==typeof v&&v(m)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,p.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const v=document.createElement("div");m.appendChild(v),m=v}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,p.Z)(function*(){we(fo()&&!pl(),g.auth,"internal-error"),yield function vl(){let D=null;return new Promise(g=>{"complete"!==document.readyState?(D=()=>g(),window.addEventListener("load",D)):g()}).catch(g=>{throw D&&window.removeEventListener("load",D),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function Hv(D){return(Me=Me||(0,p.Z)(function*(g){return(yield un(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}(g.auth);we(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Co{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=ur._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Tu(D,g,m){return(br=br||(0,p.Z)(function*(v,T,A){const R=Bt(v),V=yield It(R,T,(0,F.m9)(A));return new Co(V,q=>Fn(R,q))})).apply(this,arguments)}function Ca(D,g,m){return(rr=rr||(0,p.Z)(function*(v,T,A){const R=(0,F.m9)(v);yield _a(!1,R,"phone");const V=yield It(R.auth,T,(0,F.m9)(A));return new Co(V,q=>ys(R,q))})).apply(this,arguments)}function bo(D,g,m){return(oa=oa||(0,p.Z)(function*(v,T,A){const R=(0,F.m9)(v),V=yield It(R.auth,T,(0,F.m9)(A));return new Co(V,q=>pn(R,q))})).apply(this,arguments)}function It(D,g,m){return(an=an||(0,p.Z)(function*(v,T,A){var R;const V=yield A.verify();try{let q;if(we("string"==typeof V,v,"argument-error"),we(A.type===Xr,v,"argument-error"),q="string"==typeof T?{phoneNumber:T}:T,"session"in q){const he=q.session;if("phoneNumber"in q)return we("enroll"===he.type,v,"internal-error"),(yield function Sh(D,g){return un(D,"POST","/v2/accounts/mfaEnrollment:start",St(D,g))}(v,{idToken:he.credential,phoneEnrollmentInfo:{phoneNumber:q.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{we("signin"===he.type,v,"internal-error");const rt=(null===(R=q.multiFactorHint)||void 0===R?void 0:R.uid)||q.multiFactorUid;return we(rt,v,"missing-multi-factor-info"),(yield function Tg(D,g){return un(D,"POST","/v2/accounts/mfaSignIn:start",St(D,g))}(v,{mfaPendingCredential:he.credential,mfaEnrollmentId:rt,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:he}=yield function ag(D,g){return(lo=lo||(0,p.Z)(function*(m,v){return un(m,"POST","/v1/accounts:sendVerificationCode",St(m,v))})).apply(this,arguments)}(v,{phoneNumber:q.phoneNumber,recaptchaToken:V});return he}}finally{A._reset()}})).apply(this,arguments)}function xg(D,g){return(Bi=Bi||(0,p.Z)(function*(m,v){yield el((0,F.m9)(m),v)})).apply(this,arguments)}let Lh=(()=>{class D{constructor(m){this.providerId=D.PROVIDER_ID,this.auth=Bt(m)}verifyPhoneNumber(m,v){return It(this.auth,m,(0,F.m9)(v))}static credential(m,v){return ur._fromVerification(m,v)}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:v,temporaryProof:T}=m;return v&&T?ur._fromTokenResponse(v,T):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function ei(D,g){return g?Di(g):(we(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class qs extends Wi{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return qi(g,this._buildIdpRequest())}_linkToIdToken(g,m){return qi(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return qi(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function lr(D){return fg(D.auth,new qs(D),D.bypassAuthState)}function Rg(D){const{auth:g,user:m}=D;return we(m,g,"internal-error"),wh(m,new qs(D),D.bypassAuthState)}function Vh(D){return(At=At||(0,p.Z)(function*(g){const{auth:m,user:v}=g;return we(v,m,"internal-error"),el(v,new qs(g),g.bypassAuthState)})).apply(this,arguments)}class Ks{constructor(g,m,v,T,A=!1){this.auth=g,this.resolver=v,this.user=T,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var m,g=this;return new Promise(function(v,T){return(m=m||(0,p.Z)(function*(A,R){g.pendingPromise={resolve:A,reject:R};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(V){g.reject(V)}})).apply(this,arguments)})}onAuthEvent(g){var m=this;return(0,p.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:A,tenantId:R,error:V,type:q}=g;if(V)return void m.reject(V);const he={auth:m.auth,requestUri:v,sessionId:T,tenantId:R||void 0,postBody:A||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(q)(he))}catch(rt){m.reject(rt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return lr;case"linkViaPopup":case"linkViaRedirect":return Vh;case"reauthViaPopup":case"reauthViaRedirect":return Rg;default:Ze(this.auth,"internal-error")}}resolve(g){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const To=new on(2e3,1e4);function ba(D,g,m){return(aa=aa||(0,p.Z)(function*(v,T,A){const R=Bt(v);Ht(v,T,fn);const V=ei(R,A);return new So(R,"signInViaPopup",T,V).executeNotNull()})).apply(this,arguments)}function t0(D,g,m){return(Jt=Jt||(0,p.Z)(function*(v,T,A){const R=(0,F.m9)(v);Ht(R.auth,T,fn);const V=ei(R.auth,A);return new So(R.auth,"reauthViaPopup",T,V,R).executeNotNull()})).apply(this,arguments)}function Su(D,g,m){return(ds=ds||(0,p.Z)(function*(v,T,A){const R=(0,F.m9)(v);Ht(R.auth,T,fn);const V=ei(R.auth,A);return new So(R.auth,"linkViaPopup",T,V,R).executeNotNull()})).apply(this,arguments)}let So=(()=>{class D extends Ks{constructor(m,v,T,A,R){super(m,v,A,R),this.provider=T,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var m=this;return(0,p.Z)(function*(){const v=yield m.execute();return we(v,m.auth,"internal-error"),v})()}onExecution(){var m=this;return(0,p.Z)(function*(){Ar(1===m.filter.length,"Popup operations only handle one event");const v=Yi();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],v),m.authWindow.associatedEvent=v,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(ot(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ot(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const m=()=>{var v,T;this.pollId=null!==(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ot(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,To.get())};m()}}return D.currentPopupAction=null,D})();const Og="pendingRedirect",Ta=new Map;class Au extends Ks{constructor(g,m,v=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,v),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,p.Z)(function*(){let v=Ta.get(m.auth._key());if(!v){try{const A=(yield function Sa(D,g){return(vi=vi||(0,p.Z)(function*(m,v){const T=Uh(v),A=Aa(m);if(!(yield A._isAvailable()))return!1;const R="true"===(yield A._get(T));return yield A._remove(T),R})).apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;v=()=>Promise.resolve(A)}catch(T){v=()=>Promise.reject(T)}Ta.set(m.auth._key(),v)}return m.bypassAuthState||Ta.set(m.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,v=this;return(0,p.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(v,g);if("unknown"!==g.type){if(g.eventId){const T=yield v.auth._redirectUserForId(g.eventId);if(T)return v.user=T,m().call(v,g);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Ur(D,g){return($i=$i||(0,p.Z)(function*(m,v){return Aa(m)._set(Uh(v),"true")})).apply(this,arguments)}function Mu(){Ta.clear()}function yr(D,g){Ta.set(D._key(),g)}function Aa(D){return Di(D._redirectPersistence)}function Uh(D){return la(Og,D.config.apiKey,D.name)}function xn(D,g,m){return function Ma(D,g,m){return(ji=ji||(0,p.Z)(function*(v,T,A){const R=Bt(v);Ht(v,T,fn),yield R._initializationPromise;const V=ei(R,A);return yield Ur(V,R),V._openRedirect(R,T,"signInViaRedirect")})).apply(this,arguments)}(D,g,m)}function Pg(D,g,m){return function Ji(D,g,m){return(Tr=Tr||(0,p.Z)(function*(v,T,A){const R=(0,F.m9)(v);Ht(R.auth,T,fn),yield R.auth._initializationPromise;const V=ei(R.auth,A);yield Ur(V,R.auth);const q=yield Xi(R);return V._openRedirect(R.auth,T,"reauthViaRedirect",q)})).apply(this,arguments)}(D,g,m)}function Hn(D,g,m){return function wl(D,g,m){return(Hi=Hi||(0,p.Z)(function*(v,T,A){const R=(0,F.m9)(v);Ht(R.auth,T,fn),yield R.auth._initializationPromise;const V=ei(R.auth,A);yield _a(!1,R,T.providerId),yield Ur(V,R.auth);const q=yield Xi(R);return V._openRedirect(R.auth,T,"linkViaRedirect",q)})).apply(this,arguments)}(D,g,m)}function Ng(D,g){return(hs=hs||(0,p.Z)(function*(m,v){return yield Bt(m)._initializationPromise,xa(m,v,!1)})).apply(this,arguments)}function xa(D,g){return(L=L||(0,p.Z)(function*(m,v,T=!1){const A=Bt(m),R=ei(A,v),q=yield new Au(A,R,T).execute();return q&&!T&&(delete q.user._redirectEventId,yield A._persistUserIfCurrent(q.user),yield A._setRedirectUser(null,v)),q})).apply(this,arguments)}function Xi(D){return(P=P||(0,p.Z)(function*(g){const m=Yi(`${g.uid}:::`);return g._redirectEventId=m,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),m})).apply(this,arguments)}class zn{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(g,v)&&(m=!0,this.sendToConsumer(g,v),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Bh(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kg(D);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var v;if(g.error&&!kg(g)){const T=(null===(v=g.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";m.onError(ot(this.auth,T))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const v=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&v}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Es(g))}saveEventToCache(g){this.cachedEventUids.add(Es(g)),this.lastProcessedEventTime=Date.now()}}function Es(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(g=>g).join("-")}function kg({type:D,error:g}){return"unknown"===D&&"auth/no-auth-event"===g?.code}function Ra(D){return($=$||(0,p.Z)(function*(g,m={}){return un(g,"GET","/v1/projects",m)})).apply(this,arguments)}const xu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$h=/^https?/;function Ru(D){const g=zi(),{protocol:m,hostname:v}=new URL(g);if(D.startsWith("chrome-extension://")){const R=new URL(D);return""===R.hostname&&""===v?"chrome-extension:"===m&&D.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&R.hostname===v}if(!$h.test(m))return!1;if(xu.test(D))return v===D;const T=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const pt=new on(3e4,6e4);function Mo(){const D=vn().___jsl;if(D?.H)for(const g of Object.keys(D.H))if(D.H[g].r=D.H[g].r||[],D.H[g].L=D.H[g].L||[],D.H[g].r=[...D.H[g].L],D.CP)for(let m=0;m<D.CP.length;m++)D.CP[m]=null}let es=null;const El=new on(5e3,15e3),Ti="__/auth/iframe",zh="emulator/auth/iframe",Gh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Il=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n0(D){const g=D.config;we(g.authDomain,D,"auth-domain-config-required");const m=g.emulator?Mr(g,zh):`https://${D.config.authDomain}/${Ti}`,v={apiKey:g.apiKey,appName:D.name,v:te.SDK_VERSION},T=Il.get(D.config.apiHost);T&&(v.eid=T);const A=D._getFrameworks();return A.length&&(v.fw=A.join(",")),`${m}?${(0,F.xO)(v).slice(1)}`}const wn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xo=500,Wh=600,Ou="_blank",Wn="http://localhost";class Ro{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Kh="__/auth/handler",Cl="emulator/auth/handler",Pu=encodeURIComponent("fac");function di(D,g,m,v,T,A){return(Te=Te||(0,p.Z)(function*(R,V,q,he,rt,Ye){we(R.config.authDomain,R,"auth-domain-config-required"),we(R.config.apiKey,R,"invalid-api-key");const at={apiKey:R.config.apiKey,appName:R.name,authType:q,redirectUrl:he,v:te.SDK_VERSION,eventId:rt};if(V instanceof fn){V.setDefaultLanguage(R.languageCode),at.providerId=V.providerId||"",(0,F.xb)(V.getCustomParameters())||(at.customParameters=JSON.stringify(V.getCustomParameters()));for(const[On,Qs]of Object.entries(Ye||{}))at[On]=Qs}if(V instanceof cr){const On=V.getScopes().filter(Qs=>""!==Qs);On.length>0&&(at.scopes=On.join(","))}R.tenantId&&(at.tid=R.tenantId);const qt=at;for(const On of Object.keys(qt))void 0===qt[On]&&delete qt[On];const Rn=yield R._getAppCheckToken(),Br=Rn?`#${Pu}=${encodeURIComponent(Rn)}`:"";return`${function kt({config:D}){return D.emulator?Mr(D,Cl):`https://${D.authDomain}/${Kh}`}(R)}?${(0,F.xO)(qt).slice(1)}${Br}`})).apply(this,arguments)}const Is="webStorageSupport",Ds=class Lg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eo,this._completeRedirectFn=xa,this._overrideRedirectResult=yr}_openPopup(g,m,v,T){var A=this;return(0,p.Z)(function*(){var R;Ar(null===(R=A.eventManagers[g._key()])||void 0===R?void 0:R.manager,"_initialize() not called before _openPopup()");const V=yield di(g,m,v,zi(),T);return function Dl(D,g,m,v=xo,T=Wh){const A=Math.max((window.screen.availHeight-T)/2,0).toString(),R=Math.max((window.screen.availWidth-v)/2,0).toString();let V="";const q=Object.assign(Object.assign({},wn),{width:v.toString(),height:T.toString(),top:A,left:R}),he=(0,F.z$)().toLowerCase();m&&(V=Yp(he)?Ou:m),ih(he)&&(g=g||Wn,q.scrollbars="yes");const rt=Object.entries(q).reduce((at,[qt,Rn])=>`${at}${qt}=${Rn},`,"");if(function Jp(D=(0,F.z$)()){var g;return Wc(D)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(he)&&"_self"!==V)return function qh(D,g){const m=document.createElement("a");m.href=D,m.target=g;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(v)}(g||"",V),new Ro(null);const Ye=window.open(g||"",V,rt);we(Ye,D,"popup-blocked");try{Ye.focus()}catch{}return new Ro(Ye)}(g,V,Yi())})()}_openRedirect(g,m,v,T){var A=this;return(0,p.Z)(function*(){return yield A._originValidation(g),function Do(D){vn().location.href=D}(yield di(g,m,v,zi(),T)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:T,promise:A}=this.eventManagers[m];return T?Promise.resolve(T):(Ar(A,"If manager is not set, promise should be"),A)}const v=this.initAndGetManager(g);return this.eventManagers[m]={promise:v},v.catch(()=>{delete this.eventManagers[m]}),v}initAndGetManager(g){var m=this;return(0,p.Z)(function*(){const v=yield function Gn(D){return(W=W||(0,p.Z)(function*(g){const m=yield function Hh(D){return es=es||function Fg(D){return new Promise((g,m)=>{var v,T,A;function R(){Mo(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Mo(),m(ot(D,"network-request-failed"))},timeout:pt.get()})}if(null!==(T=null===(v=vn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==T&&T.Iframe)g(gapi.iframes.getContext());else{if(null===(A=vn().gapi)||void 0===A||!A.load){const V=Yc("iframefcb");return vn()[V]=()=>{gapi.load?R():m(ot(D,"network-request-failed"))},au(`https://apis.google.com/js/api.js?onload=${V}`).catch(q=>m(q))}R()}}).catch(g=>{throw es=null,g})}(D),es}(g),v=vn().gapi;return we(v,g,"internal-error"),m.open({where:document.body,url:n0(g),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gh,dontclear:!0},T=>{var A;return new Promise(function(R,V){return(A=A||(0,p.Z)(function*(q,he){yield T.restyle({setHideOnLeave:!1});const rt=ot(g,"network-request-failed"),Ye=vn().setTimeout(()=>{he(rt)},El.get());function at(){vn().clearTimeout(Ye),q(T)}T.ping(at).then(at,()=>{he(rt)})})).apply(this,arguments)})})})).apply(this,arguments)}(g),T=new zn(g);return v.register("authEvent",A=>(we(A?.authEvent,g,"invalid-auth-event"),{status:T.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:T},m.iframes[g._key()]=v,T})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Is,{type:Is},T=>{var A;const R=null===(A=T?.[0])||void 0===A?void 0:A[Is];void 0!==R&&m(!!R),Ze(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function jh(D){return(se=se||(0,p.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:m}=yield Ra(g);for(const v of m)try{if(Ru(v))return}catch{}Ze(g,"unauthorized-domain")})).apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return qc()||sh()||Wc()}};class bl{constructor(g){this.factorId=g}_process(g,m,v){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,v);case"signin":return this._finalizeSignIn(g,m.credential);default:return sn("unexpected MultiFactorSessionType")}}}class ts extends bl{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ts(g)}_finalizeEnroll(g,m,v){return function hl(D,g){return un(D,"POST","/v2/accounts/mfaEnrollment:finalize",St(D,g))}(g,{idToken:m,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function yl(D,g){return un(D,"POST","/v2/accounts/mfaSignIn:finalize",St(D,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Tl=(()=>{class D{constructor(){}static assertion(m){return ts._fromCredential(m)}}return D.FACTOR_ID="phone",D})();var Ys="@firebase/auth";class Cs{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,p.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(v=>{g(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);m&&(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ml=(0,F.Pz)("authIdTokenMaxAge")||300;let Yh=null;const Vg=D=>{var g;return function(m){return(g=g||(0,p.Z)(function*(v){const T=v&&(yield v.getIdTokenResult()),A=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(A&&A>Ml)return;const R=T?.token;Yh!==R&&(Yh=R,yield fetch(D,{method:R?"POST":"DELETE",headers:R?{Authorization:`Bearer ${R}`}:{}}))})).apply(this,arguments)}};function ku(D=(0,te.getApp)()){const g=(0,te._getProvider)(D,"auth");if(g.isInitialized())return g.getImmediate();const m=function cu(D,g){const m=(0,te._getProvider)(D,"auth");if(m.isInitialized()){const T=m.getImmediate(),A=m.getOptions();if((0,F.vZ)(A,g??{}))return T;Ze(T,"already-initialized")}return m.initialize({options:g})}(D,{popupRedirectResolver:Ds,persistence:[Ws,Rh,Eo]}),v=(0,F.Pz)("authTokenSyncURL");if(v){const A=Vg(v);(function Dh(D,g,m){(0,F.m9)(D).beforeAuthStateChanged(g,m)})(m,A,()=>A(m.currentUser)),function cl(D,g,m,v){(0,F.m9)(D).onIdTokenChanged(g,m,v)}(m,R=>A(R))}const T=(0,F.q4)("auth");return T&&lh(m,`http://${T}`),m}!function Al(D){(0,te._registerComponent)(new ce.wA("auth",(g,{options:m})=>{const v=g.getProvider("app").getImmediate(),T=g.getProvider("heartbeat"),A=g.getProvider("app-check-internal"),{apiKey:R,authDomain:V}=v.options;we(R&&!R.includes(":"),"invalid-api-key",{appName:v.name});const q={apiKey:R,authDomain:V,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jv(D)},he=new ch(v,T,A,q);return function or(D,g){const m=g?.persistence||[],v=(Array.isArray(m)?m:[m]).map(Di);g?.errorMap&&D._updateErrorMap(g.errorMap),D._initializeWithPersistence(v,g?.popupRedirectResolver)}(he,m),he},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,v)=>{g.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new ce.wA("auth-internal",g=>{const m=Bt(g.getProvider("auth").getImmediate());return new Cs(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(Ys,"0.23.2",function No(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,te.registerVersion)(Ys,"0.23.2","esm2017")}("Browser")},2090:(yt,De,k)=>{k.d(De,{$s:()=>ji,BH:()=>ye,L:()=>Oe,LL:()=>be,P0:()=>Fe,Pz:()=>pe,Sg:()=>Le,UG:()=>it,US:()=>ce,ZB:()=>H,ZR:()=>Pe,aH:()=>xe,b$:()=>jt,eu:()=>ee,hl:()=>Y,jU:()=>Pt,m9:()=>hs,ne:()=>tn,pd:()=>Ui,q4:()=>_e,r3:()=>Nn,ru:()=>Qe,tV:()=>U,uI:()=>Ge,vZ:()=>ct,w1:()=>co,xO:()=>$n,xb:()=>Kr,z$:()=>Ne,zI:()=>ne,zd:()=>Ls});const de=function(L){const P=[];let $=0;for(let se=0;se<L.length;se++){let W=L.charCodeAt(se);W<128?P[$++]=W:W<2048?(P[$++]=W>>6|192,P[$++]=63&W|128):55296==(64512&W)&&se+1<L.length&&56320==(64512&L.charCodeAt(se+1))?(W=65536+((1023&W)<<10)+(1023&L.charCodeAt(++se)),P[$++]=W>>18|240,P[$++]=W>>12&63|128,P[$++]=W>>6&63|128,P[$++]=63&W|128):(P[$++]=W>>12|224,P[$++]=W>>6&63|128,P[$++]=63&W|128)}return P},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(L,P){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[];for(let W=0;W<L.length;W+=3){const Te=L[W],Dt=W+1<L.length,Xt=Dt?L[W+1]:0,jn=W+2<L.length,Tn=jn?L[W+2]:0;let Sr=(15&Xt)<<2|Tn>>6,si=63&Tn;jn||(si=64,Dt||(Sr=64)),se.push($[Te>>2],$[(3&Te)<<4|Xt>>4],$[Sr],$[si])}return se.join("")},encodeString(L,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(L):this.encodeByteArray(de(L),P)},decodeString(L,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(L):function(L){const P=[];let $=0,se=0;for(;$<L.length;){const W=L[$++];if(W<128)P[se++]=String.fromCharCode(W);else if(W>191&&W<224){const Te=L[$++];P[se++]=String.fromCharCode((31&W)<<6|63&Te)}else if(W>239&&W<365){const jn=((7&W)<<18|(63&L[$++])<<12|(63&L[$++])<<6|63&L[$++])-65536;P[se++]=String.fromCharCode(55296+(jn>>10)),P[se++]=String.fromCharCode(56320+(1023&jn))}else{const Te=L[$++],Dt=L[$++];P[se++]=String.fromCharCode((15&W)<<12|(63&Te)<<6|63&Dt)}}return P.join("")}(this.decodeStringToByteArray(L,P))},decodeStringToByteArray(L,P){this.init_();const $=P?this.charToByteMapWebSafe_:this.charToByteMap_,se=[];for(let W=0;W<L.length;){const Te=$[L.charAt(W++)],Xt=W<L.length?$[L.charAt(W)]:0;++W;const Tn=W<L.length?$[L.charAt(W)]:64;++W;const Ut=W<L.length?$[L.charAt(W)]:64;if(++W,null==Te||null==Xt||null==Tn||null==Ut)throw new Re;se.push(Te<<2|Xt>>4),64!==Tn&&(se.push(Xt<<4&240|Tn>>2),64!==Ut&&se.push(Tn<<6&192|Ut))}return se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oe=function(L){return function(L){const P=de(L);return ce.encodeByteArray(P,!0)}(L).replace(/\./g,"")},U=function(L){try{return ce.decodeString(L,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function H(L,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return P}for(const $ in P)!P.hasOwnProperty($)||!ke($)||(L[$]=H(L[$],P[$]));return L}function ke(L){return"__proto__"!==L}const Me=()=>{try{return function Ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const L=process.env.__FIREBASE_DEFAULTS__;return L?JSON.parse(L):void 0})()||(()=>{if(typeof document>"u")return;let L;try{L=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=L&&U(L[1]);return P&&JSON.parse(P)})()}catch(L){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${L}`)}},_e=L=>{var P,$;return null===($=null===(P=Me())||void 0===P?void 0:P.emulatorHosts)||void 0===$?void 0:$[L]},Fe=L=>{const P=_e(L);if(!P)return;const $=P.lastIndexOf(":");if($<=0||$+1===P.length)throw new Error(`Invalid host ${P} with no separate hostname and port!`);const se=parseInt(P.substring($+1),10);return"["===P[0]?[P.substring(1,$-1),se]:[P.substring(0,$),se]},xe=()=>{var L;return null===(L=Me())||void 0===L?void 0:L.config},pe=L=>{var P;return null===(P=Me())||void 0===P?void 0:P[`_${L}`]};class ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,$)=>{this.resolve=P,this.reject=$})}wrapCallback(P){return($,se)=>{$?this.reject($):this.resolve(se),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P($):P($,se))}}}function Le(L,P){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const se=P||"demo-project",W=L.iat||0,Te=L.sub||L.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dt=Object.assign({iss:`https://securetoken.google.com/${se}`,aud:se,iat:W,exp:W+3600,auth_time:W,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},L);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(Dt)),""].join(".")}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function it(){var L;const P=null===(L=Me())||void 0===L?void 0:L.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Pt(){return"object"==typeof self&&self.self===self}function Qe(){const L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function jt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function co(){const L=Ne();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function Y(){try{return"object"==typeof indexedDB}catch{return!1}}function ee(){return new Promise((L,P)=>{try{let $=!0;const se="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(se);W.onsuccess=()=>{W.result.close(),$||self.indexedDB.deleteDatabase(se),L(!0)},W.onupgradeneeded=()=>{$=!1},W.onerror=()=>{var Te;P((null===(Te=W.error)||void 0===Te?void 0:Te.message)||"")}}catch($){P($)}})}function ne(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Pe extends Error{constructor(P,$,se){super($),this.code=P,this.customData=se,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,be.prototype.create)}}class be{constructor(P,$,se){this.service=P,this.serviceName=$,this.errors=se}create(P,...$){const se=$[0]||{},W=`${this.service}/${P}`,Te=this.errors[P],Dt=Te?function ht(L,P){return L.replace(tt,($,se)=>{const W=P[se];return null!=W?String(W):`<${se}?>`})}(Te,se):"Error";return new Pe(W,`${this.serviceName}: ${Dt} (${W}).`,se)}}const tt=/\{\$([^}]+)}/g;function Nn(L,P){return Object.prototype.hasOwnProperty.call(L,P)}function Kr(L){for(const P in L)if(Object.prototype.hasOwnProperty.call(L,P))return!1;return!0}function ct(L,P){if(L===P)return!0;const $=Object.keys(L),se=Object.keys(P);for(const W of $){if(!se.includes(W))return!1;const Te=L[W],Dt=P[W];if(Vi(Te)&&Vi(Dt)){if(!ct(Te,Dt))return!1}else if(Te!==Dt)return!1}for(const W of se)if(!$.includes(W))return!1;return!0}function Vi(L){return null!==L&&"object"==typeof L}function $n(L){const P=[];for(const[$,se]of Object.entries(L))Array.isArray(se)?se.forEach(W=>{P.push(encodeURIComponent($)+"="+encodeURIComponent(W))}):P.push(encodeURIComponent($)+"="+encodeURIComponent(se));return P.length?"&"+P.join("&"):""}function Ls(L){const P={};return L.replace(/^\?/,"").split("&").forEach(se=>{if(se){const[W,Te]=se.split("=");P[decodeURIComponent(W)]=decodeURIComponent(Te)}}),P}function Ui(L){const P=L.indexOf("?");if(!P)return"";const $=L.indexOf("#",P);return L.substring(P,$>0?$:void 0)}function tn(L,P){const $=new ft(L,P);return $.subscribe.bind($)}class ft{constructor(P,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{P(this)}).catch(se=>{this.error(se)})}next(P){this.forEachObserver($=>{$.next(P)})}error(P){this.forEachObserver($=>{$.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,$,se){let W;if(void 0===P&&void 0===$&&void 0===se)throw new Error("Missing Observer.");W=function Dr(L,P){if("object"!=typeof L||null===L)return!1;for(const $ of P)if($ in L&&"function"==typeof L[$])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:$,complete:se},void 0===W.next&&(W.next=Cr),void 0===W.error&&(W.error=Cr),void 0===W.complete&&(W.complete=Cr);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),Te}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,P)}sendOne(P,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{$(this.observers[P])}catch(se){typeof console<"u"&&console.error&&console.error(se)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cr(){}const Jt=1e3,ds=2,vi=144e5,$i=.5;function ji(L,P=Jt,$=ds){const se=P*Math.pow($,L),W=Math.round($i*se*(Math.random()-.5)*2);return Math.min(vi,se+W)}function hs(L){return L&&L._delegate?L._delegate:L}},6099:(yt,De,k)=>{var p=k(4650);let F=null;function te(){return F}class fe{}const ce=new p.OlP("DocumentToken");let Re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return function Ie(){return(0,p.LFG)(U)}()},providedIn:"platform"}),n})();const Oe=new p.OlP("Location Initialized");let U=(()=>{class n extends Re{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(t){const r=te().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=te().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){B()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){B()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ce))},n.\u0275prov=p.Yz7({token:n,factory:function(){return function H(){return new U((0,p.LFG)(ce))}()},providedIn:"platform"}),n})();function B(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let et=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(Me)},providedIn:"root"}),n})();const J=new p.OlP("appBaseHref");let Me=(()=>{class n extends et{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+qe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+qe(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+qe(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Re),p.LFG(J,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_e=(()=>{class n extends et{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+qe(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+qe(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Re),p.LFG(J,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Le(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ce(ye(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qe(r))}normalize(t){return n.stripTrailingSlash(function pe(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ye(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=qe,n.joinWithSlash=ke,n.stripTrailingSlash=Ce,n.\u0275fac=function(t){return new(t||n)(p.LFG(et))},n.\u0275prov=p.Yz7({token:n,factory:function(){return function xe(){return new Fe((0,p.LFG)(et))}()},providedIn:"root"}),n})();function ye(n){return n.replace(/\/index.html$/,"")}let go=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new wt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ua("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ua("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class wt{constructor(){this.$implicit=null,this.ngIf=null}}function ua(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,p.AaK)(e)}'.`)}let Bv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();let Zc=(()=>{class n{}return n.\u0275prov=(0,p.Yz7)({token:n,providedIn:"root",factory:()=>new eg((0,p.LFG)(ce),window)}),n})();class eg{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Yc(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=au(this.window.history)||au(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function au(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class yu extends fe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _u extends yu{static makeCurrent(){!function de(n){F||(F=n)}(new _u)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function _o(){return wa=wa||document.querySelector("base"),wa?wa.getAttribute("href"):null}();return null==t?null:function pg(n){_s=_s||document.createElement("a"),_s.setAttribute("href",n);const e=_s.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function fo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let _s,wa=null;const gg=new p.OlP("TRANSITION_ID"),Kv=[{provide:p.ip1,useFactory:function il(n,e,t){return()=>{t.get(p.CZH).donePromise.then(()=>{const r=te(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[gg,ce,p.zs3],multi:!0}];let yg=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const sl=new p.OlP("EventManagerPlugins");let ol=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(sl),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class vu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=te().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let al=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let u=i.get(t)??0;return u+=r,u>0?i.set(t,u):i.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),js=(()=>{class n extends al{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const u=this.styleRef.get(r);u?u.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ce))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Hs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ki=/%COMP%/g,Ia=new p.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function cl(n,e){return e.flat(100).map(t=>t.replace(Ki,n))}function Dh(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ci=(()=>{class n{constructor(t,r,i,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new Ch(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Th?i.applyToHost(t):i instanceof zs&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let u=i.get(r.id);if(!u){const c=this.eventManager,f=this.sharedStylesHost,y=this.removeStylesOnCompDestory;switch(r.encapsulation){case p.ifc.Emulated:u=new Th(c,f,r,this.appId,y);break;case p.ifc.ShadowDom:return new Zi(c,f,t,r);default:u=new zs(c,f,r,y)}u.onDestroy=()=>i.delete(r.id),i.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ol),p.LFG(js),p.LFG(p.AFp),p.LFG(Ia))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class Ch{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Hs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(bh(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(bh(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Hs[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Hs[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(p.JOm.DashCase|p.JOm.Important)?e.style.setProperty(t,r,i&p.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&p.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Dh(r)):this.eventManager.addEventListener(e,t,Dh(r))}}function bh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Zi extends Ch{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=cl(i.id,i.styles);for(const c of u){const f=document.createElement("style");f.textContent=c,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zs extends Ch{constructor(e,t,r,i,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=cl(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Th extends zs{constructor(e,t,r,i,u){const c=i+"-"+r.id;super(e,t,r,u,c),this.contentAttr=function pC(n){return"_ngcontent-%COMP%".replace(Ki,n)}(c),this.hostAttr=function vg(n){return"_nghost-%COMP%".replace(Ki,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Sh=(()=>{class n extends vu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ce))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const hl=["alt","control","meta","shift"],wg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ah={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Eg=(()=>{class n extends vu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>te().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),hl.forEach(E=>{const C=r.indexOf(E);C>-1&&(r.splice(C,1),c+=E+".")}),c+=u,0!=r.length||0===u.length)return null;const y={};return y.domEventName=i,y.fullKey=c,y}static matchEventFullKeyCode(t,r){let i=wg[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),hl.forEach(c=>{c!==i&&(0,Ah[c])(t)&&(u+=c+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ce))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Rh=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function wo(){_u.makeCurrent()},multi:!0},{provide:ce,useFactory:function xh(){return(0,p.RDi)(document),document},deps:[]}]),Oh=new p.OlP(""),Eo=[{provide:p.rWj,useClass:class mg{addToWindow(e){p.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},p.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(r=>{const i=p.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const f=function(y){c=c||y,u--,0==u&&r(c)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?te().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],Gs=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function Ig(){return new p.qLn},deps:[]},{provide:sl,useClass:Sh,multi:!0,deps:[ce,p.R0b,p.Lbi]},{provide:sl,useClass:Eg,multi:!0,deps:[ce]},{provide:ci,useClass:ci,deps:[ol,js,p.AFp,Ia]},{provide:p.FYo,useExisting:ci},{provide:al,useExisting:js},{provide:js,useClass:js,deps:[ce]},{provide:ol,useClass:ol,deps:[sl,p.R0b]},{provide:class ng{},useClass:yg,deps:[]},[]];let Io=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:p.AFp,useValue:t.appId},{provide:gg,useExisting:p.AFp},Kv]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Oh,12))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[...Gs,...Eo],imports:[Bv,p.hGG]}),n})(),pl=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ce))},n.\u0275prov=p.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Do(){return new pl((0,p.LFG)(ce))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var gn=k(8996),Vr=k(7669);function dt(...n){const e=(0,Vr.yG)(n);return(0,gn.D)(n,e)}var Qi=k(7579);class li extends Qi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const bu=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Xr=k(9751);const{isArray:Ag}=Array,{getPrototypeOf:Mg,prototype:vl,keys:Co}=Object;function Tu(n){if(1===n.length){const e=n[0];if(Ag(e))return{args:e,keys:null};if(function Ca(n){return n&&"object"==typeof n&&Mg(n)===vl}(e)){const t=Co(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var bo=k(4671),It=k(4004);const{isArray:xg}=Array;function ei(n){return(0,It.U)(e=>function Lh(n,e){return xg(e)?n(...e):n(e)}(n,e))}function qs(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var lr=k(5403),Rg=k(9672);function Vh(...n){const e=(0,Vr.yG)(n),t=(0,Vr.jO)(n),{args:r,keys:i}=Tu(n);if(0===r.length)return(0,gn.D)([],e);const u=new Xr.y(function Ks(n,e,t=bo.y){return r=>{To(e,()=>{const{length:i}=n,u=new Array(i);let c=i,f=i;for(let y=0;y<i;y++)To(e,()=>{const E=(0,gn.D)(n[y],e);let C=!1;E.subscribe((0,lr.x)(r,S=>{u[y]=S,C||(C=!0,f--),f||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>qs(i,c):bo.y));return t?u.pipe(ei(t)):u}function To(n,e,t){n?(0,Rg.f)(t,n,e):e()}var ba=k(8189);function Su(...n){return function t0(){return(0,ba.J)(1)}()((0,gn.D)(n,(0,Vr.yG)(n)))}var So=k(8421);function Og(n){return new Xr.y(e=>{(0,So.Xf)(n()).subscribe(e)})}var Ta=k(9635),Au=k(576);function Sa(n,e){const t=(0,Au.m)(n)?n:()=>n,r=i=>i.error(t());return new Xr.y(e?i=>e.schedule(r,0,i):r)}var Ur=k(515),Mu=k(727),yr=k(4482);function Aa(){return(0,yr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,lr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Uh extends Xr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,yr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Mu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,lr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Mu.w0.EMPTY)}return e}refCount(){return Aa()(this)}}function xn(n,e){return(0,yr.e)((t,r)=>{let i=null,u=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,lr.x)(r,y=>{i?.unsubscribe();let E=0;const C=u++;(0,So.Xf)(n(y,C)).subscribe(i=(0,lr.x)(r,S=>r.next(e?e(y,S,C,E++):S),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function Ma(n){return n<=0?()=>Ur.E:(0,yr.e)((e,t)=>{let r=0;e.subscribe((0,lr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ji(n,e){return(0,yr.e)((t,r)=>{let i=0;t.subscribe((0,lr.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var Hn=k(5577);function wl(n){return(0,yr.e)((e,t)=>{let r=!1;e.subscribe((0,lr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ng(n=xa){return(0,yr.e)((e,t)=>{let r=!1;e.subscribe((0,lr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function xa(){return new bu}function Xi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ji((i,u)=>n(i,u,r)):bo.y,Ma(1),t?wl(e):Ng(()=>new bu))}function Ao(n,e){return(0,Au.m)(e)?(0,Hn.z)(n,e,1):(0,Hn.z)(n,1)}function zn(n,e,t){const r=(0,Au.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,yr.e)((i,u)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let f=!0;i.subscribe((0,lr.x)(u,y=>{var E;null===(E=r.next)||void 0===E||E.call(r,y),u.next(y)},()=>{var y;f=!1,null===(y=r.complete)||void 0===y||y.call(r),u.complete()},y=>{var E;f=!1,null===(E=r.error)||void 0===E||E.call(r,y),u.error(y)},()=>{var y,E;f&&(null===(y=r.unsubscribe)||void 0===y||y.call(r)),null===(E=r.finalize)||void 0===E||E.call(r)}))}):bo.y}function Es(n){return(0,yr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,lr.x)(t,void 0,void 0,c=>{u=(0,So.Xf)(n(c,Es(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Bh(n,e){return(0,yr.e)(function kg(n,e,t,r,i){return(u,c)=>{let f=t,y=e,E=0;u.subscribe((0,lr.x)(c,C=>{const S=E++;y=f?n(y,C,S):(f=!0,C),r&&c.next(y)},i&&(()=>{f&&c.next(y),c.complete()})))}}(n,e,arguments.length>=2,!0))}function Ra(n){return n<=0?()=>Ur.E:(0,yr.e)((e,t)=>{let r=[];e.subscribe((0,lr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function xu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ji((i,u)=>n(i,u,r)):bo.y,Ra(1),t?wl(e):Ng(()=>new bu))}function Ru(n){return(0,yr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const pt="primary",Mo=Symbol("RouteTitle");class Fg{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function es(n){return new Fg(n)}function Hh(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],f=n[u];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ti(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!zh(n[i],e[i]))return!1;return!0}function zh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function Gh(n){return Array.prototype.concat.apply([],n)}function Il(n){return n.length>0?n[n.length-1]:null}function Gn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function wn(n){return(0,p.CqO)(n)?n:(0,p.QGY)(n)?(0,gn.D)(Promise.resolve(n)):dt(n)}const xo=!1,Wh={exact:function Dl(n,e,t){if(!Ds(n.segments,e.segments)||!Pu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Dl(n.children[r],e.children[r],t))return!1;return!0},subset:Kh},Ou={exact:function Ro(n,e){return Ti(n,e)},subset:function qh(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>zh(n[t],e[t]))},ignored:()=>!0};function Wn(n,e,t){return Wh[t.paths](n.root,e.root,t.matrixParams)&&Ou[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Kh(n,e,t){return Cl(n,e,e.segments,t)}function Cl(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ds(i,t)||e.hasChildren()||!Pu(i,t,r))}if(n.segments.length===t.length){if(!Ds(n.segments,t)||!Pu(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Kh(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Ds(n.segments,i)&&Pu(n.segments,i,r)&&n.children[pt])&&Cl(n.children[pt],e,u,r)}}function Pu(n,e,t){return e.every((r,i)=>Ou[t](n[i].parameters,r.parameters))}class di{constructor(e=new kt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=es(this.queryParams)),this._queryParamMap}toString(){return Nu.serialize(this)}}class kt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Gn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oo(this)}}class Is{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=es(this.parameters)),this._parameterMap}toString(){return Zh(this)}}function Ds(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ts=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return new Tl},providedIn:"root"}),n})();class Tl{parse(e){const t=new T(e);return new di(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Po(e.root,!0)}`,r=function Yh(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ys(t)}=${Ys(i)}`).join("&"):`${Ys(t)}=${Ys(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Sl(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Nu=new Tl;function Oo(n){return n.segments.map(e=>Zh(e)).join("/")}function Po(n,e){if(!n.hasChildren())return Oo(n);if(e){const t=n.children[pt]?Po(n.children[pt],!1):"",r=[];return Gn(n.children,(i,u)=>{u!==pt&&r.push(`${u}:${Po(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function bl(n,e){let t=[];return Gn(n.children,(r,i)=>{i===pt&&(t=t.concat(e(r,i)))}),Gn(n.children,(r,i)=>{i!==pt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===pt?[Po(n.children[pt],!1)]:[`${i}:${Po(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pt]?`${Oo(n)}/${t[0]}`:`${Oo(n)}/(${t.join("//")})`}}function Zs(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ys(n){return Zs(n).replace(/%3B/gi,";")}function Cs(n){return Zs(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function No(n){return decodeURIComponent(n)}function Al(n){return No(n.replace(/\+/g,"%20"))}function Zh(n){return`${Cs(n.path)}${function Ml(n){return Object.keys(n).map(e=>`;${Cs(e)}=${Cs(n[e])}`).join("")}(n.parameters)}`}const Vg=/^[^\/()?;=#]+/;function ku(n){const e=n.match(Vg);return e?e[0]:""}const D=/^[^=?&#]+/,m=/^[^&#]+/;class T{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pt]=new kt(e,t)),r}parseSegment(){const e=ku(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new p.vHH(4009,xo);return this.capture(e),new Is(No(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ku(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ku(this.remaining);i&&(r=i,this.capture(r))}e[No(t)]=No(r)}parseQueryParam(e){const t=function g(n){const e=n.match(D);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function v(n){const e=n.match(m);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Al(t),u=Al(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ku(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new p.vHH(4010,xo);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=pt);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[pt]:new kt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new p.vHH(4011,xo)}}function A(n){return n.segments.length>0?new kt([],{[pt]:n}):n}function R(n){const e={};for(const r of Object.keys(n.children)){const u=R(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function V(n){if(1===n.numberOfChildren&&n.children[pt]){const e=n.children[pt];return new kt(n.segments.concat(e.segments),e.children)}return n}(new kt(n.segments,e))}function q(n){return n instanceof di}const he=!1;function qt(n,e,t,r,i){if(0===t.length)return On(e.root,e.root,e.root,r,i);const u=function Oa(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Fu(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return Gn(u.outlets,(y,E)=>{f[E]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,u]},[]);return new Fu(t,e,r)}(t);return u.toRoot()?On(e.root,e.root,new kt([],{}),r,i):function c(y){const E=function Vu(n,e,t,r){if(n.isAbsolute)return new bs(e.root,!0,0);if(-1===r)return new bs(t,t===e.root,0);return function ko(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new p.vHH(4005,he&&"Invalid number of '../'");i=r.segments.length}return new bs(r,!1,i-u)}(t,r+(Rn(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,y),C=E.processChildren?Ts(E.segmentGroup,E.index,u.commands):Fo(E.segmentGroup,E.index,u.commands);return On(e.root,E.segmentGroup,C,r,i)}(n.snapshot?._lastPathIndex)}function Rn(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Br(n){return"object"==typeof n&&null!=n&&n.outlets}function On(n,e,t,r,i){let c,u={};r&&Gn(r,(y,E)=>{u[E]=Array.isArray(y)?y.map(C=>`${C}`):`${y}`}),c=n===e?t:Qs(n,e,t);const f=A(R(c));return new di(f,u,i)}function Qs(n,e,t){const r={};return Gn(n.children,(i,u)=>{r[u]=i===e?t:Qs(i,e,t)}),new kt(n.segments,r)}class Fu{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Rn(r[0]))throw new p.vHH(4003,he&&"Root segment cannot have matrix parameters");const i=r.find(Br);if(i&&i!==Il(r))throw new p.vHH(4004,he&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bs{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Fo(n,e,t){if(n||(n=new kt([],{})),0===n.segments.length&&n.hasChildren())return Ts(n,e,t);const r=function Ug(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],f=t[r];if(Br(f))break;const y=`${f}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&E&&"object"==typeof E&&void 0===E.outlets){if(!Bg(y,E,c))return u;r+=2}else{if(!Bg(y,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new kt(n.segments.slice(0,r.pathIndex),{});return u.children[pt]=new kt(n.segments.slice(r.pathIndex),n.children),Ts(u,0,i)}return r.match&&0===i.length?new kt(n.segments,{}):r.match&&!n.hasChildren()?xl(n,e,t):r.match?Ts(n,0,i):xl(n,e,t)}function Ts(n,e,t){if(0===t.length)return new kt(n.segments,{});{const r=function Uu(n){return Br(n[0])?n[0].outlets:{[pt]:n}}(t),i={};if(!r[pt]&&n.children[pt]&&1===n.numberOfChildren&&0===n.children[pt].segments.length){const u=Ts(n.children[pt],e,t);return new kt(n.segments,u.children)}return Gn(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=Fo(n.children[c],e,u))}),Gn(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new kt(n.segments,i)}}function xl(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Br(u)){const y=Rl(u.outlets);return new kt(r,y)}if(0===i&&Rn(t[0])){r.push(new Is(n.segments[e].path,r0(t[0]))),i++;continue}const c=Br(u)?u.outlets[pt]:`${u}`,f=i<t.length-1?t[i+1]:null;c&&f&&Rn(f)?(r.push(new Is(c,r0(f))),i+=2):(r.push(new Is(c,{})),i++)}return new kt(r,{})}function Rl(n){const e={};return Gn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=xl(new kt([],{}),0,t))}),e}function r0(n){const e={};return Gn(n,(t,r)=>e[r]=`${t}`),e}function Bg(n,e,t){return n==t.path&&Ti(e,t.parameters)}const Ol="imperative";class Ss{constructor(e,t){this.id=e,this.url=t}}class $g extends Ss{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lo extends Ss{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pl extends Ss{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pa extends Ss{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Nl extends Ss{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bu extends Ss{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mC extends Ss{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yC extends Ss{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lx extends Ss{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _C extends Ss{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vC{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class s0{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qh{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hg{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zg{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let wC=(()=>{class n{createUrlTree(t,r,i,u,c,f){return qt(t||r.root,i,u,c,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),IC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(e){return wC.\u0275fac(e)},providedIn:"root"}),n})();class c0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Gg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Gg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=As(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return As(e,this._root).map(t=>t.value)}}function Gg(n,e){if(n===e.value)return e;for(const t of e.children){const r=Gg(n,t);if(r)return r}return null}function As(n,e){if(n===e.value)return[e];for(const t of e.children){const r=As(n,t);if(r.length)return r.unshift(e),r}return[]}class hi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function $u(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class DC extends c0{constructor(e,t){super(e),this.snapshot=t,Wg(this,e)}toString(){return this.snapshot.toString()}}function CC(n,e){const t=function dx(n,e){const c=new Jh([],{},{},"",{},pt,e,null,n.root,-1,{});return new d0("",new hi(c,[]))}(n,e),r=new li([new Is("",{})]),i=new li({}),u=new li({}),c=new li({}),f=new li(""),y=new kl(r,i,c,f,u,pt,e,t.root);return y.snapshot=t.root,new DC(new hi(y,[]),t)}class kl{constructor(e,t,r,i,u,c,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,It.U)(E=>E[Mo]))??dt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(e=>es(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(e=>es(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bC(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function l0(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Jh{get title(){return this.data?.[Mo]}constructor(e,t,r,i,u,c,f,y,E,C,S){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=f,this.routeConfig=y,this._urlSegment=E,this._lastPathIndex=C,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=es(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=es(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class d0 extends c0{constructor(e,t){super(t),this.url=e,Wg(this,t)}toString(){return h0(this._root)}}function Wg(n,e){e.value._routerState=n,e.children.forEach(t=>Wg(n,t))}function h0(n){const e=n.children.length>0?` { ${n.children.map(h0).join(", ")} } `:"";return`${n.value}${e}`}function Fl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ti(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ti(e.params,t.params)||n.params.next(t.params),function El(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ti(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ti(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ns(n,e){const t=Ti(n.params,e.params)&&function Lg(n,e){return Ds(n,e)&&n.every((t,r)=>Ti(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ns(n.parent,e.parent))}function ju(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function f0(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ju(n,r,i);return ju(n,r)})}(n,e,t);return new hi(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>ju(n,f)),c}}const r=function p0(n){return new kl(new li(n.url),new li(n.params),new li(n.queryParams),new li(n.fragment),new li(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>ju(n,u));return new hi(r,i)}}const g0="ngNavigationCancelingError";function TC(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=q(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=SC(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function SC(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[g0]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Xh(n){return ef(n)&&q(n.url)}function ef(n){return n&&n[g0]}class hx{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new tf,this.attachRef=null}}let tf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hx,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vl=!1;let qg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=pt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(tf),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Vl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Vl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Vl);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new p.vHH(4013,Vl);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new AC(t,f,i.injector);if(r&&function MC(n){return!!n.resolveComponentFactory}(r)){const E=r.resolveComponentFactory(c);this.activated=i.createComponent(E,i.length,y)}else this.activated=i.createComponent(c,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),n})();class AC{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===kl?this.route:e===tf?this.childContexts:this.parent.get(e,t)}}let Kg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(t,r){1&t&&p._UZ(0,"router-outlet")},dependencies:[qg],encapsulation:2}),n})();function Zg(n,e){return n.providers&&!n._injector&&(n._injector=(0,p.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function nf(n){const e=n.children&&n.children.map(nf),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pt&&(t.component=Kg),t}function Si(n){return n.outlet||pt}function _0(n,e){const t=n.filter(r=>Si(r)===e);return t.push(...n.filter(r=>Si(r)!==e)),t}function Ul(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class v0{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Fl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=$u(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),Gn(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=$u(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=$u(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=$u(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new o0(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Qh(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(Fl(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),Fl(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=Ul(i.snapshot),y=f?.get(p._Vd)??null;c.attachRef=null,c.route=i,c.resolver=y,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class PC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qg{constructor(e,t){this.component=e,this.route=t}}function Bl(n,e,t){const r=n._root;return Hu(r,e?e._root:null,t,[r.value])}function Na(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,p.Z0I)(n)?e.get(n):n:r}function Hu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=$u(e);return n.children.forEach(c=>{(function w0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const y=function gx(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ds(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ds(n.url,e.url)||!Ti(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ns(n,e)||!Ti(n.queryParams,e.queryParams);default:return!ns(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new PC(r)):(u.data=c.data,u._resolvedData=c._resolvedData),Hu(n,e,u.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Qg(f.outlet.component,c))}else c&&$l(e,f,i),i.canActivateChecks.push(new PC(r)),Hu(n,null,u.component?f?f.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),Gn(u,(c,f)=>$l(c,t.getContext(f),i)),i}function $l(n,e,t){const r=$u(n),i=n.value;Gn(r,(u,c)=>{$l(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Qg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zu(n){return"function"==typeof n}function Js(n){return n instanceof bu||"EmptyError"===n?.name}const rf=Symbol("INITIAL_VALUE");function Vo(){return xn(n=>Vh(n.map(e=>e.pipe(Ma(1),function Pg(...n){const e=(0,Vr.yG)(n);return(0,yr.e)((t,r)=>{(e?Su(n,t,e):Su(n,t)).subscribe(r)})}(rf)))).pipe((0,It.U)(e=>{for(const t of e)if(!0!==t){if(t===rf)return rf;if(!1===t||t instanceof di)return t}return!0}),Ji(e=>e!==rf),Ma(1)))}function im(n){return(0,Ta.z)(zn(e=>{if(q(e))throw TC(0,e)}),(0,It.U)(e=>!0===e))}const sm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function C0(n,e,t,r,i){const u=om(n,e,t);return u.matched?function Gu(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?dt(i.map(c=>{const f=Na(c,n);return wn(function tm(n){return n&&zu(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Vo(),im()):dt(!0)}(r=Zg(e,r),e,t).pipe((0,It.U)(c=>!0===c?u:{...sm})):dt(u)}function om(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...sm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Hh)(t,n,e);if(!i)return{...sm};const u={};Gn(i.posParams,(f,y)=>{u[y]=f.path});const c=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Wu(n,e,t,r){if(t.length>0&&function BC(n,e,t){return t.some(r=>am(n,e,r)&&Si(r)!==pt)}(n,t,r)){const u=new kt(e,function b0(n,e,t,r){const i={};i[pt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Si(u)!==pt){const c=new kt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Si(u)]=c}return i}(n,e,r,new kt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function T0(n,e,t){return t.some(r=>am(n,e,r))}(n,t,r)){const u=new kt(n.segments,function UC(n,e,t,r,i){const u={};for(const c of r)if(am(n,t,c)&&!i[Si(c)]){const f=new kt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,u[Si(c)]=f}return{...i,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const i=new kt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function am(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function S0(n,e,t,r){return!!(Si(n)===r||r!==pt&&am(e,t,n))&&("**"===n.path||om(e,n,t).matched)}function qu(n,e,t){return 0===e.length&&!n.children[t]}const uf=!1;class Xs{constructor(e){this.segmentGroup=e||null}}class Ku{constructor(e){this.urlTree=e}}function jl(n){return Sa(new Xs(n))}function um(n){return Sa(new Ku(n))}class A0{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=Wu(this.urlTree.root,[],[],this.config).segmentGroup,t=new kt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,pt).pipe((0,It.U)(u=>this.createUrlTree(R(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Es(u=>{if(u instanceof Ku)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Xs?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,pt).pipe((0,It.U)(i=>this.createUrlTree(R(i),e.queryParams,e.fragment))).pipe(Es(i=>{throw i instanceof Xs?this.noMatchError(i):i}))}noMatchError(e){return new p.vHH(4002,uf)}createUrlTree(e,t,r){const i=A(e);return new di(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,It.U)(u=>new kt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,gn.D)(i).pipe(Ao(u=>{const c=r.children[u],f=_0(t,u);return this.expandSegmentGroup(e,f,c,u).pipe((0,It.U)(y=>({segment:y,outlet:u})))}),Bh((u,c)=>(u[c.outlet]=c.segment,u),{}),xu())}expandSegment(e,t,r,i,u,c){return(0,gn.D)(r).pipe(Ao(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,u,c).pipe(Es(E=>{if(E instanceof Xs)return dt(null);throw E}))),Xi(f=>!!f),Es((f,y)=>{if(Js(f))return qu(t,i,u)?dt(new kt([],{})):jl(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,u,c,f){return S0(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):jl(t):jl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?um(u):this.lineralizeSegments(r,u).pipe((0,Hn.z)(c=>{const f=new kt(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:f,consumedSegments:y,remainingSegments:E,positionalParamSegments:C}=om(t,i,u);if(!f)return jl(t);const S=this.applyRedirectCommands(y,i.redirectTo,C);return i.redirectTo.startsWith("/")?um(S):this.lineralizeSegments(i,S).pipe((0,Hn.z)(O=>this.expandSegment(e,t,r,O.concat(E),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=Zg(r,e),r.loadChildren?(r._loadedRoutes?dt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,It.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new kt(i,{})))):dt(new kt(i,{}))):C0(t,r,i,e).pipe(xn(({matched:c,consumedSegments:f,remainingSegments:y})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Hn.z)(C=>{const S=C.injector??e,O=C.routes,{segmentGroup:N,slicedSegments:G}=Wu(t,f,y,O),re=new kt(N.segments,N.children);if(0===G.length&&re.hasChildren())return this.expandChildren(S,O,re).pipe((0,It.U)(Be=>new kt(f,Be)));if(0===O.length&&0===G.length)return dt(new kt(f,{}));const le=Si(r)===u;return this.expandSegment(S,re,O,G,le?pt:u,!0).pipe((0,It.U)(ze=>new kt(f.concat(ze.segments),ze.children)))})):jl(t)))}getChildConfig(e,t,r){return t.children?dt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?dt({routes:t._loadedRoutes,injector:t._loadedInjector}):function VC(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?dt(!0):dt(i.map(c=>{const f=Na(c,n);return wn(function Xg(n){return n&&zu(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Vo(),im())}(e,t,r).pipe((0,Hn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(zn(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function jC(n){return Sa(SC(uf,3))}())):dt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return dt(r);if(i.numberOfChildren>1||!i.children[pt])return e.redirectTo,Sa(new p.vHH(4e3,uf));i=i.children[pt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new di(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Gn(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[u]=t[f]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return Gn(t.children,(f,y)=>{c[y]=this.createSegmentGroup(e,f,r,i)}),new kt(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new p.vHH(4001,uf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class cm{}class Hl{constructor(e,t,r,i,u,c,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=c,this.urlSerializer=f}recognize(){const e=Wu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,pt).pipe((0,It.U)(t=>{if(null===t)return null;const r=new Jh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new hi(r,t),u=new d0(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=bC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,gn.D)(Object.keys(r.children)).pipe(Ao(i=>{const u=r.children[i],c=_0(t,i);return this.processSegmentGroup(e,c,u,i)}),Bh((i,u)=>i&&u?(i.push(...u),i):null),function $h(n,e=!1){return(0,yr.e)((t,r)=>{let i=0;t.subscribe((0,lr.x)(r,u=>{const c=n(u,i++);(c||e)&&r.next(u),!c&&r.complete()}))})}(i=>null!==i),wl(null),xu(),(0,It.U)(i=>{if(null===i)return null;const u=x0(i);return function GC(n){n.sort((e,t)=>e.value.outlet===pt?-1:t.value.outlet===pt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,gn.D)(t).pipe(Ao(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,u)),Xi(c=>!!c),Es(c=>{if(Js(c))return qu(r,i,u)?dt([]):dt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!S0(t,r,i,u))return dt(null);let c;if("**"===t.path){const f=i.length>0?Il(i).parameters:{},y=O0(r)+i.length;c=dt({snapshot:new Jh(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ms(t),Si(t),t.component??t._loadedComponent??null,t,R0(r),y,P0(t)),consumedSegments:[],remainingSegments:[]})}else c=C0(r,t,i,e).pipe((0,It.U)(({matched:f,consumedSegments:y,remainingSegments:E,parameters:C})=>{if(!f)return null;const S=O0(r)+y.length;return{snapshot:new Jh(y,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ms(t),Si(t),t.component??t._loadedComponent??null,t,R0(r),S,P0(t)),consumedSegments:y,remainingSegments:E}}));return c.pipe(xn(f=>{if(null===f)return dt(null);const{snapshot:y,consumedSegments:E,remainingSegments:C}=f;e=t._injector??e;const S=t._loadedInjector??e,O=function WC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:N,slicedSegments:G}=Wu(r,E,C,O.filter(le=>void 0===le.redirectTo));if(0===G.length&&N.hasChildren())return this.processChildren(S,O,N).pipe((0,It.U)(le=>null===le?null:[new hi(y,le)]));if(0===O.length&&0===G.length)return dt([new hi(y,[])]);const re=Si(t)===u;return this.processSegment(S,O,N,G,re?pt:u).pipe((0,It.U)(le=>null===le?null:[new hi(y,le)]))}))}}function qC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function x0(n){const e=[],t=new Set;for(const r of n){if(!qC(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=x0(r.children);e.push(new hi(r.value,i))}return e.filter(r=>!t.has(r))}function R0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function O0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Ms(n){return n.data||{}}function P0(n){return n.resolve||{}}function dm(n){return"string"==typeof n.title||null===n.title}function hm(n){return xn(e=>{const t=n(e);return t?(0,gn.D)(t).pipe((0,It.U)(()=>e)):dt(e)})}const Zu=new p.OlP("ROUTES");let pm=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return dt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=wn(t.loadComponent()).pipe((0,It.U)(F0),zn(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Ru(()=>{this.componentLoaders.delete(t)})),i=new Uh(r,()=>new Qi.x).pipe(Aa());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return dt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,It.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,E,C=!1;Array.isArray(f)?E=f:(y=f.create(t).injector,E=Gh(y.get(Zu,[],p.XFs.Self|p.XFs.Optional)));return{routes:E.map(nf),injector:y}}),Ru(()=>{this.childrenLoaders.delete(r)})),c=new Uh(u,()=>new Qi.x).pipe(Aa());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return wn(t()).pipe((0,It.U)(F0),(0,Hn.z)(r=>r instanceof p.YKP||Array.isArray(r)?dt(r):(0,gn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function F0(n){return function rs(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let lf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Qi.x,this.configLoader=(0,p.f3M)(pm),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(ts),this.rootContexts=(0,p.f3M)(tf),this.navigationId=0,this.afterPreactivation=()=>dt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new vC(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new jg(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new li({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ol,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ji(r=>0!==r.id),(0,It.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),xn(r=>{let i=!1,u=!1;return dt(r).pipe(zn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xn(c=>{const f=t.browserUrlTree.toString(),y=!t.navigated||c.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!y&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new Pa(c.id,t.serializeUrl(r.rawUrl),C,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),Ur.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return L0(c.source)&&(t.browserUrlTree=c.extractedUrl),dt(c).pipe(xn(C=>{const S=this.transitions?.getValue();return this.events.next(new $g(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),S!==this.transitions?.getValue()?Ur.E:Promise.resolve(C)}),function M0(n,e,t,r){return xn(i=>function HC(n,e,t,r,i){return new A0(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,It.U)(u=>({...i,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),zn(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},r.urlAfterRedirects=C.urlAfterRedirects}),function ZC(n,e,t,r,i){return(0,Hn.z)(u=>function lm(n,e,t,r,i,u,c="emptyOnly"){return new Hl(n,e,t,r,i,c,u).recognize().pipe(xn(f=>null===f?function zC(n){return new Xr.y(e=>e.error(n))}(new cm):dt(f)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i).pipe((0,It.U)(c=>({...u,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),zn(C=>{if(r.targetSnapshot=C.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const O=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(O,C)}t.browserUrlTree=C.urlAfterRedirects}const S=new Bu(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(S)}));if(y&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:S,source:O,restoredState:N,extras:G}=c,re=new $g(C,this.urlSerializer.serialize(S),O,N);this.events.next(re);const le=CC(S,this.rootComponentType).snapshot;return dt(r={...c,targetSnapshot:le,urlAfterRedirects:S,extras:{...G,skipLocationChange:!1,replaceUrl:!1}})}{const C="";return this.events.next(new Pa(c.id,t.serializeUrl(r.extractedUrl),C,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),Ur.E}}),zn(c=>{const f=new mC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),(0,It.U)(c=>r={...c,guards:Bl(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function sf(n,e){return(0,Hn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?dt({...t,guardsResult:!0}):function FC(n,e,t,r){return(0,gn.D)(n).pipe((0,Hn.z)(i=>function LC(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?dt(u.map(f=>{const y=Ul(e)??i,E=Na(f,y);return wn(function NC(n){return n&&zu(n.canDeactivate)}(E)?E.canDeactivate(n,e,t,r):y.runInContext(()=>E(n,e,t,r))).pipe(Xi())})).pipe(Vo()):dt(!0)}(i.component,i.route,t,e,r)),Xi(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Hn.z)(f=>f&&function E0(n){return"boolean"==typeof n}(f)?function nm(n,e,t,r){return(0,gn.D)(e).pipe(Ao(i=>Su(function ka(n,e){return null!==n&&e&&e(new s0(n)),dt(!0)}(i.route.parent,r),function af(n,e){return null!==n&&e&&e(new Hg(n)),dt(!0)}(i.route,r),function rm(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function Jg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Og(()=>dt(c.guards.map(y=>{const E=Ul(c.node)??t,C=Na(y,E);return wn(function em(n){return n&&zu(n.canActivateChild)}(C)?C.canActivateChild(r,n):E.runInContext(()=>C(r,n))).pipe(Xi())})).pipe(Vo())));return dt(u).pipe(Vo())}(n,i.path,t),function D0(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return dt(!0);const i=r.map(u=>Og(()=>{const c=Ul(e)??t,f=Na(u,c);return wn(function mx(n){return n&&zu(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(Xi())}));return dt(i).pipe(Vo())}(n,i.route,t))),Xi(i=>!0!==i,!0))}(r,u,n,e):dt(f)),(0,It.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,c=>this.events.next(c)),zn(c=>{if(r.guardsResult=c.guardsResult,q(c.guardsResult))throw TC(0,c.guardsResult);const f=new yC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),Ji(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),hm(c=>{if(c.guards.canActivateChecks.length)return dt(c).pipe(zn(f=>{const y=new lx(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}),xn(f=>{let y=!1;return dt(f).pipe(function yx(n,e){return(0,Hn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return dt(t);let u=0;return(0,gn.D)(i).pipe(Ao(c=>function _x(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!dm(i)&&(u[Mo]=i.title),function N0(n,e,t,r){const i=function vx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return dt({});const u={};return(0,gn.D)(i).pipe((0,Hn.z)(c=>function k0(n,e,t,r){const i=Ul(e)??r,u=Na(n,i);return wn(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[c],e,t,r).pipe(Xi(),zn(f=>{u[c]=f}))),Ra(1),function jh(n){return(0,It.U)(()=>n)}(u),Es(c=>Js(c)?Ur.E:Sa(c)))}(u,n,e,r).pipe((0,It.U)(c=>(n._resolvedData=c,n.data=bC(n,t).resolve,i&&dm(i)&&(n.data[Mo]=i.title),null)))}(c.route,r,n,e)),zn(()=>u++),Ra(1),(0,Hn.z)(c=>u===i.length?dt(t):Ur.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),zn({next:()=>y=!0,complete:()=>{y||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),zn(f=>{const y=new _C(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}))}),hm(c=>{const f=y=>{const E=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(y.routeConfig).pipe(zn(C=>{y.component=C}),(0,It.U)(()=>{})));for(const C of y.children)E.push(...f(C));return E};return Vh(f(c.targetSnapshot.root)).pipe(wl(),Ma(1))}),hm(()=>this.afterPreactivation()),(0,It.U)(c=>{const f=function Ll(n,e,t){const r=ju(n,e._root,t?t._root:void 0);return new DC(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:f}}),zn(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,It.U)(r=>(new v0(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),Ma(1),zn({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Lo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Ru(()=>{i||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Es(c=>{if(u=!0,ef(c)){Xh(c)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new Pl(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),Xh(c)){const y=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||L0(r.source)};t.scheduleNavigation(y,Ol,null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new Nl(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(c))}catch(y){r.reject(y)}}return Ur.E}))}))}cancelNavigationTransition(t,r,i){const u=new Pl(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function L0(n){return n!==Ol}let V0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===pt);return r}getResolvedTitleForRoute(t){return t.data[Mo]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(YC)},providedIn:"root"}),n})(),YC=(()=>{class n extends V0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(pl))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(JC)},providedIn:"root"}),n})();class QC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let JC=(()=>{class n extends QC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ct=new p.OlP("",{providedIn:"root",factory:()=>({})});let B0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)($0)},providedIn:"root"}),n})(),$0=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eb(n){throw n}function tb(n,e,t){return e.parse("/")}const j0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(Ct,{optional:!0})||{},this.errorHandler=this.options.errorHandler||eb,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||tb,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(B0),this.routeReuseStrategy=(0,p.f3M)(U0),this.urlCreationStrategy=(0,p.f3M)(IC),this.titleStrategy=(0,p.f3M)(V0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Gh((0,p.f3M)(Zu,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)(lf),this.urlSerializer=(0,p.f3M)(ts),this.location=(0,p.f3M)(Fe),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new di,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=CC(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ol,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const y={...i};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(u.state=y)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,c,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(nf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:f,preserveFragment:y}=r,E=y?this.currentUrlTree.fragment:c;let C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...u};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=u||null}return null!==C&&(C=this.removeEmptyProps(C)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,C,E??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=q(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,Ol,null,r)}navigate(t,r={skipLocationChange:!1}){return function rb(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new p.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...j0}:!1===r?{...nb}:r,q(t))return Wn(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Wn(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,c){if(this.disposed)return Promise.resolve(!1);let f,y,E,C;return c?(f=c.resolve,y=c.reject,E=c.promise):E=new Promise((S,O)=>{f=S,y=O}),C="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:f,reject:y,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(S=>Promise.reject(S))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hf=(()=>{class n{constructor(t,r,i,u,c,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=c,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Qi.x;const y=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===y||"area"===y,this.isAnchorElement?this.subscription=t.events.subscribe(E=>{E instanceof Lo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,p.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,p.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,p.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(xr),p.Y36(kl),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(et))},n.\u0275dir=p.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&p.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&p.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),n})();class gm{}let mm=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ji(t=>t instanceof Lo),Ao(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,p.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,f=u._loadedInjector??c;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&i.push(this.preloadConfig(c,u)),(u.children||u._loadedRoutes)&&i.push(this.processRoutes(f,u.children??u._loadedRoutes))}return(0,gn.D)(i).pipe((0,ba.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):dt(null);const u=i.pipe((0,Hn.z)(c=>null===c?dt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,gn.D)([u,c]).pipe((0,ba.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(xr),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(gm),p.LFG(pm))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wl=new p.OlP("");let z0=(()=>{class n{constructor(t,r,i,u,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $g?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Lo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zg&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){p.$Z()},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();var Ai=(()=>((Ai=Ai||{})[Ai.COMPLETE=0]="COMPLETE",Ai[Ai.FAILED=1]="FAILED",Ai[Ai.REDIRECTING=2]="REDIRECTING",Ai))();const ql=!1;function Fa(n,e){return{\u0275kind:n,\u0275providers:e}}const _m=new p.OlP("",{providedIn:"root",factory:()=>!1});function Kl(){const n=(0,p.f3M)(p.zs3);return e=>{const t=n.get(p.z2F);if(e!==t.components[0])return;const r=n.get(xr),i=n.get(G0);1===n.get(ff)&&r.initialNavigation(),n.get(W0,null,p.XFs.Optional)?.setUpPreloading(),n.get(Wl,null,p.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const G0=new p.OlP(ql?"bootstrap done indicator":"",{factory:()=>new Qi.x}),ff=new p.OlP(ql?"initial navigation":"",{providedIn:"root",factory:()=>1});function ab(){let n=[];return n=ql?[{provide:p.Xts,multi:!0,useFactory:()=>{const e=(0,p.f3M)(xr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function a0(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Fa(1,n)}const W0=new p.OlP(ql?"router preloader":"");function ub(n){return Fa(0,[{provide:W0,useExisting:mm},{provide:gm,useExisting:n}])}const Ju=!1,db=new p.OlP(Ju?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),vm=[Fe,{provide:ts,useClass:Tl},xr,tf,{provide:kl,useFactory:function ym(n){return n.routerState.root},deps:[xr]},pm,Ju?{provide:_m,useValue:!0}:[]];function hb(){return new p.PXZ("Router",xr)}let fb=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[vm,Ju&&r?.enableTracing?ab().\u0275providers:[],{provide:Zu,multi:!0,useValue:t},{provide:db,useFactory:Z0,deps:[[xr,new p.FiY,new p.tp0]]},{provide:Ct,useValue:r||{}},r?.useHash?{provide:et,useClass:_e}:{provide:et,useClass:Me},{provide:Wl,useFactory:()=>{const n=(0,p.f3M)(Zc),e=(0,p.f3M)(p.R0b),t=(0,p.f3M)(Ct),r=(0,p.f3M)(lf),i=(0,p.f3M)(ts);return t.scrollOffset&&n.setOffset(t.scrollOffset),new z0(i,r,n,e,t)}},r?.preloadingStrategy?ub(r.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:hb},r?.initialNavigation?gb(r):[],[{provide:Y0,useFactory:Kl},{provide:p.tb,multi:!0,useExisting:Y0}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Zu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(db,8))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[Kg]}),n})();function Z0(n){if(Ju&&n)throw new p.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function gb(n){return["disabled"===n.initialNavigation?Fa(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const e=(0,p.f3M)(xr);return()=>{e.setUpLocationChangeListener()}}},{provide:ff,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Fa(2,[{provide:ff,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:e=>{const t=e.get(Oe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(xr),u=e.get(G0);(function Ix(n,e){n.events.pipe(Ji(t=>t instanceof Lo||t instanceof Pl||t instanceof Nl||t instanceof Pa),(0,It.U)(t=>t instanceof Lo||t instanceof Pa?Ai.COMPLETE:t instanceof Pl&&(0===t.code||1===t.code)?Ai.REDIRECTING:Ai.FAILED),Ji(t=>t!==Ai.REDIRECTING),Ma(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(lf).afterPreactivation=()=>(r(!0),u.closed?dt(void 0):u),i.initialNavigation()}))}}]).\u0275providers:[]]}const Y0=new p.OlP(Ju?"Router Initializer":"");let gf=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(r,i){1&r&&(p.TgZ(0,"h4"),p._uU(1,"Bienvenido a la sala de juegos!"),p.qZA())}}),e})(),Yl=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-quien-soy"]],decls:8,vars:0,consts:[[1,"position-relative","overflow-hidden","p-3","p-md-5","m-md-3","text-center","bg-light"],[1,"col-md-5","p-lg-5","mx-auto","my-5"],[1,"display-4","fw-normal"],[1,"lead","fw-normal"],[1,"col-md"],["src","../assets/RodolfoSolariFoto.jpg","alt","A view on mountains.",1,"fade-in-image"]],template:function(r,i){1&r&&(p.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),p._uU(3,"Rodolfo Solari"),p.qZA(),p.TgZ(4,"p",3),p._uU(5,"Estudiante de Tecnicatura Universitaria en Programacion"),p.qZA(),p.TgZ(6,"div",4),p._UZ(7,"img",5),p.qZA()()())},styles:[".fade-in-image[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 5s;-webkit-animation:_ngcontent-%COMP%_fadeIn 5s;-moz-animation:fadeIn 5s;-o-animation:fadeIn 5s;-ms-animation:fadeIn 5s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]}),e})();class wm{constructor(e,t,r){this.email=e,this.clave=t,this.nombre=r}}var Lt=k(6881);(0,Lt.registerVersion)("firebase","9.23.0","app");var oe=k(5861),Nt=k(2090),is=k(4859),Mi=k(1877);const mb=(n,e)=>e.some(t=>n instanceof t);let J0,Im;const Dm=new WeakMap,Cm=new WeakMap,ew=new WeakMap,$r=new WeakMap,bm=new WeakMap;let Ql={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Cm.get(n);if("objectStoreNames"===e)return n.objectStoreNames||ew.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Uo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function wb(n){return"function"==typeof n?function vb(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function X0(){return Im||(Im=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(mf(this),e),Uo(Dm.get(this))}:function(...e){return Uo(n.apply(mf(this),e))}:function(e,...t){const r=n.call(mf(this),e,...t);return ew.set(r,e.sort?e.sort():[e]),Uo(r)}}(n):(n instanceof IDBTransaction&&function Tx(n){if(Cm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Cm.set(n,e)}(n),mb(n,function yb(){return J0||(J0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Ql):n)}function Uo(n){if(n instanceof IDBRequest)return function _b(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{t(Uo(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Dm.set(t,n)}).catch(()=>{}),bm.set(e,n),e}(n);if($r.has(n))return $r.get(n);const e=wb(n);return e!==n&&($r.set(n,e),bm.set(e,n)),e}const mf=n=>bm.get(n),Tm=["get","getKey","getAll","getAllKeys","count"],Ib=["put","add","delete","clear"],Sm=new Map;function nw(n,e){var t;if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Sm.get(e))return Sm.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,u=Ib.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!u&&!Tm.includes(r))return;const c=function(y){return(t=t||(0,oe.Z)(function*(E,...C){const S=this.transaction(E,u?"readwrite":"readonly");let O=S.store;return i&&(O=O.index(C.shift())),(yield Promise.all([O[r](...C),u&&S.done]))[0]})).apply(this,arguments)};return Sm.set(e,c),c}var rw,iw,ss,yf,sw,ow,Am,aw,uw,cw,_f,lw,dw,Jl,Xl,ed;!function tw(n){Ql=n(Ql)}(n=>({...n,get:(e,t,r)=>nw(e,t)||n.get(e,t,r),has:(e,t)=>!!nw(e,t)||n.has(e,t)}));const Cb="@firebase/installations",wf="0.6.4",Mm=1e4,xm=`w:${wf}`,Rm="FIS_v2",Om="https://firebaseinstallations.googleapis.com/v1",eo=36e5,to=new Nt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pm(n){return n instanceof Nt.ZR&&n.code.includes("request-failed")}function Df({projectId:n}){return`${Om}/projects/${n}/installations`}function hw(n){return{token:n.token,requestStatus:2,expiresIn:bb(n.expiresIn),creationTime:Date.now()}}function Nm(n,e){return(rw=rw||(0,oe.Z)(function*(t,r){const u=(yield r.json()).error;return to.create("request-failed",{requestName:t,serverCode:u.code,serverMessage:u.message,serverStatus:u.status})})).apply(this,arguments)}function ec({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function pw(n){return(iw=iw||(0,oe.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function bb(n){return Number(n.replace("s","000"))}function gw(n){return new Promise(e=>{setTimeout(e,n)})}const Mb=/^[cdef][\w-]{21}$/,km="";function mw(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Fm(n){return function Ab(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Mb.test(t)?t:km}catch{return km}}function tc(n){return`${n.appName}!${n.appId}`}const Bo=new Map;function yw(n,e){const t=tc(n);_w(t,e),function Ob(n,e){const t=function vw(){return!La&&"BroadcastChannel"in self&&(La=new BroadcastChannel("[Firebase] FID Change"),La.onmessage=n=>{_w(n.data.key,n.data.fid)}),La}();t&&t.postMessage({key:n,fid:e}),function Lm(){0===Bo.size&&La&&(La.close(),La=null)}()}(t,e)}function _w(n,e){const t=Bo.get(n);if(t)for(const r of t)r(e)}let La=null;const ww="firebase-installations-database",Pb=1,nc="firebase-installations-store";let Cf=null;function Ew(){return Cf||(Cf=function Eb(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const c=indexedDB.open(n,e),f=Uo(c);return r&&c.addEventListener("upgradeneeded",y=>{r(Uo(c.result),y.oldVersion,y.newVersion,Uo(c.transaction))}),t&&c.addEventListener("blocked",()=>t()),f.then(y=>{u&&y.addEventListener("close",()=>u()),i&&y.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}(ww,Pb,{upgrade:(n,e)=>{0===e&&n.createObjectStore(nc)}})),Cf}function Va(n,e){return(yf=yf||(0,oe.Z)(function*(t,r){const i=tc(t),c=(yield Ew()).transaction(nc,"readwrite"),f=c.objectStore(nc),y=yield f.get(i);return yield f.put(r,i),yield c.done,(!y||y.fid!==r.fid)&&yw(t,r.fid),r})).apply(this,arguments)}function Vm(n){return(sw=sw||(0,oe.Z)(function*(e){const t=tc(e),i=(yield Ew()).transaction(nc,"readwrite");yield i.objectStore(nc).delete(t),yield i.done})).apply(this,arguments)}function nd(n,e){return(ow=ow||(0,oe.Z)(function*(t,r){const i=tc(t),c=(yield Ew()).transaction(nc,"readwrite"),f=c.objectStore(nc),y=yield f.get(i),E=r(y);return void 0===E?yield f.delete(i):yield f.put(E,i),yield c.done,E&&(!y||y.fid!==E.fid)&&yw(t,E.fid),E})).apply(this,arguments)}function rd(n){return(Am=Am||(0,oe.Z)(function*(e){let t;const r=yield nd(e.appConfig,i=>{const u=function Nb(n){return sd(n||{fid:mw(),registrationStatus:0})}(i),c=function xs(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(to.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function id(n,e){return(aw=aw||(0,oe.Z)(function*(t,r){try{const i=yield function Sb(n,e){return(ss=ss||(0,oe.Z)(function*({appConfig:t,heartbeatServiceProvider:r},{fid:i}){const u=Df(t),c=ec(t),f=r.getImmediate({optional:!0});if(f){const S=yield f.getHeartbeatsHeader();S&&c.append("x-firebase-client",S)}const E={method:"POST",headers:c,body:JSON.stringify({fid:i,authVersion:Rm,appId:t.appId,sdkVersion:xm})},C=yield pw(()=>fetch(u,E));if(C.ok){const S=yield C.json();return{fid:S.fid||i,registrationStatus:2,refreshToken:S.refreshToken,authToken:hw(S.authToken)}}throw yield Nm("Create Installation",C)})).apply(this,arguments)}(t,r);return Va(t.appConfig,i)}catch(i){throw Pm(i)&&409===i.customData.serverCode?yield Vm(t.appConfig):yield Va(t.appConfig,{fid:r.fid,registrationStatus:0}),i}})).apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Rr(n)}:{installationEntry:e}}(e,u);return t=c.registrationPromise,c.installationEntry});return r.fid===km?{installationEntry:yield t}:{installationEntry:r,registrationPromise:t}})).apply(this,arguments)}function Rr(n){return(uw=uw||(0,oe.Z)(function*(e){let t=yield $o(e.appConfig);for(;1===t.registrationStatus;)yield gw(100),t=yield $o(e.appConfig);if(0===t.registrationStatus){const{installationEntry:r,registrationPromise:i}=yield rd(e);return i||r}return t})).apply(this,arguments)}function $o(n){return nd(n,e=>{if(!e)throw to.create("installation-not-found");return sd(e)})}function sd(n){return function xi(n){return 1===n.registrationStatus&&n.registrationTime+Mm<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Um(n,e){return(cw=cw||(0,oe.Z)(function*({appConfig:t,heartbeatServiceProvider:r},i){const u=function rc(n,{fid:e}){return`${Df(n)}/${e}/authTokens:generate`}(t,i),c=function fw(n,{refreshToken:e}){const t=ec(n);return t.append("Authorization",function Tb(n){return`${Rm} ${n}`}(e)),t}(t,i),f=r.getImmediate({optional:!0});if(f){const S=yield f.getHeartbeatsHeader();S&&c.append("x-firebase-client",S)}const E={method:"POST",headers:c,body:JSON.stringify({installation:{sdkVersion:xm,appId:t.appId}})},C=yield pw(()=>fetch(u,E));if(C.ok)return hw(yield C.json());throw yield Nm("Generate Auth Token",C)})).apply(this,arguments)}function jo(n){return(_f=_f||(0,oe.Z)(function*(e,t=!1){let r;const i=yield nd(e.appConfig,c=>{if(!Ba(c))throw to.create("not-registered");const f=c.authToken;if(!t&&function oc(n){return 2===n.requestStatus&&!function ac(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+eo}(n)}(f))return c;if(1===f.requestStatus)return r=function ic(n,e){return(lw=lw||(0,oe.Z)(function*(t,r){let i=yield Ua(t.appConfig);for(;1===i.authToken.requestStatus;)yield gw(100),i=yield Ua(t.appConfig);const u=i.authToken;return 0===u.requestStatus?jo(t,r):u})).apply(this,arguments)}(e,t),c;{if(!navigator.onLine)throw to.create("app-offline");const y=function uc(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(c);return r=function sc(n,e){return(dw=dw||(0,oe.Z)(function*(t,r){try{const i=yield Um(t,r),u=Object.assign(Object.assign({},r),{authToken:i});return yield Va(t.appConfig,u),i}catch(i){if(!Pm(i)||401!==i.customData.serverCode&&404!==i.customData.serverCode){const u=Object.assign(Object.assign({},r),{authToken:{requestStatus:0}});yield Va(t.appConfig,u)}else yield Vm(t.appConfig);throw i}})).apply(this,arguments)}(e,y),y}});return r?yield r:i.authToken})).apply(this,arguments)}function Ua(n){return nd(n,e=>{if(!Ba(e))throw to.create("not-registered");return function Iw(n){return 1===n.requestStatus&&n.requestTime+Mm<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Ba(n){return void 0!==n&&2===n.registrationStatus}function Bm(n){return to.create("missing-app-config-values",{valueName:n})}const $m="installations",Aw=n=>{const e=n.getProvider("app").getImmediate(),t=function Vb(n){if(!n||!n.options)throw Bm("App Configuration");if(!n.name)throw Bm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Bm(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,Lt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},jm=n=>{const e=n.getProvider("app").getImmediate(),t=(0,Lt._getProvider)(e,$m).getImmediate();return{getId:()=>function Dw(n){return(Jl=Jl||(0,oe.Z)(function*(e){const t=e,{installationEntry:r,registrationPromise:i}=yield rd(t);return i?i.catch(console.error):jo(t).catch(console.error),r.fid})).apply(this,arguments)}(t),getToken:i=>function Cw(n){return(Xl=Xl||(0,oe.Z)(function*(e,t=!1){const r=e;return yield function bw(n){return(ed=ed||(0,oe.Z)(function*(e){const{registrationPromise:t}=yield rd(e);t&&(yield t)})).apply(this,arguments)}(r),(yield jo(r,t)).token})).apply(this,arguments)}(t,i)}};var bf;(function Hm(){(0,Lt._registerComponent)(new is.wA($m,Aw,"PUBLIC")),(0,Lt._registerComponent)(new is.wA("installations-internal",jm,"PRIVATE"))})(),(0,Lt.registerVersion)(Cb,wf),(0,Lt.registerVersion)(Cb,wf,"esm2017");const zm="@firebase/remote-config",Or=new Nt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lw{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,oe.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const u=yield t.client.fetch(e),c=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===u.status&&c.push(t.storage.setLastSuccessfulFetchResponse(u)),yield Promise.all(c),u})()}}function Vw(n=navigator){return n.languages&&n.languages[0]||n.language}class Uw{constructor(e,t,r,i,u,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=u,this.appId=c}fetch(e){var t=this;return(0,oe.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},y={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Vw()},E={method:"POST",headers:f,body:JSON.stringify(y)},C=fetch(c,E),S=new Promise((ve,ze)=>{e.signal.addEventListener(()=>{const Be=new Error("The operation was aborted.");Be.name="AbortError",ze(Be)})});let O;try{yield Promise.race([C,S]),O=yield C}catch(ve){let ze="fetch-client-network";throw"AbortError"===ve?.name&&(ze="fetch-timeout"),Or.create(ze,{originalErrorMessage:ve?.message})}let N=O.status;const G=O.headers.get("ETag")||void 0;let re,le;if(200===O.status){let ve;try{ve=yield O.json()}catch(ze){throw Or.create("fetch-client-parse",{originalErrorMessage:ze?.message})}re=ve.entries,le=ve.state}if("INSTANCE_STATE_UNSPECIFIED"===le?N=500:"NO_CHANGE"===le?N=304:("NO_TEMPLATE"===le||"EMPTY_CONFIG"===le)&&(re={}),304!==N&&200!==N)throw Or.create("fetch-status",{httpStatus:N});return{status:N,eTag:G,config:re}})()}}class Af{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,oe.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,oe.Z)(function*(){yield function Bw(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(Or.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const u=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),u}catch(u){if(!function $w(n){if(!(n instanceof Nt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u))throw u;const c={throttleEndTimeMillis:Date.now()+(0,Nt.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(c),i.attemptFetch(e,c)}})()}}class Wb{constructor(e,t,r,i,u){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=u,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cc(n,e){const t=n.target.error||void 0;return Or.create(e,{originalErrorMessage:t&&t?.message})}const fi="app_namespace_store";class xx{constructor(e,t,r,i=function Ym(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(cc(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(fi,{keyPath:"compositeKey"})}}catch(t){e(Or.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,oe.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const f=r.transaction([fi],"readonly").objectStore(fi),y=t.createCompositeKey(e);try{const E=f.get(y);E.onerror=C=>{u(cc(C,"storage-get"))},E.onsuccess=C=>{const S=C.target.result;i(S?S.value:void 0)}}catch(E){u(Or.create("storage-get",{originalErrorMessage:E?.message}))}})})()}set(e,t){var r=this;return(0,oe.Z)(function*(){const i=yield r.openDbPromise;return new Promise((u,c)=>{const y=i.transaction([fi],"readwrite").objectStore(fi),E=r.createCompositeKey(e);try{const C=y.put({compositeKey:E,value:t});C.onerror=S=>{c(cc(S,"storage-set"))},C.onsuccess=()=>{u()}}catch(C){c(Or.create("storage-set",{originalErrorMessage:C?.message}))}})})()}delete(e){var t=this;return(0,oe.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const f=r.transaction([fi],"readwrite").objectStore(fi),y=t.createCompositeKey(e);try{const E=f.delete(y);E.onerror=C=>{u(cc(C,"storage-delete"))},E.onsuccess=()=>{i()}}catch(E){u(Or.create("storage-delete",{originalErrorMessage:E?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Rx{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,oe.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),u=yield t;u&&(e.lastFetchStatus=u);const c=yield r;c&&(e.lastSuccessfulFetchTimestampMillis=c);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function jw(){return(bf=bf||(0,oe.Z)(function*(){if(!(0,Nt.hl)())return!1;try{return yield(0,Nt.eu)()}catch{return!1}})).apply(this,arguments)}!function Kb(){(0,Lt._registerComponent)(new is.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Or.create("registration-window");if(!(0,Nt.hl)())throw Or.create("indexed-db-unavailable");const{projectId:u,apiKey:c,appId:f}=r.options;if(!u)throw Or.create("registration-project-id");if(!c)throw Or.create("registration-api-key");if(!f)throw Or.create("registration-app-id");const y=new xx(f,r.name,t=t||"firebase"),E=new Rx(y),C=new Mi.Yd(zm);C.logLevel=Mi.in.ERROR;const S=new Uw(i,Lt.SDK_VERSION,t,u,c,f),O=new Af(S,y),N=new Lw(O,y,E,C),G=new Wb(r,N,E,y,C);return function Nw(n){const e=(0,Nt.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(G),G},"PUBLIC").setMultipleInstances(!0)),(0,Lt.registerVersion)(zm,"0.4.4"),(0,Lt.registerVersion)(zm,"0.4.4","esm2017")}();const Zb=(n,e)=>e.some(t=>n instanceof t);let Vn,Qm;const Jm=new WeakMap,Xm=new WeakMap,ey=new WeakMap,Mf=new WeakMap,zo=new WeakMap;let xf={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Xm.get(n);if("objectStoreNames"===e)return n.objectStoreNames||ey.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Rs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Px(n){return"function"==typeof n?function Hw(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qb(){return Qm||(Qm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(cd(this),e),Rs(Jm.get(this))}:function(...e){return Rs(n.apply(cd(this),e))}:function(e,...t){const r=n.call(cd(this),e,...t);return ey.set(r,e.sort?e.sort():[e]),Rs(r)}}(n):(n instanceof IDBTransaction&&function Xb(n){if(Xm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Xm.set(n,e)}(n),Zb(n,function Yb(){return Vn||(Vn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,xf):n)}function Rs(n){if(n instanceof IDBRequest)return function Jb(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{t(Rs(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Jm.set(t,n)}).catch(()=>{}),zo.set(e,n),e}(n);if(Mf.has(n))return Mf.get(n);const e=Px(n);return e!==n&&(Mf.set(n,e),zo.set(e,n)),e}const cd=n=>zo.get(n);function os(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const c=indexedDB.open(n,e),f=Rs(c);return r&&c.addEventListener("upgradeneeded",y=>{r(Rs(c.result),y.oldVersion,y.newVersion,Rs(c.transaction))}),t&&c.addEventListener("blocked",()=>t()),f.then(y=>{u&&y.addEventListener("close",()=>u()),i&&y.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}function ty(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Rs(t).then(()=>{})}const tT=["get","getKey","getAll","getAllKeys","count"],Os=["put","add","delete","clear"],pi=new Map;function Ri(n,e){var t;if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(pi.get(e))return pi.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,u=Os.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!u&&!tT.includes(r))return;const c=function(y){return(t=t||(0,oe.Z)(function*(E,...C){const S=this.transaction(E,u?"readwrite":"readonly");let O=S.store;return i&&(O=O.index(C.shift())),(yield Promise.all([O[r](...C),u&&S.done]))[0]})).apply(this,arguments)};return pi.set(e,c),c}var ny,ry,zw,Gw,Ww,qw,Rf,lc,Kw,iy,Zw,Yw,sy,oy,ld,Qw,ay,uy,Of,dd;!function eT(n){xf=n(xf)}(n=>({...n,get:(e,t,r)=>Ri(e,t)||n.get(e,t,r),has:(e,t)=>!!Ri(e,t)||n.has(e,t)}));const Jw="/firebase-messaging-sw.js",Xw="/firebase-cloud-messaging-push-scope",dy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eE="https://fcmregistrations.googleapis.com/v1",hy="google.c.a.c_id",tE="google.c.a.c_l",nT="google.c.a.ts",rT="google.c.a.e";var dc=(()=>{return(n=dc||(dc={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",dc;var n})();function no(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function iT(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let u=0;u<r.length;++u)i[u]=r.charCodeAt(u);return i}const fy="fcm_token_details_db",sT=5,nE="fcm_token_object_Store",uT="firebase-messaging-database",cT=1,$a="firebase-messaging-store";let py=null;function gy(){return py||(py=os(uT,cT,{upgrade:(n,e)=>{0===e&&n.createObjectStore($a)}})),py}function rE(n){return(ry=ry||(0,oe.Z)(function*(e){const t=Pf(e),i=yield(yield gy()).transaction($a).objectStore($a).get(t);if(i)return i;{const u=yield function oT(n){return(ny=ny||(0,oe.Z)(function*(e){var t;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(f=>f.name).includes(fy))return null;let r=null;return(yield os(fy,sT,{upgrade:function(c,f,y,E){return(t=t||(0,oe.Z)(function*(C,S,O,N){var G;if(S<2||!C.objectStoreNames.contains(nE))return;const re=N.objectStore(nE),le=yield re.index("fcmSenderId").get(e);if(yield re.clear(),le)if(2===S){const ve=le;if(!ve.auth||!ve.p256dh||!ve.endpoint)return;r={token:ve.fcmToken,createTime:null!==(G=ve.createTime)&&void 0!==G?G:Date.now(),subscriptionOptions:{auth:ve.auth,p256dh:ve.p256dh,endpoint:ve.endpoint,swScope:ve.swScope,vapidKey:"string"==typeof ve.vapidKey?ve.vapidKey:no(ve.vapidKey)}}}else if(3===S){const ve=le;r={token:ve.fcmToken,createTime:ve.createTime,subscriptionOptions:{auth:no(ve.auth),p256dh:no(ve.p256dh),endpoint:ve.endpoint,swScope:ve.swScope,vapidKey:no(ve.vapidKey)}}}else if(4===S){const ve=le;r={token:ve.fcmToken,createTime:ve.createTime,subscriptionOptions:{auth:no(ve.auth),p256dh:no(ve.p256dh),endpoint:ve.endpoint,swScope:ve.swScope,vapidKey:no(ve.vapidKey)}}}})).apply(this,arguments)}})).close(),yield ty(fy),yield ty("fcm_vapid_details_db"),yield ty("undefined"),function aT(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(r)?r:null})).apply(this,arguments)}(e.appConfig.senderId);if(u)return yield my(e,u),u}})).apply(this,arguments)}function my(n,e){return(zw=zw||(0,oe.Z)(function*(t,r){const i=Pf(t),c=(yield gy()).transaction($a,"readwrite");return yield c.objectStore($a).put(r,i),yield c.done,r})).apply(this,arguments)}function Pf({appConfig:n}){return n.appId}const dr=new Nt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function oE(n,e){return(Ww=Ww||(0,oe.Z)(function*(t,r){const i=yield kf(t),u=_y(r),c={method:"POST",headers:i,body:JSON.stringify(u)};let f;try{f=yield(yield fetch(Nf(t.appConfig),c)).json()}catch(y){throw dr.create("token-subscribe-failed",{errorInfo:y?.toString()})}if(f.error)throw dr.create("token-subscribe-failed",{errorInfo:f.error.message});if(!f.token)throw dr.create("token-subscribe-no-token");return f.token})).apply(this,arguments)}function yy(n,e){return(Rf=Rf||(0,oe.Z)(function*(t,r){const u={method:"DELETE",headers:yield kf(t)};try{const f=yield(yield fetch(`${Nf(t.appConfig)}/${r}`,u)).json();if(f.error)throw dr.create("token-unsubscribe-failed",{errorInfo:f.error.message})}catch(c){throw dr.create("token-unsubscribe-failed",{errorInfo:c?.toString()})}})).apply(this,arguments)}function Nf({projectId:n}){return`${eE}/projects/${n}/registrations`}function kf(n){return(lc=lc||(0,oe.Z)(function*({appConfig:e,installations:t}){const r=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})).apply(this,arguments)}function _y({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==dy&&(i.web.applicationPubKey=r),i}const uE=6048e5;function ja(n){return(Kw=Kw||(0,oe.Z)(function*(e){const t=yield function kx(n,e){return(sy=sy||(0,oe.Z)(function*(t,r){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:iT(r)})})).apply(this,arguments)}(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:no(t.getKey("auth")),p256dh:no(t.getKey("p256dh"))},i=yield rE(e.firebaseDependencies);if(i){if(function vy(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(i.subscriptionOptions,r))return Date.now()>=i.createTime+uE?function lT(n,e){return(Zw=Zw||(0,oe.Z)(function*(t,r){try{const i=yield function aE(n,e){return(qw=qw||(0,oe.Z)(function*(t,r){const i=yield kf(t),u=_y(r.subscriptionOptions),c={method:"PATCH",headers:i,body:JSON.stringify(u)};let f;try{f=yield(yield fetch(`${Nf(t.appConfig)}/${r.token}`,c)).json()}catch(y){throw dr.create("token-update-failed",{errorInfo:y?.toString()})}if(f.error)throw dr.create("token-update-failed",{errorInfo:f.error.message});if(!f.token)throw dr.create("token-update-no-token");return f.token})).apply(this,arguments)}(t.firebaseDependencies,r),u=Object.assign(Object.assign({},r),{token:i,createTime:Date.now()});return yield my(t.firebaseDependencies,u),i}catch(i){throw yield function cE(n){return(iy=iy||(0,oe.Z)(function*(e){const t=yield rE(e.firebaseDependencies);t&&(yield yy(e.firebaseDependencies,t.token),yield function iE(n){return(Gw=Gw||(0,oe.Z)(function*(e){const t=Pf(e),i=(yield gy()).transaction($a,"readwrite");yield i.objectStore($a).delete(t),yield i.done})).apply(this,arguments)}(e.firebaseDependencies));const r=yield e.swRegistration.pushManager.getSubscription();return!r||r.unsubscribe()})).apply(this,arguments)}(t),i}})).apply(this,arguments)}(e,{token:i.token,createTime:Date.now(),subscriptionOptions:r}):i.token;try{yield yy(e.firebaseDependencies,i.token)}catch(u){console.warn(u)}return Ha(e.firebaseDependencies,r)}return Ha(e.firebaseDependencies,r)})).apply(this,arguments)}function Ha(n,e){return(Yw=Yw||(0,oe.Z)(function*(t,r){const u={token:yield oE(t,r),createTime:Date.now(),subscriptionOptions:r};return yield my(t,u),u.token})).apply(this,arguments)}function dT(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function lE(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const u=e.notification.icon;u&&(n.notification.icon=u)}(e,n),function dE(n,e){e.data&&(n.data=e.data)}(e,n),function Fx(n,e){var t,r,i,u,c;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(u=e.notification)||void 0===u?void 0:u.click_action;f&&(n.fcmOptions.link=f);const y=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;y&&(n.fcmOptions.analyticsLabel=y)}(e,n),e}function hE(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function wy(n){return dr.create("missing-app-config-values",{valueName:n})}hE("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),hE("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hc{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function hT(n){if(!n||!n.options)throw wy("App Configuration Object");if(!n.name)throw wy("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw wy(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function En(n,e){return(ay=ay||(0,oe.Z)(function*(t,r){if(!navigator)throw dr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw dr.create("permission-blocked");return yield function Lf(n,e){return(Qw=Qw||(0,oe.Z)(function*(t,r){r?t.vapidKey=r:t.vapidKey||(t.vapidKey=dy)})).apply(this,arguments)}(t,r?.vapidKey),yield function Ff(n,e){return(ld=ld||(0,oe.Z)(function*(t,r){if(!r&&!t.swRegistration&&(yield function fE(n){return(oy=oy||(0,oe.Z)(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(Jw,{scope:Xw}),e.swRegistration.update().catch(()=>{})}catch(t){throw dr.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})).apply(this,arguments)}(t)),r||!t.swRegistration){if(!(r instanceof ServiceWorkerRegistration))throw dr.create("invalid-sw-registration");t.swRegistration=r}})).apply(this,arguments)}(t,r?.serviceWorkerRegistration),ja(t)})).apply(this,arguments)}function gE(n,e){return(Of=Of||(0,oe.Z)(function*(t,r){const i=r.data;if(!i.isFirebaseMessaging)return;t.onMessageHandler&&i.messageType===dc.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(dT(i)):t.onMessageHandler.next(dT(i)));const u=i.data;(function vt(n){return"object"==typeof n&&!!n&&hy in n})(u)&&"1"===u[rT]&&(yield function Lx(n,e,t){return(uy=uy||(0,oe.Z)(function*(r,i,u){const c=function pE(n){switch(n){case dc.NOTIFICATION_CLICKED:return"notification_open";case dc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(i);(yield r.firebaseDependencies.analyticsProvider.get()).logEvent(c,{message_id:u[hy],message_name:u[tE],message_time:u[nT],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(t,i.messageType,u))})).apply(this,arguments)}const mE="@firebase/messaging",yE=n=>{const e=new hc(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>gE(e,t)),e},_E=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>En(e,r)}};function wE(){return(dd=dd||(0,oe.Z)(function*(){try{yield(0,Nt.eu)()}catch{return!1}return typeof window<"u"&&(0,Nt.hl)()&&(0,Nt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var hd,Iy,Dy,Cy,EE,fc,Ty,Sy,bE;!function vE(){(0,Lt._registerComponent)(new is.wA("messaging",yE,"PUBLIC")),(0,Lt._registerComponent)(new is.wA("messaging-internal",_E,"PRIVATE")),(0,Lt.registerVersion)(mE,"0.12.4"),(0,Lt.registerVersion)(mE,"0.12.4","esm2017")}();const Uf="analytics",gT="firebase_id",$x="origin",jx=6e4,Hx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",TE="https://www.googletagmanager.com/gtag/js",qn=new Mi.Yd("@firebase/analytics"),jr=new Nt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function mT(n){if(!n.startsWith(TE)){const e=jr.create("invalid-gtag-resource",{gtagURL:n});return qn.warn(e.message),""}return n}function My(n){return Promise.all(n.map(e=>e.catch(t=>t)))}const IT=30,AE=new class pd{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ME(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function xE(n){return(Cy=Cy||(0,oe.Z)(function*(e,t=AE,r){const{appId:i,apiKey:u,measurementId:c}=e.options;if(!i)throw jr.create("no-app-id");if(!u){if(c)return{measurementId:c,appId:i};throw jr.create("no-api-key")}const f=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},y=new xy;return setTimeout((0,oe.Z)(function*(){y.abort()}),void 0!==r?r:jx),RE({appId:i,apiKey:u,measurementId:c},f,y,t)})).apply(this,arguments)}function RE(n,e,t){return(EE=EE||(0,oe.Z)(function*(r,{throttleEndTimeMillis:i,backoffCount:u},c,f=AE){var y;const{appId:E,measurementId:C}=r;try{yield function OE(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(c,i)}catch(S){if(C)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${C} provided in the "measurementId" field in the local Firebase config. [${S?.message}]`),{appId:E,measurementId:C};throw S}try{const S=yield function CT(n){return(Dy=Dy||(0,oe.Z)(function*(e){var t;const{appId:r,apiKey:i}=e,u={method:"GET",headers:ME(i)},c=Hx.replace("{app-id}",r),f=yield fetch(c,u);if(200!==f.status&&304!==f.status){let y="";try{const E=yield f.json();null!==(t=E.error)&&void 0!==t&&t.message&&(y=E.error.message)}catch{}throw jr.create("config-fetch-failed",{httpStatus:f.status,responseMessage:y})}return f.json()})).apply(this,arguments)}(r);return f.deleteThrottleMetadata(E),S}catch(S){const O=S;if(!function bT(n){if(!(n instanceof Nt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(O)){if(f.deleteThrottleMetadata(E),C)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${C} provided in the "measurementId" field in the local Firebase config. [${O?.message}]`),{appId:E,measurementId:C};throw S}const N=503===Number(null===(y=O?.customData)||void 0===y?void 0:y.httpStatus)?(0,Nt.$s)(u,f.intervalMillis,IT):(0,Nt.$s)(u,f.intervalMillis),G={throttleEndTimeMillis:Date.now()+N,backoffCount:u+1};return f.setThrottleMetadata(E,G),qn.debug(`Calling attemptFetch again in ${N} millis`),RE(r,G,c,f)}})).apply(this,arguments)}class xy{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Ry,Py;function xT(n,e,t,r,i,u,c){return(Sy=Sy||(0,oe.Z)(function*(f,y,E,C,S,O,N){var G;const re=xE(f);re.then(He=>{E[He.measurementId]=He.appId,f.options.measurementId&&He.measurementId!==f.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${f.options.measurementId}) does not match the measurement ID fetched from the server (${He.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(He=>qn.error(He)),y.push(re);const le=function MT(){return(Ty=Ty||(0,oe.Z)(function*(){if(!(0,Nt.hl)())return qn.warn(jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Nt.eu)()}catch(n){return qn.warn(jr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(He=>{if(He)return C.getId()}),[ve,ze]=yield Promise.all([re,le]);(function SE(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(TE)&&t.src.includes(n))return t;return null})(O)||function yT(n,e){const t=function fd(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:mT}),r=document.createElement("script"),i=`${TE}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(O,ve.measurementId),Py&&(S("consent","default",Py),function Ny(n){Py=n}(void 0)),S("js",new Date);const Be=null!==(G=N?.config)&&void 0!==G?G:{};return Be[$x]="firebase",Be.update=!0,null!=ze&&(Be[gT]=ze),S("config",ve.measurementId,Be),Ry&&(S("set",Ry),function kE(n){Ry=n}(void 0)),ve.measurementId})).apply(this,arguments)}class RT{constructor(e){this.app=e}_delete(){return delete Ps[this.app.options.appId],Promise.resolve()}}let Ps={},FE=[];const LE={};let Fy,Ns,$f="dataLayer",ky="gtag",Ly=!1;function NT(n,e,t){!function PT(){const n=[];if((0,Nt.ru)()&&n.push("This is a browser extension environment."),(0,Nt.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=jr.create("invalid-analytics-context",{errorInfo:e});qn.warn(t.message)}}();const r=n.options.appId;if(!r)throw jr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw jr.create("no-api-key");qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ps[r])throw jr.create("already-exists",{id:r});if(!Ly){!function _T(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}($f);const{wrappedGtag:u,gtagCore:c}=function ET(n,e,t,r,i){let u=function(...c){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(u=window[i]),window[i]=function zx(n,e,t,r){var i;return function u(c){return(i=i||(0,oe.Z)(function*(f,...y){try{if("event"===f){const[E,C]=y;yield function wT(n,e,t,r,i){return(Iy=Iy||(0,oe.Z)(function*(u,c,f,y,E){try{let C=[];if(E&&E.send_to){let S=E.send_to;Array.isArray(S)||(S=[S]);const O=yield My(f);for(const N of S){const G=O.find(le=>le.measurementId===N),re=G&&c[G.appId];if(!re){C=[];break}C.push(re)}}0===C.length&&(C=Object.values(c)),yield Promise.all(C),u("event",y,E||{})}catch(C){qn.error(C)}})).apply(this,arguments)}(n,e,t,E,C)}else if("config"===f){const[E,C]=y;yield function vT(n,e,t,r,i,u){return(hd=hd||(0,oe.Z)(function*(c,f,y,E,C,S){const O=E[C];try{if(O)yield f[O];else{const G=(yield My(y)).find(re=>re.measurementId===C);G&&(yield f[G.appId])}}catch(N){qn.error(N)}c("config",C,S)})).apply(this,arguments)}(n,e,t,r,E,C)}else if("consent"===f){const[E]=y;n("consent","update",E)}else if("get"===f){const[E,C,S]=y;n("get",E,C,S)}else if("set"===f){const[E]=y;n("set",E)}else n(f,...y)}catch(E){qn.error(E)}})).apply(this,arguments)}}(u,n,e,t),{gtagCore:u,wrappedGtag:window[i]}}(Ps,FE,LE,$f,ky);Ns=u,Fy=c,Ly=!0}return Ps[r]=xT(n,FE,LE,e,Fy,$f,t),new RT(n)}function Uy(){return(bE=bE||(0,oe.Z)(function*(){if((0,Nt.ru)()||!(0,Nt.zI)()||!(0,Nt.hl)())return!1;try{return yield(0,Nt.eu)()}catch{return!1}})).apply(this,arguments)}const By="@firebase/analytics";!function Zx(){(0,Lt._registerComponent)(new is.wA(Uf,(e,{options:t})=>NT(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,Lt._registerComponent)(new is.wA("analytics-internal",function n(e){try{const t=e.getProvider(Uf).getImmediate();return{logEvent:(r,i,u)=>function BE(n,e,t,r){n=(0,Nt.m9)(n),function PE(n,e,t,r,i){return(fc=fc||(0,oe.Z)(function*(u,c,f,y,E){if(E&&E.global)u("event",f,y);else{const C=yield c;u("event",f,Object.assign(Object.assign({},y),{send_to:C}))}})).apply(this,arguments)}(Ns,Ps[n.app.options.appId],e,t,r).catch(i=>qn.error(i))}(t,r,i,u)}}catch(t){throw jr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,Lt.registerVersion)(By,"0.10.0"),(0,Lt.registerVersion)(By,"0.10.0","esm2017")}();class jE extends Mu.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const gc={setInterval(n,e,...t){const{delegate:r}=gc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=gc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var FT=k(8737);class jf extends jE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,u=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(u,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(u,this.id,t),this}requestAsyncId(e,t,r=0){return gc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&gc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(u){r=!0,i=u||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,FT.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Hf={now:()=>(Hf.delegate||Date).now(),delegate:void 0};class za{constructor(e,t=za.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}za.now=Hf.now;class $y extends za{constructor(e,t=za.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const zE=new class HE extends $y{}(class LT extends jf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),UT=new $y(jf);var md=k(9468),mc=k(5363);const yd=new p.GfV("7.6.1"),GE="__angularfire_symbol__analyticsIsSupportedValue",zf="__angularfire_symbol__analyticsIsSupported",jy="__angularfire_symbol__remoteConfigIsSupportedValue",Hy="__angularfire_symbol__remoteConfigIsSupported",WE="__angularfire_symbol__messagingIsSupportedValue",zy="__angularfire_symbol__messagingIsSupported";function Wy(n,e,t){if(e){if(1===e.length)return e[0];const u=e.filter(c=>c.app===t);if(1===u.length)return u[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[zf]||(globalThis[zf]=Uy().then(n=>globalThis[GE]=n).catch(()=>globalThis[GE]=!1)),globalThis[zy]||(globalThis[zy]=wE().then(n=>globalThis[WE]=n).catch(()=>globalThis[WE]=!1)),globalThis[Hy]||(globalThis[Hy]=jw().then(n=>globalThis[jy]=n).catch(()=>globalThis[jy]=!1));const qy=(n,e)=>{const t=e?[e]:(0,Lt.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r};function yc(){}class qE{constructor(e,t=zE){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(c){i.runGuarded(()=>{e.apply(this,[c])})},t,r)}}class BT{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yc,{},yc,yc)),t.pipe(zn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gf=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new qE(Zone.current)),this.insideAngular=t.run(()=>new qE(Zone.current,UT)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ga(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Go(n){return Ga().ngZone.run(()=>n())}function Ky(n){return Ga(),function KE(n){return function(t){return(t=t.lift(new BT(n.ngZone))).pipe((0,md.R)(n.outsideAngular),(0,mc.Q)(n.insideAngular))}}(Ga())(n)}const HT=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Go(()=>n.apply(void 0,r))},_c=(n,e)=>function(){let t;const r=arguments;for(let u=0;u<arguments.length;u++)"function"==typeof r[u]&&(e&&(t||(t=Go(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yc,{},yc,yc)))),r[u]=HT(r[u],t));const i=function _d(n){return Ga().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Xr.y){const u=Ga();return i.pipe((0,md.R)(u.outsideAngular),(0,mc.Q)(u.insideAngular))}return Go(()=>i)}return i instanceof Xr.y?i.pipe(Ky):i instanceof Promise?Go(()=>new Promise((u,c)=>i.then(f=>Go(()=>u(f)),f=>Go(()=>c(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Go(()=>i)};class vd{constructor(e){return e}}class Zy{constructor(){return(0,Lt.getApps)()}}const Yy=new p.OlP("angularfire2._apps"),GT={provide:vd,useFactory:function zT(n){return n&&1===n.length?n[0]:new vd((0,Lt.getApp)())},deps:[[new p.FiY,Yy]]},wd={provide:Zy,deps:[[new p.FiY,Yy]]};function WT(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new vd(r)}}let Qy=(()=>{class n{constructor(t){(0,Lt.registerVersion)("angularfire",yd.full,"core"),(0,Lt.registerVersion)("angularfire",yd.full,"app"),(0,Lt.registerVersion)("angular",p.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.Lbi))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[GT,wd]}),n})();function ks(n,...e){return{ngModule:Qy,providers:[{provide:Yy,useFactory:WT(n),multi:!0,deps:[p.R0b,p.zs3,Gf,...e]}]}}const qT=_c(Lt.initializeApp,!0);var Ed,YE,qf,t_,Kf;const Id=new Map,Yf={activated:!1,tokenObservers:[]},KT={initialized:!1,enabled:!1};function An(n){return Id.get(n)||Object.assign({},Yf)}function Qf(){return KT}const Jf="https://content-firebaseappcheck.googleapis.com/v1",YT="exchangeDebugToken",i_={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class QT{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,oe.Z)(function*(){t.stop();try{t.pending=new Nt.BH,yield function eI(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Nt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const _r=new Nt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Xf(n){if(!An(n).activated)throw _r.create("use-before-activation",{appName:n.name})}function ep(n,e){return(Ed=Ed||(0,oe.Z)(function*({url:t,body:r},i){const u={"Content-Type":"application/json"},c=i.getImmediate({optional:!0});if(c){const N=yield c.getHeartbeatsHeader();N&&(u["X-Firebase-Client"]=N)}const f={method:"POST",body:JSON.stringify(r),headers:u};let y,E;try{y=yield fetch(t,f)}catch(N){throw _r.create("fetch-network-error",{originalErrorMessage:N?.message})}if(200!==y.status)throw _r.create("fetch-status-error",{httpStatus:y.status});try{E=yield y.json()}catch(N){throw _r.create("fetch-parse-error",{originalErrorMessage:N?.message})}const C=E.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw _r.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const S=1e3*Number(C[1]),O=Date.now();return{token:E.token,expireTimeMillis:O+S,issuedAtTimeMillis:O}})).apply(this,arguments)}function XT(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Jf}/projects/${t}/apps/${r}:${YT}?key=${i}`,body:{debug_token:e}}}const nI="firebase-app-check-database",s_=1,io="firebase-app-check-store";let vc=null;function tp(n,e){return(YE=YE||(0,oe.Z)(function*(t,r){const u=(yield function iI(){return vc||(vc=new Promise((n,e)=>{try{const t=indexedDB.open(nI,s_);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(_r.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(io,{keyPath:"compositeKey"})}}catch(t){e(_r.create("storage-open",{originalErrorMessage:t?.message}))}}),vc)}()).transaction(io,"readwrite"),f=u.objectStore(io).put({compositeKey:t,value:r});return new Promise((y,E)=>{f.onsuccess=C=>{y()},u.onerror=C=>{var S;E(_r.create("storage-set",{originalErrorMessage:null===(S=C.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const Wo=new Mi.Yd("@firebase/app-check");function oI(n,e){return(0,Nt.hl)()?function eS(n,e){return tp(function a_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Wo.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function c_(){return Qf().enabled}function np(){return(qf=qf||(0,oe.Z)(function*(){const n=Qf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rS={error:"UNKNOWN_ERROR"};function uI(n){return Nt.US.encodeString(JSON.stringify(n),!1)}function Ec(n){return(t_=t_||(0,oe.Z)(function*(e,t=!1){const r=e.app;Xf(r);const i=An(r);let c,u=i.token;if(u&&!Wa(u)&&(i.token=void 0,u=void 0),!u){const E=yield i.cachedTokenPromise;E&&(Wa(E)?u=E:yield oI(r,void 0))}if(!t&&u&&Wa(u))return{token:u.token};let y,f=!1;if(c_()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ep(XT(r,yield np()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),f=!0);const E=yield i.exchangeTokenPromise;return yield oI(r,E),i.token=E,{token:E.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),f=!0),u=yield An(r).exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Wo.warn(E.message):Wo.error(E),c=E}return u?c?y=Wa(u)?{token:u.token,internalError:c}:d_(c):(y={token:u.token},i.token=u,yield oI(r,u)):y=d_(c),f&&function dI(n,e){const t=An(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(r,y),y})).apply(this,arguments)}function cI(n,e){const t=An(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function lI(n){const{app:e}=n,t=An(e);let r=t.tokenRefresher;r||(r=function sS(n){const{app:e}=n;return new QT((0,oe.Z)(function*(){let r;if(r=An(e).token?yield Ec(n,!0):yield Ec(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=An(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},i_.RETRIAL_MIN_WAIT,i_.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Wa(n){return n.expireTimeMillis-Date.now()>0}function d_(n){return{token:uI(rS),error:n}}class oS{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=An(this.app);for(const t of e)cI(this.app,t.next);return Promise.resolve()}}const p_="app-check-internal";!function vI(){(0,Lt._registerComponent)(new is.wA("app-check",n=>function hI(n,e){return new oS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(p_).initialize()})),(0,Lt._registerComponent)(new is.wA(p_,n=>function fI(n){return{getToken:e=>Ec(n,e),getLimitedUseToken:()=>function iS(n){return(Kf=Kf||(0,oe.Z)(function*(e){const t=e.app;Xf(t);const{provider:r}=An(t);if(c_()){const i=yield np(),{token:u}=yield ep(XT(t,i),e.heartbeatServiceProvider);return{token:u}}{const{token:i}=yield r.getToken();return{token:i}}})).apply(this,arguments)}(n),addTokenListener:e=>function l_(n,e,t,r){const{app:i}=n,u=An(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Wa(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),lI(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>lI(n))}(n,"INTERNAL",e),removeTokenListener:e=>cI(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Lt.registerVersion)("@firebase/app-check","0.8.0")}();class Td{constructor(){return qy("app-check")}}typeof window<"u"&&window;var EI=k(1389);class II{constructor(e){return e}}class Oi{constructor(){return qy("auth")}}const Sd=new p.OlP("angularfire2.auth-instances");function gR(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new II(r)}}const Pi={provide:Oi,deps:[[new p.FiY,Sd]]},ES={provide:II,useFactory:function wS(n,e){const t=Wy("auth",n,e);return t&&new II(t)},deps:[[new p.FiY,Sd],vd]};let m_=(()=>{class n{constructor(){(0,Lt.registerVersion)("angularfire",yd.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[ES,Pi]}),n})();function IS(n,...e){return{ngModule:m_,providers:[{provide:Sd,useFactory:gR(n),multi:!0,deps:[p.R0b,p.zs3,Gf,Zy,[new p.FiY,Td],...e]}]}}const Ko=_c(EI.o,!0);var Ve,BS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ni={},sp=sp||{},bt=BS||self;function Ic(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ad(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Md="closure_uid_"+(1e9*Math.random()>>>0),op=0;function PR(n,e,t){return n.call.apply(n.bind,arguments)}function NR(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Hr(n,e,t){return(Hr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?PR:NR).apply(null,arguments)}function E_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Kn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,u){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function Zo(){this.s=this.s,this.o=this.o}Zo.prototype.s=!1,Zo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function w_(n){Object.prototype.hasOwnProperty.call(n,Md)&&n[Md]||(n[Md]=++op)}(this)},Zo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function I_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function D_(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Ic(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let c=0;c<u;c++)n[i+c]=r[c]}else n.push(r)}}function wr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}wr.prototype.h=function(){this.defaultPrevented=!0};var AI=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bt.addEventListener("test",()=>{},e),bt.removeEventListener("test",()=>{},e)}catch{}return n}();function xd(n){return/^[\s\xa0]*$/.test(n)}function ap(){var n=bt.navigator;return n&&(n=n.userAgent)?n:""}function as(n){return-1!=ap().indexOf(n)}function Rd(n){return Rd[" "](n),n}Rd[" "]=function(){};var b_,n,MI=as("Opera"),Yo=as("Trident")||as("MSIE"),xI=as("Edge"),C_=xI||Yo,jS=as("Gecko")&&!(-1!=ap().toLowerCase().indexOf("webkit")&&!as("Edge"))&&!(as("Trident")||as("MSIE"))&&!as("Edge"),FR=-1!=ap().toLowerCase().indexOf("webkit")&&!as("Edge");function RI(){var n=bt.document;return n?n.documentMode:void 0}e:{var T_="",OI=(n=ap(),jS?/rv:([^\);]+)(\)|;)/.exec(n):xI?/Edge\/([\d\.]+)/.exec(n):Yo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):FR?/WebKit\/(\S+)/.exec(n):MI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(OI&&(T_=OI?OI[1]:""),Yo){var PI=RI();if(null!=PI&&PI>parseFloat(T_)){b_=String(PI);break e}}b_=T_}var zS=bt.document&&Yo&&(RI()||parseInt(b_,10))||void 0;function up(n,e){if(wr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(jS){e:{try{Rd(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:LR[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&up.$.h.call(this)}}Kn(up,wr);var LR={2:"touch",3:"pen",4:"mouse"};up.prototype.h=function(){up.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var cp="closure_listenable_"+(1e6*Math.random()|0),VR=0;function UR(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++VR,this.fa=this.ia=!1}function S_(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function s(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function a(n){const e={};for(const t in n)e[t]=n[t];return e}const l="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function d(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<l.length;u++)t=l[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function h(n){this.src=n,this.g={},this.h=0}function _(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=SI(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(S_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function w(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return i}return-1}h.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=w(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new UR(e,this.src,u,!!r,i)).ia=t,n.push(e)),e};var I="closure_lm_"+(1e6*Math.random()|0),b={};function M(n,e,t,r,i){if(r&&r.once)return z(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)M(n,e[u],t,r,i);return null}return t=Tt(t),n&&n[cp]?n.O(e,t,Ad(r)?!!r.capture:!!r,i):x(n,e,t,!1,r,i)}function x(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=Ad(i)?!!i.capture:!!i,f=mt(n);if(f||(n[I]=f=new h(n)),(t=f.add(e,t,r,c,u)).proxy)return t;if(r=function j(){const e=Je;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)AI||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Ue(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function z(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)z(n,e[u],t,r,i);return null}return t=Tt(t),n&&n[cp]?n.P(e,t,Ad(r)?!!r.capture:!!r,i):x(n,e,t,!0,r,i)}function ue(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)ue(n,e[u],t,r,i);else r=Ad(r)?!!r.capture:!!r,t=Tt(t),n&&n[cp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=w(u=n.g[e],t,r,i))&&(S_(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=mt(n))&&(e=n.g[e.toString()],n=-1,e&&(n=w(e,t,r,i)),(t=-1<n?e[n]:null)&&Ae(t))}function Ae(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[cp])_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ue(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=mt(e))?(_(t,n),0==t.h&&(t.src=null,e[I]=null)):S_(n)}}}function Ue(n){return n in b?b[n]:b[n]="on"+n}function Je(n,e){if(n.fa)n=!0;else{e=new up(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Ae(n),n=t.call(r,e)}return n}function mt(n){return(n=n[I])instanceof h?n:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(n){return"function"==typeof n?n:(n[ge]||(n[ge]=function(e){return n.handleEvent(e)}),n[ge])}function Ft(){Zo.call(this),this.i=new h(this),this.S=this,this.J=null}function $t(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new wr(e,n);else if(e instanceof wr)e.target=e.target||n;else{var i=e;d(e=new wr(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=A_(c,r,!0,e)&&i}if(i=A_(c=e.g=n,r,!0,e)&&i,i=A_(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=A_(c=e.g=t[u],r,!1,e)&&i}function A_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.fa&&c.capture==t){var f=c.listener,y=c.la||c.src;c.ia&&_(n.i,c),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}Kn(Ft,Zo),Ft.prototype[cp]=!0,Ft.prototype.removeEventListener=function(n,e,t,r){ue(this,n,e,t,r)},Ft.prototype.N=function(){if(Ft.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)S_(t[r]);delete n.g[e],n.h--}}this.J=null},Ft.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ft.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var GS=bt.JSON.stringify;function TL(){var n=WS;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var BR=new class bL{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new AL,n=>n.reset());class AL{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ML(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function xL(n){bt.setTimeout(()=>{throw n},0)}let M_,x_=!1,WS=new class SL{constructor(){this.h=this.g=null}add(e,t){const r=BR.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},$R=()=>{const n=bt.Promise.resolve(void 0);M_=()=>{n.then(RL)}};var RL=()=>{for(var n;n=TL();){try{n.h.call(n.g)}catch(t){xL(t)}var e=BR;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}x_=!1};function kI(n,e){Ft.call(this),this.h=n||1,this.g=e||bt,this.j=Hr(this.qb,this),this.l=Date.now()}function qS(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function KS(n,e,t){if("function"==typeof n)t&&(n=Hr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Hr(n.handleEvent,n)}return 2147483647<Number(e)?-1:bt.setTimeout(n,e||0)}function jR(n){n.g=KS(()=>{n.g=null,n.i&&(n.i=!1,jR(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Kn(kI,Ft),(Ve=kI.prototype).ga=!1,Ve.T=null,Ve.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$t(this,"tick"),this.ga&&(qS(this),this.start()))}},Ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ve.N=function(){kI.$.N.call(this),qS(this),delete this.g};class OL extends Zo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jR(this)}N(){super.N(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function R_(n){Zo.call(this),this.h=n,this.g={}}Kn(R_,Zo);var HR=[];function zR(n,e,t,r){Array.isArray(t)||(t&&(HR[0]=t.toString()),t=HR);for(var i=0;i<t.length;i++){var u=M(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function GR(n){s(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ae(e)},n),n.g={}}function FI(){this.g=!0}function lp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function FL(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return GS(t)}catch{return e}}(n,t)+(r?" "+r:"")})}R_.prototype.N=function(){R_.$.N.call(this),GR(this)},R_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},FI.prototype.Ea=function(){this.g=!1},FI.prototype.info=function(){};var Od={},WR=null;function LI(){return WR=WR||new Ft}function qR(n){wr.call(this,Od.Ta,n)}function O_(n){const e=LI();$t(e,new qR(e))}function KR(n,e){wr.call(this,Od.STAT_EVENT,n),this.stat=e}function gi(n){const e=LI();$t(e,new KR(e,n))}function ZR(n,e){wr.call(this,Od.Ua,n),this.size=e}function P_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){n()},e)}Od.Ta="serverreachability",Kn(qR,wr),Od.STAT_EVENT="statevent",Kn(KR,wr),Od.Ua="timingevent",Kn(ZR,wr);var VI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},YR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ZS(){}function JR(){}ZS.prototype.h=null;var JS,N_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function YS(){wr.call(this,"d")}function QS(){wr.call(this,"c")}function UI(){}function k_(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new R_(this),this.P=LL,this.V=new kI(n=C_?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new XR}function XR(){this.i=null,this.g="",this.h=!1}Kn(YS,wr),Kn(QS,wr),Kn(UI,ZS),UI.prototype.g=function(){return new XMLHttpRequest},UI.prototype.i=function(){return{}},JS=new UI;var LL=45e3,XS={},BI={};function eA(n,e,t){n.L=1,n.v=zI(qa(e)),n.s=t,n.S=!0,e1(n,null)}function e1(n,e){n.G=Date.now(),F_(n),n.A=qa(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),l1(t.i,"t",r),n.C=0,t=n.l.J,n.h=new XR,n.g=N1(n.l,t?e:null,!n.s),0<n.O&&(n.M=new OL(Hr(n.Pa,n,n.g),n.O)),zR(n.U,n.g,"readystatechange",n.nb),e=n.I?a(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),O_(),function PL(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",f=u.split("&"),y=0;y<f.length;y++){var E=f[y].split("=");if(1<E.length){var C=E[0];E=E[1];var S=C.split("_");c=2<=S.length&&"type"==S[1]?c+(C+"=")+E+"&":c+(C+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function t1(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function n1(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=VL(n,t),i==BI){4==e&&(n.o=4,gi(14),r=!1),lp(n.j,n.m,null,"[Incomplete Response]");break}if(i==XS){n.o=4,gi(15),lp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}lp(n.j,n.m,i,null),tA(n,i)}t1(n)&&i!=BI&&i!=XS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,gi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),uA(e),e.M=!0,gi(11))):(lp(n.j,n.m,t,"[Invalid Chunked Response]"),Pd(n),L_(n))}function VL(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?BI:(t=Number(e.substring(t,r)),isNaN(t)?XS:(r+=1)+t>e.length?BI:(e=e.slice(r,r+t),n.C=r+t,e))}function F_(n){n.Y=Date.now()+n.P,r1(n,n.P)}function r1(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=P_(Hr(n.lb,n),e)}function $I(n){n.B&&(bt.clearTimeout(n.B),n.B=null)}function L_(n){0==n.l.H||n.J||x1(n.l,n)}function Pd(n){$I(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,qS(n.V),GR(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function tA(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||nA(t.i,n)))if(!n.K&&nA(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;YI(t),KI(t)}aA(t),gi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=P_(Hr(t.ib,t),6e3));if(1>=f1(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else kd(t,11)}else if((n.K||t.g==n)&&YI(t),!xd(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.V=E[0],E=E[1],2==t.H)if("c"==E[0]){t.K=E[1],t.pa=E[2];const C=E[3];null!=C&&(t.ra=C,t.l.info("VER="+t.ra));const S=E[4];null!=S&&(t.Ga=S,t.l.info("SVER="+t.Ga));const O=E[5];null!=O&&"number"==typeof O&&0<O&&(t.L=r=1.5*O,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const N=n.g;if(N){const G=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var u=r.i;u.g||-1==G.indexOf("spdy")&&-1==G.indexOf("quic")&&-1==G.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(rA(u,u.h),u.h=null))}if(r.F){const re=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;re&&(r.Da=re,In(r.I,r.F,re))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=P1(r,r.J?r.pa:null,r.Y),c.K){p1(r.i,c);var f=c,y=r.L;y&&f.setTimeout(y),f.B&&($I(f),F_(f)),r.g=c}else A1(r);0<t.j.length&&ZI(t)}else"stop"!=E[0]&&"close"!=E[0]||kd(t,7);else 3==t.H&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?kd(t,7):oA(t):"noop"!=E[0]&&t.h&&t.h.Aa(E),t.A=0)}O_()}catch{}}function i1(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ic(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function BL(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ic(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function UL(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ic(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(Ve=k_.prototype).setTimeout=function(n){this.P=n},Ve.nb=function(n){n=n.target;const e=this.M;e&&3==Qo(n)?e.l():this.Pa(n)},Ve.Pa=function(n){try{if(n==this.g)e:{const C=Qo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||C_||this.g&&(this.h.h||this.g.ja()||I1(this.g)))){this.J||4!=C||7==e||O_(),$I(this);var t=this.g.da();this.ca=t;t:if(t1(this)){var r=I1(this.g);n="";var i=r.length,u=4==Qo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Pd(this),L_(this);var c="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function NL(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.W,C,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xd(f)){var E=f;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,gi(12),Pd(this),L_(this);break e}lp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tA(this,t)}this.S?(n1(this,C,c),C_&&this.i&&3==C&&(zR(this.U,this.V,"tick",this.mb),this.V.start())):(lp(this.j,this.m,c,null),tA(this,c)),4==C&&Pd(this),this.i&&!this.J&&(4==C?x1(this.l,this):(this.i=!1,F_(this)))}else(function iV(n){const e={};n=(n.g&&2<=Qo(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(xd(n[r]))continue;var t=ML(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[i]||[];e[i]=u,u.push(t)}!function o(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,gi(12)):(this.o=0,gi(13)),Pd(this),L_(this)}}}catch{}},Ve.mb=function(){if(this.g){var n=Qo(this.g),e=this.g.ja();this.C<e.length&&($I(this),n1(this,n,e),this.i&&4!=n&&F_(this))}},Ve.cancel=function(){this.J=!0,Pd(this)},Ve.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function kL(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(O_(),gi(17)),Pd(this),this.o=2,L_(this)):r1(this,this.Y-n)};var s1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nd(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Nd){this.h=n.h,jI(this,n.j),this.s=n.s,this.g=n.g,HI(this,n.m),this.l=n.l;var e=n.i,t=new B_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),o1(this,t),this.o=n.o}else n&&(e=String(n).match(s1))?(this.h=!1,jI(this,e[1]||"",!0),this.s=V_(e[2]||""),this.g=V_(e[3]||"",!0),HI(this,e[4]),this.l=V_(e[5]||"",!0),o1(this,e[6]||"",!0),this.o=V_(e[7]||"")):(this.h=!1,this.i=new B_(null,this.h))}function qa(n){return new Nd(n)}function jI(n,e,t){n.j=t?V_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function HI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function o1(n,e,t){e instanceof B_?(n.i=e,function qL(n,e){e&&!n.j&&(Dc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(u1(this,r),l1(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=U_(e,GL)),n.i=new B_(e,n.h))}function In(n,e,t){n.i.set(e,t)}function zI(n){return In(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function V_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function U_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,jL),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jL(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Nd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(U_(e,a1,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(U_(e,a1,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(U_(t,"/"==t.charAt(0)?zL:HL,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",U_(t,WL)),n.join("")};var a1=/[#\/\?@]/g,HL=/[#\?:]/g,zL=/[#\?]/g,GL=/[#\?@]/g,WL=/#/g;function B_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Dc(n){n.g||(n.g=new Map,n.h=0,n.i&&function $L(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function u1(n,e){Dc(n),e=dp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function c1(n,e){return Dc(n),e=dp(n,e),n.g.has(e)}function l1(n,e,t){u1(n,e),0<t.length&&(n.i=null,n.g.set(dp(n,e),I_(t)),n.h+=t.length)}function dp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function d1(n){this.l=n||ZL,n=bt.PerformanceNavigationTiming?0<(n=bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bt.g&&bt.g.Ka&&bt.g.Ka()&&bt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ve=B_.prototype).add=function(n,e){Dc(this),this.i=null,n=dp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ve.forEach=function(n,e){Dc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ve.ta=function(){Dc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},Ve.Z=function(n){Dc(this);let e=[];if("string"==typeof n)c1(this,n)&&(e=e.concat(this.g.get(dp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ve.set=function(n,e){return Dc(this),this.i=null,c1(this,n=dp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ve.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=u;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var ZL=10;function h1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function f1(n){return n.h?1:n.g?n.g.size:0}function nA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function rA(n,e){n.g?n.g.add(e):n.h=e}function p1(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function g1(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return I_(n.i)}d1.prototype.cancel=function(){if(this.i=g1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var YL=class{stringify(n){return bt.JSON.stringify(n,void 0)}parse(n){return bt.JSON.parse(n,void 0)}};function QL(){this.g=new YL}function JL(n,e,t){const r=t||"";try{i1(n,function(i,u){let c=i;Ad(i)&&(c=GS(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function GI(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $_(n){this.l=n.fc||null,this.j=n.ob||!1}function WI(n,e){Ft.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=iA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kn($_,ZS),$_.prototype.g=function(){return new WI(this.l,this.j)},$_.prototype.i=function(n){return function(){return n}}({}),Kn(WI,Ft);var iA=0;function m1(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function j_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,H_(n)}function H_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ve=WI.prototype).open=function(n,e){if(this.readyState!=iA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,H_(this)},Ve.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,j_(this)),this.readyState=iA},Ve.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,H_(this)),this.g&&(this.readyState=3,H_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;m1(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ve.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?j_(this):H_(this),3==this.readyState&&m1(this)}},Ve.Za=function(n){this.g&&(this.response=this.responseText=n,j_(this))},Ve.Ya=function(n){this.g&&(this.response=n,j_(this))},Ve.ka=function(){this.g&&j_(this)},Ve.setRequestHeader=function(n,e){this.v.append(n,e)},Ve.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ve.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(WI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var eV=bt.JSON.parse;function Un(n){Ft.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=y1,this.L=this.M=!1}Kn(Un,Ft);var y1="",tV=/^https?$/i,nV=["POST","PUT"];function _1(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,v1(n),qI(n)}function v1(n){n.F||(n.F=!0,$t(n,"complete"),$t(n,"error"))}function w1(n){if(n.h&&typeof sp<"u"&&(!n.C[1]||4!=Qo(n)||2!=n.da()))if(n.v&&4==Qo(n))KS(n.La,0,n);else if($t(n,"readystatechange"),4==Qo(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(s1)[1]||null;!i&&bt.self&&bt.self.location&&(i=bt.self.location.protocol.slice(0,-1)),r=!tV.test(i?i.toLowerCase():"")}t=r}if(t)$t(n,"complete"),$t(n,"success");else{n.m=6;try{var u=2<Qo(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",v1(n)}}finally{qI(n)}}}function qI(n,e){if(n.g){E1(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||$t(n,"ready");try{t.onreadystatechange=r}catch{}}}function E1(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(bt.clearTimeout(n.A),n.A=null)}function Qo(n){return n.g?n.g.readyState:0}function I1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case y1:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function D1(n){let e="";return s(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function sA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=D1(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):In(n,e,t))}function z_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function C1(n){this.Ga=0,this.j=[],this.l=new FI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=z_("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=z_("baseRetryDelayMs",5e3,n),this.hb=z_("retryDelaySeedMs",1e4,n),this.eb=z_("forwardChannelMaxRetries",2,n),this.xa=z_("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new d1(n&&n.concurrentRequestLimit),this.Ja=new QL,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function oA(n){if(b1(n),3==n.H){var e=n.W++,t=qa(n.I);if(In(t,"SID",n.K),In(t,"RID",e),In(t,"TYPE","terminate"),G_(n,t),(e=new k_(n,n.l,e)).L=2,e.v=zI(qa(t)),t=!1,bt.navigator&&bt.navigator.sendBeacon)try{t=bt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=N1(e.l,null),e.g.ha(e.v)),e.G=Date.now(),F_(e)}O1(n)}function KI(n){n.g&&(uA(n),n.g.cancel(),n.g=null)}function b1(n){KI(n),n.u&&(bt.clearTimeout(n.u),n.u=null),YI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&bt.clearTimeout(n.m),n.m=null)}function ZI(n){if(!h1(n.i)&&!n.m){n.m=!0;var e=n.Na;M_||$R(),x_||(M_(),x_=!0),WS.add(e,n),n.C=0}}function T1(n,e){var t;t=e?e.m:n.W++;const r=qa(n.I);In(r,"SID",n.K),In(r,"RID",t),In(r,"AID",n.V),G_(n,r),n.o&&n.s&&sA(r,n.o,n.s),t=new k_(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=S1(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),rA(n.i,t),eA(t,r,e)}function G_(n,e){n.na&&s(n.na,function(t,r){In(e,r,t)}),n.h&&i1({},function(t,r){In(e,r,t)})}function S1(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Hr(n.h.Va,n.h,n):null;e:{var i=n.j;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].g,c.push("ofs="+u)):u=0:c.push("ofs="+u);let f=!0;for(let y=0;y<t;y++){let E=i[y].g;const C=i[y].map;if(E-=u,0>E)u=Math.max(0,i[y].g-100),f=!1;else try{JL(C,c,"req"+E+"_")}catch{r&&r(C)}}if(f){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function A1(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;M_||$R(),x_||(M_(),x_=!0),WS.add(e,n),n.A=0}}function aA(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=P_(Hr(n.Ma,n),R1(n,n.A)),n.A++,0))}function uA(n){null!=n.B&&(bt.clearTimeout(n.B),n.B=null)}function M1(n){n.g=new k_(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=qa(n.wa);In(e,"RID","rpc"),In(e,"SID",n.K),In(e,"AID",n.V),In(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&In(e,"TO",n.qa),In(e,"TYPE","xmlhttp"),G_(n,e),n.o&&n.s&&sA(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=zI(qa(e)),t.s=null,t.S=!0,e1(t,n)}function YI(n){null!=n.v&&(bt.clearTimeout(n.v),n.v=null)}function x1(n,e){var t=null;if(n.g==e){YI(n),uA(n),n.g=null;var r=2}else{if(!nA(n.i,e))return;t=e.F,p1(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;$t(r=LI(),new ZR(r,t)),ZI(n)}else A1(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function sV(n,e){return!(f1(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=P_(Hr(n.Na,n,e),R1(n,n.C)),n.C++,0)))}(n,e)||2==r&&aA(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:kd(n,5);break;case 4:kd(n,10);break;case 3:kd(n,6);break;default:kd(n,2)}}function R1(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function kd(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Hr(n.pb,n);t||(t=new Nd("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||jI(t,"https"),zI(t)),function XL(n,e){const t=new FI;if(bt.Image){const r=new Image;r.onload=E_(GI,t,r,"TestLoadImage: loaded",!0,e),r.onerror=E_(GI,t,r,"TestLoadImage: error",!1,e),r.onabort=E_(GI,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=E_(GI,t,r,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else gi(2);n.H=0,n.h&&n.h.za(e),O1(n),b1(n)}function O1(n){if(n.H=0,n.ma=[],n.h){const e=g1(n.i);(0!=e.length||0!=n.j.length)&&(D_(n.ma,e),D_(n.ma,n.j),n.i.i.length=0,I_(n.j),n.j.length=0),n.h.ya()}}function P1(n,e,t){var r=t instanceof Nd?qa(t):new Nd(t);if(""!=r.g)e&&(r.g=e+"."+r.g),HI(r,r.m);else{var i=bt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new Nd(null);r&&jI(u,r),e&&(u.g=e),i&&HI(u,i),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&In(r,t,e),In(r,"VER",n.ra),G_(n,r),r}function N1(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Un(t&&n.Ha&&!n.va?new $_({ob:!0}):n.va)).Oa(n.J),e}function k1(){}function QI(){if(Yo&&!(10<=Number(zS)))throw Error("Environmental error: no available transport.")}function us(n,e){Ft.call(this),this.g=new C1(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!xd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new hp(this)}function F1(n){YS.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function L1(){QS.call(this),this.status=1}function hp(n){this.g=n}function so(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function cA(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],c=(e=n.g[0])+(u^(t=n.g[1])&((i=n.g[2])^u))+r[0]+3614090360&4294967295;c=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=t+(c<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^u&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^u)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((u=(e=t+((c=e+(i^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=u+((c=i+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+u&4294967295}function cn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var u=0|n[i];r&&u==e||(t[i]=u,r=!1)}this.g=t}(Ve=Un.prototype).Oa=function(n){this.M=n},Ve.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():JS.g(),this.C=function QR(n){return n.h||(n.h=n.i())}(this.u?this.u:JS),this.g.onreadystatechange=Hr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void _1(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=bt.FormData&&n instanceof bt.FormData,!(0<=SI(nV,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of t)this.g.setRequestHeader(u,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{E1(this),0<this.B&&((this.L=function rV(n){return Yo&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hr(this.ua,this)):this.A=KS(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){_1(this,u)}},Ve.ua=function(){typeof sp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$t(this,"timeout"),this.abort(8))},Ve.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$t(this,"complete"),$t(this,"abort"),qI(this))},Ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qI(this,!0)),Un.$.N.call(this)},Ve.La=function(){this.s||(this.G||this.v||this.l?w1(this):this.kb())},Ve.kb=function(){w1(this)},Ve.isActive=function(){return!!this.g},Ve.da=function(){try{return 2<Qo(this)?this.g.status:-1}catch{return-1}},Ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ve.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),eV(e)}},Ve.Ia=function(){return this.m},Ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ve=C1.prototype).ra=8,Ve.H=1,Ve.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new k_(this,this.l,n);let u=this.s;if(this.U&&(u?(u=a(u),d(u,this.U)):u=this.U),null!==this.o||this.O||(i.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=S1(this,i,e),In(t=qa(this.I),"RID",n),In(t,"CVER",22),this.F&&In(t,"X-HTTP-Session-Id",this.F),G_(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(D1(u)))+"&"+e:this.o&&sA(t,this.o,u)),rA(this.i,i),this.bb&&In(t,"TYPE","init"),this.P?(In(t,"$req",e),In(t,"SID","null"),i.aa=!0,eA(i,t,null)):eA(i,t,e),this.H=2}}else 3==this.H&&(n?T1(this,n):0==this.j.length||h1(this.i)||T1(this))},Ve.Ma=function(){if(this.u=null,M1(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=P_(Hr(this.jb,this),n)}},Ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gi(10),KI(this),M1(this))},Ve.ib=function(){null!=this.v&&(this.v=null,KI(this),aA(this),gi(19))},Ve.pb=function(n){n?(this.l.info("Successfully pinged google.com"),gi(2)):(this.l.info("Failed to ping google.com"),gi(1))},Ve.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ve=k1.prototype).Ba=function(){},Ve.Aa=function(){},Ve.za=function(){},Ve.ya=function(){},Ve.isActive=function(){return!0},Ve.Va=function(){},QI.prototype.g=function(n,e){return new us(n,e)},Kn(us,Ft),us.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;gi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=P1(n,null,n.Y),ZI(n)},us.prototype.close=function(){oA(this.g)},us.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=GS(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&ZI(e)},us.prototype.N=function(){this.g.h=null,delete this.j,oA(this.g),delete this.g,us.$.N.call(this)},Kn(F1,YS),Kn(L1,QS),Kn(hp,k1),hp.prototype.Ba=function(){$t(this.g,"a")},hp.prototype.Aa=function(n){$t(this.g,new F1(n))},hp.prototype.za=function(n){$t(this.g,new L1)},hp.prototype.ya=function(){$t(this.g,"b")},Kn(so,function oV(){this.blockSize=-1}),so.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},so.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,u=0;u<e;){if(0==i)for(;u<=t;)cA(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[i++]=n.charCodeAt(u++),i==this.blockSize){cA(this,r),i=0;break}}else for(;u<e;)if(r[i++]=n[u++],i==this.blockSize){cA(this,r),i=0;break}}this.h=i,this.i+=e},so.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var aV={};function lA(n){return-128<=n&&128>n?function kR(n,e){var t=aV;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new cn([0|e],0>e?-1:0)}):new cn([0|n],0>n?-1:0)}function Jo(n){if(isNaN(n)||!isFinite(n))return fp;if(0>n)return zr(Jo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=dA;return new cn(e,0)}var dA=4294967296,fp=lA(0),hA=lA(1),U1=lA(16777216);function Ka(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Fs(n){return-1==n.h}function zr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new cn(t,~n.h).add(hA)}function JI(n,e){return n.add(zr(e))}function XI(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function W_(n,e){this.g=n,this.h=e}function eD(n,e){if(Ka(e))throw Error("division by zero");if(Ka(n))return new W_(fp,fp);if(Fs(n))return e=eD(zr(n),e),new W_(zr(e.g),zr(e.h));if(Fs(e))return e=eD(n,zr(e)),new W_(zr(e.g),e.h);if(30<n.g.length){if(Fs(n)||Fs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=hA,r=e;0>=r.X(n);)t=B1(t),r=B1(r);var i=pp(t,1),u=pp(r,1);for(r=pp(r,2),t=pp(t,2);!Ka(r);){var c=u.add(r);0>=c.X(n)&&(i=i.add(t),u=c),r=pp(r,1),t=pp(t,1)}return e=JI(n,i.R(e)),new W_(i,e)}for(i=fp;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(u=Jo(t)).R(e);Fs(c)||0<c.X(n);)c=(u=Jo(t-=r)).R(e);Ka(u)&&(u=hA),i=i.add(u),n=JI(n,c)}return new W_(i,n)}function B1(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new cn(t,n.h)}function pp(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],u=0;u<r;u++)i[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new cn(i,n.h)}(Ve=cn.prototype).ea=function(){if(Fs(this))return-zr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:dA+r)*e,e*=dA}return n},Ve.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ka(this))return"0";if(Fs(this))return"-"+zr(this).toString(n);for(var e=Jo(Math.pow(n,6)),t=this,r="";;){var i=eD(t,e).g,u=((0<(t=JI(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ka(t=i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Ve.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ve.X=function(n){return Fs(n=JI(this,n))?-1:Ka(n)?0:1},Ve.abs=function(){return Fs(this)?zr(this):this},Ve.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var u=r+(65535&this.D(i))+(65535&n.D(i)),c=(u>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(u&=65535)}return new cn(t,-2147483648&t[t.length-1]?-1:0)},Ve.R=function(n){if(Ka(this)||Ka(n))return fp;if(Fs(this))return Fs(n)?zr(this).R(zr(n)):zr(zr(this).R(n));if(Fs(n))return zr(this.R(zr(n)));if(0>this.X(U1)&&0>n.X(U1))return Jo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var u=this.D(r)>>>16,c=65535&this.D(r),f=n.D(i)>>>16,y=65535&n.D(i);t[2*r+2*i]+=c*y,XI(t,2*r+2*i),t[2*r+2*i+1]+=u*y,XI(t,2*r+2*i+1),t[2*r+2*i+1]+=c*f,XI(t,2*r+2*i+1),t[2*r+2*i+2]+=u*f,XI(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new cn(t,0)},Ve.gb=function(n){return eD(this,n).h},Ve.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new cn(t,this.h&n.h)},Ve.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new cn(t,this.h|n.h)},Ve.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new cn(t,this.h^n.h)},QI.prototype.createWebChannel=QI.prototype.g,us.prototype.send=us.prototype.u,us.prototype.open=us.prototype.m,us.prototype.close=us.prototype.close,VI.NO_ERROR=0,VI.TIMEOUT=8,VI.HTTP_ERROR=6,YR.COMPLETE="complete",JR.EventType=N_,N_.OPEN="a",N_.CLOSE="b",N_.ERROR="c",N_.MESSAGE="d",Ft.prototype.listen=Ft.prototype.O,Un.prototype.listenOnce=Un.prototype.P,Un.prototype.getLastError=Un.prototype.Sa,Un.prototype.getLastErrorCode=Un.prototype.Ia,Un.prototype.getStatus=Un.prototype.da,Un.prototype.getResponseJson=Un.prototype.Wa,Un.prototype.getResponseText=Un.prototype.ja,Un.prototype.send=Un.prototype.ha,Un.prototype.setWithCredentials=Un.prototype.Oa,so.prototype.digest=so.prototype.l,so.prototype.reset=so.prototype.reset,so.prototype.update=so.prototype.j,cn.prototype.add=cn.prototype.add,cn.prototype.multiply=cn.prototype.R,cn.prototype.modulo=cn.prototype.gb,cn.prototype.compare=cn.prototype.X,cn.prototype.toNumber=cn.prototype.ea,cn.prototype.toString=cn.prototype.toString,cn.prototype.getBits=cn.prototype.D,cn.fromNumber=Jo,cn.fromString=function V1(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return zr(V1(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Jo(Math.pow(e,8)),r=fp,i=0;i<n.length;i+=8){var u=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+u),e);8>u?(u=Jo(Math.pow(e,u)),r=r.R(u).add(Jo(c))):r=(r=r.R(t)).add(Jo(c))}return r};var j1,H1,z1,K1,Z1,Y1,Q1,J1,X1,eO,tO,nO,rO,iO,sO,oO,aO,uO,cO,lO,dO,hO,fO,pO,gO,mO,_O,vO,SO,AO,MO,xO,RO,uV=Ni.createWebChannelTransport=function(){return new QI},cV=Ni.getStatEventTarget=function(){return LI()},fA=Ni.ErrorCode=VI,lV=Ni.EventType=YR,dV=Ni.Event=Od,$1=Ni.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},hV=Ni.FetchXmlHttpFactory=$_,tD=Ni.WebChannel=JR,fV=Ni.XhrIo=Un,pV=Ni.Md5=so,gp=Ni.Integer=cn;const OO="@firebase/firestore";class Pr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pr.UNAUTHENTICATED=new Pr(null),Pr.GOOGLE_CREDENTIALS=new Pr("google-credentials-uid"),Pr.FIRST_PARTY=new Pr("first-party-uid"),Pr.MOCK_USER=new Pr("mock-user");let mp="9.23.0";const Cc=new Mi.Yd("@firebase/firestore");function pA(){return Cc.logLevel}function Ee(n,...e){if(Cc.logLevel<=Mi.in.DEBUG){const t=e.map(gA);Cc.debug(`Firestore (${mp}): ${n}`,...t)}}function Zn(n,...e){if(Cc.logLevel<=Mi.in.ERROR){const t=e.map(gA);Cc.error(`Firestore (${mp}): ${n}`,...t)}}function oo(n,...e){if(Cc.logLevel<=Mi.in.WARN){const t=e.map(gA);Cc.warn(`Firestore (${mp}): ${n}`,...t)}}function gA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Xe(n="Unexpected state"){const e=`FIRESTORE (${mp}) INTERNAL ASSERTION FAILED: `+n;throw Zn(e),new Error(e)}function ut(n,e){n||Xe()}function je(n,e){return n}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Nt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class PO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pr.UNAUTHENTICATED))}shutdown(){}}class mV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yV{constructor(e){this.t=e,this.currentUser=Pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let c=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Er,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const E=c;e.enqueueRetryable((0,oe.Z)(function*(){yield E.promise,yield u(r.currentUser)}))},y=E=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(E=>y(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?y(E):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Er)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut("string"==typeof r.accessToken),new PO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(null===e||"string"==typeof e),new Pr(e)}}class _V{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Pr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class vV{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new _V(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wV{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.T;return this.T=u.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?i(u):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut("string"==typeof t.token),this.T=t.token,new NO(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function EV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class kO{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=EV(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Rt(n,e){return n<e?-1:n>e?1:0}function yp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Pn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Pn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new lt(e)}static min(){return new lt(new Pn(0,0))}static max(){return new lt(new Pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class q_{constructor(e,t,r){void 0===t?t=0:t>e.length&&Xe(),void 0===r?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===q_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof q_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Yt extends q_{construct(e,t,r){return new Yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Yt(t)}static emptyPath(){return new Yt([])}}const IV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends q_{construct(e,t,r){return new Yn(e,t,r)}static isValidIdentifier(e){return IV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new me(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new me(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new me(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(u(),i++)}if(u(),c)throw new me(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(t)}static emptyPath(){return new Yn([])}}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Yt.fromString(e))}static fromName(e){return new $e(Yt.fromString(e).popFirst(5))}static empty(){return new $e(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Yt(e.slice()))}}function VO(n){return new cs(n.readTime,n.key,-1)}class cs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new cs(lt.min(),$e.empty(),-1)}static max(){return new cs(lt.max(),$e.empty(),-1)}}function yA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=$e.comparator(n.documentKey,e.documentKey),0!==t?t:Rt(n.largestBatchId,e.largestBatchId))}const UO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function bc(n){return(j1=j1||(0,oe.Z)(function*(e){if(e.code!==X.FAILED_PRECONDITION||e.message!==UO)throw e;Ee("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,r)=>{t(e)})}static reject(e){return new K((t,r)=>{r(e)})}static waitFor(e){return new K((t,r)=>{let i=0,u=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++u,c&&u===i&&t()},y=>r(y))}),c=!0,u===i&&t()})}static or(e){let t=K.resolve(!1);for(const r of e)t=t.next(i=>i?K.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new K((r,i)=>{const u=e.length,c=new Array(u);let f=0;for(let y=0;y<u;y++){const E=y;t(e[E]).next(C=>{c[E]=C,++f,f===u&&r(c)},C=>i(C))}})}static doWhile(e,t){return new K((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}function Tc(n){return"IndexedDbTransactionError"===n.name}let ls=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Y_(n){return null==n}function Q_(n){return 0===n&&1/n==-1/0}function KO(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class mn{constructor(e,t){this.comparator=e,this.root=t||Gr.EMPTY}insert(e,t){return new mn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gr.BLACK,null,null))}remove(e){return new mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oD(this.root,e,this.comparator,!1)}getReverseIterator(){return new oD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oD(this.root,e,this.comparator,!0)}}class oD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gr{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??Gr.RED,this.left=i??Gr.EMPTY,this.right=u??Gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Gr(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Gr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Gr.EMPTY=null,Gr.RED=!0,Gr.BLACK=!1,Gr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Gr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(e){this.comparator=e,this.data=new mn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new YO(this.data.getIterator())}getIteratorFrom(e){return new YO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dn(this.comparator);return t.data=e,t}}class YO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ki{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new ki([])}unionWith(e){let t=new Dn(Yn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ki(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class QO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new QO("Invalid base64 string: "+i):i}}(e);return new Ir(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Ir(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const KV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ac(n){if(ut(!!n),"string"==typeof n){let e=0;const t=KV.exec(n);if(ut(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bn(n.seconds),nanos:Bn(n.nanos)}}function Bn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Za(n){return"string"==typeof n?Ir.fromBase64String(n):Ir.fromUint8Array(n)}function aD(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function uD(n){const e=n.mapValue.fields.__previous_value__;return aD(e)?uD(e):e}function J_(n){const e=Ac(n.mapValue.fields.__local_write_time__.timestampValue);return new Pn(e.seconds,e.nanos)}class ZV{constructor(e,t,r,i,u,c,f,y,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=y,this.useFetchStreams=E}}class Vd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vd&&e.projectId===this.projectId&&e.database===this.database}}const Mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?aD(n)?4:tP(n)?9007199254740991:10:Xe()}function ea(n,e){if(n===e)return!0;const t=xc(n);if(t!==xc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return J_(n).isEqual(J_(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=Ac(r.timestampValue),c=Ac(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Za(n.bytesValue).isEqual(Za(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Bn(r.geoPointValue.latitude)===Bn(i.geoPointValue.latitude)&&Bn(r.geoPointValue.longitude)===Bn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Bn(r.integerValue)===Bn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Bn(r.doubleValue),c=Bn(i.doubleValue);return u===c?Q_(u)===Q_(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return yp(n.arrayValue.values||[],e.arrayValue.values||[],ea);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(KO(u)!==KO(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===c[f]||!ea(u[f],c[f])))return!1;return!0}(n,e);default:return Xe()}var i}function X_(n,e){return void 0!==(n.values||[]).find(t=>ea(t,e))}function Rc(n,e){if(n===e)return 0;const t=xc(n),r=xc(e);if(t!==r)return Rt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Rt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=Bn(i.integerValue||i.doubleValue),f=Bn(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return JO(n.timestampValue,e.timestampValue);case 4:return JO(J_(n),J_(e));case 5:return Rt(n.stringValue,e.stringValue);case 6:return function(i,u){const c=Za(i),f=Za(u);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),f=u.split("/");for(let y=0;y<c.length&&y<f.length;y++){const E=Rt(c[y],f[y]);if(0!==E)return E}return Rt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=Rt(Bn(i.latitude),Bn(u.latitude));return 0!==c?c:Rt(Bn(i.longitude),Bn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],f=u.values||[];for(let y=0;y<c.length&&y<f.length;++y){const E=Rc(c[y],f[y]);if(E)return E}return Rt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Mc.mapValue&&u===Mc.mapValue)return 0;if(i===Mc.mapValue)return 1;if(u===Mc.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),y=u.fields||{},E=Object.keys(y);f.sort(),E.sort();for(let C=0;C<f.length&&C<E.length;++C){const S=Rt(f[C],E[C]);if(0!==S)return S;const O=Rc(c[f[C]],y[E[C]]);if(0!==O)return O}return Rt(f.length,E.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function JO(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Rt(n,e);const t=Ac(n),r=Ac(e),i=Rt(t.seconds,r.seconds);return 0!==i?i:Rt(t.nanos,r.nanos)}function vp(n){return wA(n)}function wA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ac(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Za(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=wA(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const f of i)c?c=!1:u+=",",u+=`${f}:${wA(r.fields[f])}`;return u+"}"}(n.mapValue):Xe();var e}function EA(n){return!!n&&"integerValue"in n}function ev(n){return!!n&&"arrayValue"in n}function XO(n){return!!n&&"nullValue"in n}function eP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dD(n){return!!n&&"mapValue"in n}function tv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=tv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Wr{constructor(e){this.value=e}static empty(){return new Wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tv(t)}setAll(e){let t=Yn.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=tv(c):i.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());dD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ea(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];dD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Sc(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Wr(tv(this.value))}}function iP(n){const e=[];return Sc(n.fields,(t,r)=>{const i=new Yn([t]);if(dD(r)){const u=iP(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new ki(e)}class Cn{constructor(e,t,r,i,u,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Cn(e,0,lt.min(),lt.min(),lt.min(),Wr.empty(),0)}static newFoundDocument(e,t,r,i){return new Cn(e,1,t,lt.min(),r,i,0)}static newNoDocument(e,t){return new Cn(e,2,t,lt.min(),lt.min(),Wr.empty(),0)}static newUnknownDocument(e,t){return new Cn(e,3,t,lt.min(),lt.min(),Wr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oc{constructor(e,t){this.position=e,this.inclusive=t}}function sP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?$e.comparator($e.fromName(c.referenceValue),t.key):Rc(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function oP(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ea(n.position[t],e.position[t]))return!1;return!0}class wp{constructor(e,t="asc"){this.field=e,this.dir=t}}function JV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class aP{}class Kt extends aP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new XV(e,t,r):"array-contains"===t?new n2(e,r):"in"===t?new fP(e,r):"not-in"===t?new r2(e,r):"array-contains-any"===t?new i2(e,r):new Kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new e2(e,r):new t2(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Rc(t,this.value)):null!==t&&xc(this.value)===xc(t)&&this.matchesComparison(Rc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ln extends aP{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ln(e,t)}matches(e){return Ep(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ep(n){return"and"===n.op}function DA(n){return function uP(n){for(const e of n.filters)if(e instanceof ln)return!1;return!0}(n)&&Ep(n)}function CA(n){if(n instanceof Kt)return n.field.canonicalString()+n.op.toString()+vp(n.value);if(DA(n))return n.filters.map(e=>CA(e)).join(",");{const e=n.filters.map(t=>CA(t)).join(",");return`${n.op}(${e})`}}function cP(n,e){return n instanceof Kt?(t=n,(r=e)instanceof Kt&&t.op===r.op&&t.field.isEqual(r.field)&&ea(t.value,r.value)):n instanceof ln?function(t,r){return r instanceof ln&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,c)=>i&&cP(u,r.filters[c]),!0)}(n,e):void Xe();var t,r}function dP(n){return n instanceof Kt?`${(e=n).field.canonicalString()} ${e.op} ${vp(e.value)}`:n instanceof ln?function(e){return e.op.toString()+" {"+e.getFilters().map(dP).join(" ,")+"}"}(n):"Filter";var e}class XV extends Kt{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.matchesComparison(t)}}class e2 extends Kt{constructor(e,t){super(e,"in",t),this.keys=hP(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class t2 extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=hP(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hP(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>$e.fromName(r.referenceValue))}class n2 extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ev(t)&&X_(t.arrayValue,this.value)}}class fP extends Kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&X_(this.value.arrayValue,t)}}class r2 extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(X_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!X_(this.value.arrayValue,t)}}class i2 extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ev(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>X_(this.value.arrayValue,r))}}class s2{constructor(e,t=null,r=[],i=[],u=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=f,this.dt=null}}function bA(n,e=null,t=[],r=[],i=null,u=null,c=null){return new s2(n,e,t,r,i,u,c)}function Bd(n){const e=je(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>CA(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Y_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vp(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vp(r)).join(",")),e.dt=t}return e.dt}function nv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!JV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oP(n.startAt,e.startAt)&&oP(n.endAt,e.endAt)}function hD(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ya{constructor(e,t=null,r=[],i=[],u=null,c="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=f,this.endAt=y,this.wt=null,this._t=null}}function Ip(n){return new Ya(n)}function yP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function $d(n){const e=je(n);if(null===e.wt){e.wt=[];const t=function pD(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function TA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new wp(t)),e.wt.push(new wp(Yn.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new wp(Yn.keyField(),u))}}}return e.wt}function mi(n){const e=je(n);if(!e._t)if("F"===e.limitType)e._t=bA(e.path,e.collectionGroup,$d(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of $d(e))t.push(new wp(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Oc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Oc(e.startAt.position,e.startAt.inclusive):null;e._t=bA(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function gD(n,e,t){return new Ya(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rv(n,e){return nv(mi(n),mi(e))&&n.limitType===e.limitType}function _P(n){return`${Bd(mi(n))}|lt:${n.limitType}`}function MA(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>dP(r)).join(", ")}]`),Y_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vp(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vp(r)).join(",")),`Target(${t})`}(mi(n))}; limitType=${n.limitType})`}function iv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):$e.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of $d(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const f=sP(i,u,c);return i.inclusive?f<=0:f<0}(t.startAt,$d(t),r)||t.endAt&&!function(i,u,c){const f=sP(i,u,c);return i.inclusive?f>=0:f>0}(t.endAt,$d(t),r)));var t,r}function wP(n){return(e,t)=>{let r=!1;for(const i of $d(n)){const u=o2(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function o2(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):function(i,u,c){const f=u.data.field(i),y=c.data.field(i);return null!==f&&null!==y?Rc(f,y):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}class Qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sc(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return ZO(this.inner)}size(){return this.innerSize}}const a2=new mn($e.comparator);function Fi(){return a2}const EP=new mn($e.comparator);function sv(...n){let e=EP;for(const t of n)e=e.insert(t.key,t);return e}function IP(n){let e=EP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ta(){return ov()}function DP(){return ov()}function ov(){return new Qa(n=>n.toString(),(n,e)=>n.isEqual(e))}const u2=new mn($e.comparator),c2=new Dn($e.comparator);function Vt(...n){let e=c2;for(const t of n)e=e.add(t);return e}const l2=new Dn(Rt);function CP(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Q_(e)?"-0":e}}function bP(n){return{integerValue:""+n}}function TP(n,e){return function $O(n){return"number"==typeof n&&Number.isInteger(n)&&!Q_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?bP(e):CP(n,e)}class mD{constructor(){this._=void 0}}function d2(n,e,t){return n instanceof Dp?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&aD(i)&&(i=uD(i)),i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof jd?AP(n,e):n instanceof Hd?MP(n,e):function(r,i){const u=SP(r,i),c=xP(u)+xP(r.gt);return EA(u)&&EA(r.gt)?bP(c):CP(r.serializer,c)}(n,e)}function h2(n,e,t){return n instanceof jd?AP(n,e):n instanceof Hd?MP(n,e):t}function SP(n,e){return n instanceof Cp?EA(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Dp extends mD{}class jd extends mD{constructor(e){super(),this.elements=e}}function AP(n,e){const t=RP(e);for(const r of n.elements)t.some(i=>ea(i,r))||t.push(r);return{arrayValue:{values:t}}}class Hd extends mD{constructor(e){super(),this.elements=e}}function MP(n,e){let t=RP(e);for(const r of n.elements)t=t.filter(i=>!ea(i,r));return{arrayValue:{values:t}}}class Cp extends mD{constructor(e,t){super(),this.serializer=e,this.gt=t}}function xP(n){return Bn(n.integerValue||n.doubleValue)}function RP(n){return ev(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class p2{constructor(e,t){this.version=e,this.transformResults=t}}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class _D{}function OP(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Tp(n.key,Mn.none()):new bp(n.key,n.data,Mn.none());{const t=n.data,r=Wr.empty();let i=new Dn(Yn.comparator);for(let u of e.fields)if(!i.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),i=i.add(u)}return new Ja(n.key,r,new ki(i.toArray()),Mn.none())}}function g2(n,e,t){n instanceof bp?function(r,i,u){const c=r.value.clone(),f=kP(r.fieldTransforms,i,u.transformResults);c.setAll(f),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ja?function(r,i,u){if(!yD(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=kP(r.fieldTransforms,i,u.transformResults),f=i.data;f.setAll(NP(r)),f.setAll(c),i.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function uv(n,e,t,r){return n instanceof bp?function(i,u,c,f){if(!yD(i.precondition,u))return c;const y=i.value.clone(),E=FP(i.fieldTransforms,f,u);return y.setAll(E),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ja?function(i,u,c,f){if(!yD(i.precondition,u))return c;const y=FP(i.fieldTransforms,f,u),E=u.data;return E.setAll(NP(i)),E.setAll(y),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(C=>C.field))}(n,e,t,r):(c=t,yD(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function m2(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=SP(r.transform,i||null);null!=u&&(null===t&&(t=Wr.empty()),t.set(r.field,u))}return t||null}function PP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&yp(t,r,(i,u)=>function f2(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof jd&&r instanceof jd||t instanceof Hd&&r instanceof Hd?yp(t.elements,r.elements,ea):t instanceof Cp&&r instanceof Cp?ea(t.gt,r.gt):t instanceof Dp&&r instanceof Dp);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class bp extends _D{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ja extends _D{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function NP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function kP(n,e,t){const r=new Map;ut(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,f=e.data.field(u.field);r.set(u.field,h2(c,f,t[i]))}return r}function FP(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,d2(u,c,e))}return r}class Tp extends _D{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RA extends _D{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&g2(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=uv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=uv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=DP();return this.mutations.forEach(i=>{const u=e.get(i.key),c=u.overlayedDocument;let f=this.applyToLocalView(c,u.mutatedFields);f=t.has(i.key)?null:f;const y=OP(c,f);null!==y&&r.set(i.key,y),c.isValidDocument()||c.convertToNoDocument(lt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Vt())}isEqual(e){return this.batchId===e.batchId&&yp(this.mutations,e.mutations,(t,r)=>PP(t,r))&&yp(this.baseMutations,e.baseMutations,(t,r)=>PP(t,r))}}class PA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ut(e.mutations.length===r.length);let i=u2;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new PA(e,t,r,i)}}class NA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _2{constructor(e,t){this.count=e,this.unchangedNames=t}}var hr,Qt;function VP(n){if(void 0===n)return Zn("GRPC error has no .code"),X.UNKNOWN;switch(n){case hr.OK:return X.OK;case hr.CANCELLED:return X.CANCELLED;case hr.UNKNOWN:return X.UNKNOWN;case hr.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case hr.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case hr.INTERNAL:return X.INTERNAL;case hr.UNAVAILABLE:return X.UNAVAILABLE;case hr.UNAUTHENTICATED:return X.UNAUTHENTICATED;case hr.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case hr.NOT_FOUND:return X.NOT_FOUND;case hr.ALREADY_EXISTS:return X.ALREADY_EXISTS;case hr.PERMISSION_DENIED:return X.PERMISSION_DENIED;case hr.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case hr.ABORTED:return X.ABORTED;case hr.OUT_OF_RANGE:return X.OUT_OF_RANGE;case hr.UNIMPLEMENTED:return X.UNIMPLEMENTED;case hr.DATA_LOSS:return X.DATA_LOSS;default:return Xe()}}(Qt=hr||(hr={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";class kA{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return vD}static getOrCreateInstance(){return null===vD&&(vD=new kA),vD}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let vD=null;const v2=new gp([4294967295,4294967295],0);function BP(n){const e=function UP(){return new TextEncoder}().encode(n),t=new pV;return t.update(e),new Uint8Array(t.digest())}function $P(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new gp([t,r],0),new gp([i,u],0)]}class FA{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new cv(`Invalid padding: ${t}`);if(r<0)throw new cv(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new cv(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new cv(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=gp.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(gp.fromNumber(r)));return 1===i.compare(v2)&&(i=new gp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=BP(e),[r,i]=$P(t);for(let u=0;u<this.hashCount;u++){const c=this.Et(r,i,u);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new FA(u,i,t);return r.forEach(f=>c.insert(f)),c}insert(e){if(0===this.It)return;const t=BP(e),[r,i]=$P(t);for(let u=0;u<this.hashCount;u++){const c=this.Et(r,i,u);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class cv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lv{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,dv.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new lv(lt.min(),i,new mn(Rt),Fi(),Vt())}}class dv{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new dv(r,t,Vt(),Vt(),Vt())}}class wD{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class jP{constructor(e,t){this.targetId=e,this.Vt=t}}class HP{constructor(e,t,r=Ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class zP{constructor(){this.St=0,this.Dt=WP(),this.Ct=Ir.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Vt(),t=Vt(),r=Vt();return this.Dt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Xe()}}),new dv(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=WP()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class w2{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Fi(),this.zt=GP(),this.Wt=new mn(Rt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,u=this.se(r);if(u){const c=u.target;if(hD(c))if(0===i){const f=new $e(c.path);this.Yt(r,f,Cn.newNoDocument(f,lt.min()))}else ut(1===i);else{const f=this.ie(r);if(f!==i){const y=this.re(e,f);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=kA.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(E,C,S){var O,N,G,re,le,ve;const ze={localCacheCount:C,existenceFilterCount:S.count},Be=S.unchangedNames;return Be&&(ze.bloomFilter={applied:0===E,hashCount:null!==(O=Be?.hashCount)&&void 0!==O?O:0,bitmapLength:null!==(re=null===(G=null===(N=Be?.bits)||void 0===N?void 0:N.bitmap)||void 0===G?void 0:G.length)&&void 0!==re?re:0,padding:null!==(ve=null===(le=Be?.bits)||void 0===le?void 0:le.padding)&&void 0!==ve?ve:0}),ze}(y,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:c=0},hashCount:f=0}=r;let y,E;try{y=Za(u).toUint8Array()}catch(C){if(C instanceof QO)return oo("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{E=new FA(y,c,f)}catch(C){return oo(C instanceof cv?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return 0===E.It?1:i!==t-this.oe(e.targetId,E)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(u=>{const c=this.Gt.ue(),f=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.vt(f)||(this.Yt(e,u,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((u,c)=>{const f=this.se(c);if(f){if(u.current&&hD(f.target)){const y=new $e(f.target.path);null!==this.jt.get(y)||this.ae(c,y)||this.Yt(c,y,Cn.newNoDocument(y,e))}u.Mt&&(t.set(c,u.Ot()),u.Ft())}});let r=Vt();this.zt.forEach((u,c)=>{let f=!0;c.forEachWhile(y=>{const E=this.se(y);return!E||"TargetPurposeLimboResolution"===E.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.jt.forEach((u,c)=>c.setReadTime(e));const i=new lv(e,t,this.Wt,this.jt,r);return this.jt=Fi(),this.zt=GP(),this.Wt=new mn(Rt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new zP,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Dn(Rt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new zP),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function GP(){return new mn($e.comparator)}function WP(){return new mn($e.comparator)}const E2={asc:"ASCENDING",desc:"DESCENDING"},I2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D2={and:"AND",or:"OR"};class C2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function LA(n,e){return n.useProto3Json||Y_(e)?e:{value:e}}function Sp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function b2(n,e){return Sp(n,e.toTimestamp())}function Qn(n){return ut(!!n),lt.fromTimestamp(function(e){const t=Ac(e);return new Pn(t.seconds,t.nanos)}(n))}function VA(n,e){return(t=n,new Yt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function KP(n){const e=Yt.fromString(n);return ut(rN(e)),e}function hv(n,e){return VA(n.databaseId,e.path)}function na(n,e){const t=KP(e);if(t.get(1)!==n.databaseId.projectId)throw new me(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(YP(t))}function UA(n,e){return VA(n.databaseId,e)}function fv(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YP(n){return ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function QP(n,e,t){return{name:hv(n,e),fields:t.value.mapValue.fields}}function XP(n,e){return{documents:[UA(n,e.path)]}}function $A(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=UA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=UA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return nN(ln.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(E=>{return{field:Pc((C=E).field),direction:x2(C.dir)};var C})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=LA(n,e.limit);var f,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function eN(n){let e=function ZP(n){const e=KP(n);return 4===e.length?Yt.emptyPath():YP(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ut(1===r);const C=t.from[0];C.allDescendants?i=C.collectionId:e=e.child(C.collectionId)}let u=[];t.where&&(u=function(C){const S=tN(C);return S instanceof ln&&DA(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(C=>{return new wp(Ap((S=C).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;t.limit&&(f=function(C){let S;return S="object"==typeof C?C.value:C,Y_(S)?null:S}(t.limit));let y=null;var C;t.startAt&&(y=new Oc((C=t.startAt).values||[],!!C.before));let E=null;return t.endAt&&(E=function(C){return new Oc(C.values||[],!C.before)}(t.endAt)),function mP(n,e,t,r,i,u,c,f){return new Ya(n,e,t,r,i,u,c,f)}(e,i,c,u,f,"F",y,E)}function tN(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ap(e.unaryFilter.field);return Kt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Ap(e.unaryFilter.field);return Kt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ap(e.unaryFilter.field);return Kt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ap(e.unaryFilter.field);return Kt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(n):void 0!==n.fieldFilter?Kt.create(Ap((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return ln.create(e.compositeFilter.filters.map(t=>tN(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Xe()}}(e.compositeFilter.op))}(n):Xe();var e}function x2(n){return E2[n]}function R2(n){return I2[n]}function O2(n){return D2[n]}function Pc(n){return{fieldPath:n.canonicalString()}}function Ap(n){return Yn.fromServerFormat(n.fieldPath)}function nN(n){return n instanceof Kt?function(e){if("=="===e.op){if(eP(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NAN"}};if(XO(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(eP(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NOT_NAN"}};if(XO(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pc(e.field),op:R2(e.op),value:e.value}}}(n):n instanceof ln?function(e){const t=e.getFilters().map(r=>nN(r));return 1===t.length?t[0]:{compositeFilter:{op:O2(e.op),filters:t}}}(n):Xe()}function P2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rN(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Xa{constructor(e,t,r,i,u=lt.min(),c=lt.min(),f=Ir.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=y}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iN{constructor(e){this.fe=e}}function jA(n){const e=eN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?gD(e,e.limit,"L"):e}class qd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Bn(e.integerValue));else if("doubleValue"in e){const r=Bn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Q_(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Za(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?tP(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Xe()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),$e.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}qd.Ve=new qd;class j2{constructor(){this.rn=new KA}addToCollectionParentIndex(e,t){return this.rn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(cs.min())}updateCollectionGroup(e,t,r){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class KA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dn(Yt.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(Yt.comparator)).toArray()}}new Uint8Array(0);class ni{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ni(e,ni.DEFAULT_COLLECTION_PERCENTILE,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ni.DEFAULT_COLLECTION_PERCENTILE=10,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ni.DEFAULT=new ni(41943040,ni.DEFAULT_COLLECTION_PERCENTILE,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ni.DISABLED=new ni(-1,0,0);class Zd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Zd(0)}static Mn(){return new Zd(-1)}}class K2{constructor(){this.changes=new Qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?K.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Q2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class xN{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&uv(r.mutation,i,ki.empty(),Pn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Vt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Vt()){const i=ta();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let c=sv();return u.forEach((f,y)=>{c=c.insert(f,y.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=ta();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Vt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let u=Fi();const c=ov(),f=ov();return t.forEach((y,E)=>{const C=r.get(E.key);i.has(E.key)&&(void 0===C||C.mutation instanceof Ja)?u=u.insert(E.key,E):void 0!==C?(c.set(E.key,C.mutation.getFieldMask()),uv(C.mutation,E,C.mutation.getFieldMask(),Pn.now())):c.set(E.key,ki.empty())}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((E,C)=>c.set(E,C)),t.forEach((E,C)=>{var S;return f.set(E,new Q2(C,null!==(S=c.get(E))&&void 0!==S?S:null))}),f))}recalculateAndSaveOverlays(e,t){const r=ov();let i=new mn((c,f)=>c-f),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(y=>{const E=t.get(y);if(null===E)return;let C=r.get(y)||ki.empty();C=f.applyToLocalView(E,C),r.set(y,C);const S=(i.get(f.batchId)||Vt()).add(y);i=i.insert(f.batchId,S)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),E=y.key,C=y.value,S=DP();C.forEach(O=>{if(!u.has(O)){const N=OP(t.get(O),r.get(O));null!==N&&S.set(O,N),u=u.add(O)}}),c.push(this.documentOverlayCache.saveOverlays(e,E,S))}return K.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return $e.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function SA(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const c=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):K.resolve(ta());let f=-1,y=u;return c.next(E=>K.forEach(E,(C,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),u.get(C)?K.resolve():this.remoteDocumentCache.getEntry(e,C).next(O=>{y=y.insert(C,O)}))).next(()=>this.populateOverlays(e,E,u)).next(()=>this.computeViews(e,y,E,Vt())).next(C=>({batchId:f,changes:IP(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $e(t)).next(r=>{let i=sv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=sv();return this.indexManager.getCollectionParents(e,i).next(c=>K.forEach(c,f=>{const y=(E=t,C=f.child(i),new Ya(C,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,C;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(E=>{E.forEach((C,S)=>{u=u.insert(C,S)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(u=>{i.forEach((f,y)=>{const E=y.getKey();null===u.get(E)&&(u=u.insert(E,Cn.newInvalidDocument(E)))});let c=sv();return u.forEach((f,y)=>{const E=i.get(f);void 0!==E&&uv(E.mutation,y,ki.empty(),Pn.now()),iv(t,y)&&(c=c.insert(f,y))}),c})}}class J2{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return K.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Qn(r.createTime)}),K.resolve()}getNamedQuery(e,t){return K.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:jA(r.bundledQuery),readTime:Qn(r.readTime)}),K.resolve();var r}}class X2{constructor(){this.overlays=new mn($e.comparator),this.ls=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ta();return K.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.we(e,t,u)}),K.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),K.resolve()}getOverlaysForCollection(e,t,r){const i=ta(),u=t.length+1,c=new $e(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const y=f.getNext().value,E=y.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===u&&y.largestBatchId>r&&i.set(y.getKey(),y)}return K.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new mn((E,C)=>E-C);const c=this.overlays.getIterator();for(;c.hasNext();){const E=c.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let C=u.get(E.largestBatchId);null===C&&(C=ta(),u=u.insert(E.largestBatchId,C)),C.set(E.getKey(),E)}}const f=ta(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,C)=>f.set(E,C)),!(f.size()>=i)););return K.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new NA(t,r));let u=this.ls.get(t);void 0===u&&(u=Vt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class ZA{constructor(){this.fs=new Dn(kr.ds),this.ws=new Dn(kr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new kr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new kr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new $e(new Yt([])),r=new kr(t,e),i=new kr(t,e+1),u=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),u.push(c.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new $e(new Yt([])),r=new kr(t,e),i=new kr(t,e+1);let u=Vt();return this.ws.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new kr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class kr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return $e.comparator(e.key,t.key)||Rt(e.As,t.As)}static _s(e,t){return Rt(e.As,t.As)||$e.comparator(e.key,t.key)}}class eU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Dn(kr.ds)}checkEmpty(e){return K.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.vs;this.vs++;const c=new OA(u,t,r,i);this.mutationQueue.push(c);for(const f of i)this.Rs=this.Rs.add(new kr(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return K.resolve(c)}lookupMutationBatch(e,t){return K.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),u=i<0?0:i;return K.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new kr(t,0),i=new kr(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,i],c=>{const f=this.Ps(c.As);u.push(f)}),K.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dn(Rt);return t.forEach(i=>{const u=new kr(i,0),c=new kr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,c],f=>{r=r.add(f.As)})}),K.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;$e.isDocumentKey(u)||(u=u.child(""));const c=new kr(new $e(u),0);let f=new Dn(Rt);return this.Rs.forEachWhile(y=>{const E=y.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(f=f.add(y.As)),!0)},c),K.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ut(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return K.forEach(t.mutations,i=>{const u=new kr(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new kr(t,0),i=this.Rs.firstAfterOrEqual(r);return K.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return K.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tU{constructor(e){this.Ds=e,this.docs=new mn($e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return K.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(t))}getEntries(e,t){let r=Fi();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Cn.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let u=Fi();const c=t.path,f=new $e(c.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:E,value:{document:C}}=y.getNext();if(!c.isPrefixOf(E.path))break;E.path.length>c.length+1||yA(VO(C),r)<=0||(i.has(C.key)||iv(t,C))&&(u=u.insert(C.key,C.mutableCopy()))}return K.resolve(u)}getAllFromCollectionGroup(e,t,r,i){Xe()}Cs(e,t){return K.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new nU(this)}getSize(e){return K.resolve(this.size)}}class nU extends K2{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),K.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class rU{constructor(e){this.persistence=e,this.xs=new Qa(t=>Bd(t),nv),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ZA,this.targetCount=0,this.Ms=Zd.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),K.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Zd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Fn(t),K.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.xs.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(c),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),K.waitFor(u).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return K.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),K.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),K.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),K.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return K.resolve(r)}containsKey(e,t){return K.resolve(this.ks.containsKey(t))}}class YA{constructor(e,t){this.$s={},this.overlays={},this.Os=new ls(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new rU(this),this.indexManager=new j2,this.remoteDocumentCache=new tU(r=>this.referenceDelegate.Ls(r)),this.serializer=new iN(t),this.qs=new J2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new X2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new eU(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new iU(this.Os.next());return this.referenceDelegate.Us(),r(i).next(u=>this.referenceDelegate.Ks(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Gs(e,t){return K.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class iU extends bV{constructor(e){super(),this.currentSequenceNumber=e}}class MD{constructor(e){this.persistence=e,this.Qs=new ZA,this.js=null}static zs(e){return new MD(e)}get Ws(){if(this.js)return this.js;throw Xe()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),K.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),K.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Ws,r=>{const i=$e.fromPath(r);return this.Hs(e,i).next(u=>{u||t.removeEntry(i,lt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return K.or([()=>K.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class eM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Vt(),i=Vt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new eM(e,t.fromCache,r,i)}}class ON{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(u=>u||this.Gi(e,t,i,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(yP(t))return K.resolve(null);let r=mi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=gD(t,null,"F"),r=mi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=Vt(...u);return this.Ui.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const E=this.ji(t,f);return this.zi(t,E,c,y.readTime)?this.Ki(e,gD(t,null,"F")):this.Wi(e,E,t,y)}))})))}Gi(e,t,r,i){return yP(t)||i.isEqual(lt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const c=this.ji(t,u);return this.zi(t,c,r,i)?this.Qi(e,t):(pA()<=Mi.in.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),MA(t)),this.Wi(e,c,t,function LO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=lt.fromTimestamp(1e9===r?new Pn(t+1,0):new Pn(t,r));return new cs(i,$e.empty(),e)}(i,-1)))})}ji(e,t){let r=new Dn(wP(e));return t.forEach((i,u)=>{iv(e,u)&&(r=r.add(u))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Qi(e,t){return pA()<=Mi.in.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",MA(t)),this.Ui.getDocumentsMatchingQuery(e,t,cs.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class oU{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new mn(Rt),this.Yi=new Qa(u=>Bd(u),nv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xN(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function NN(n,e){return(H1=H1||(0,oe.Z)(function*(t,r){const i=je(t);return yield i.persistence.runTransaction("Handle user change","readonly",u=>{let c;return i.mutationQueue.getAllMutationBatches(u).next(f=>(c=f,i.tr(r),i.mutationQueue.getAllMutationBatches(u))).next(f=>{const y=[],E=[];let C=Vt();for(const S of c){y.push(S.batchId);for(const O of S.mutations)C=C.add(O.key)}for(const S of f){E.push(S.batchId);for(const O of S.mutations)C=C.add(O.key)}return i.localDocuments.getDocuments(u,C).next(S=>({er:S,removedBatchIds:y,addedBatchIds:E}))})})})).apply(this,arguments)}function kN(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function cU(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Op(n,e,t){return(z1=z1||(0,oe.Z)(function*(r,i,u){const c=je(r),f=c.Ji.get(i),y=u?"readwrite":"readwrite-primary";try{u||(yield c.persistence.runTransaction("Release target",y,E=>c.persistence.referenceDelegate.removeTarget(E,f)))}catch(E){if(!Tc(E))throw E;Ee("LocalStore",`Failed to update sequence numbers for target ${i}: ${E}`)}c.Ji=c.Ji.remove(i),c.Yi.delete(f.target)})).apply(this,arguments)}function OD(n,e,t){const r=je(n);let i=lt.min(),u=Vt();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,y,E){const C=je(f),S=C.Yi.get(E);return void 0!==S?K.resolve(C.Ji.get(S)):C.Bs.getTargetData(y,E)}(r,c,mi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,f.targetId).next(y=>{u=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:lt.min(),t?u:Vt())).next(f=>(function UN(n,e,t){let r=n.Xi.get(e)||lt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function vP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),f),{documents:f,ir:u})))}class rM{constructor(){this.activeTargetIds=function xA(){return l2}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jN{constructor(){this.Hr=new rM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new rM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hU{Yr(e){}shutdown(){}}class HN{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kD=null;function sM(){return null===kD?kD=268435456+Math.round(2147483648*Math.random()):kD++,"0x"+kD.toString(16)}const fU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pU{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ri="WebChannelConnection";class gU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,u){const c=sM(),f=this.To(e,t);Ee("RestConnection",`Sending RPC '${e}' ${c}:`,f,r);const y={};return this.Eo(y,i,u),this.Ao(e,f,y,r).then(E=>(Ee("RestConnection",`Received RPC '${e}' ${c}: `,E),E),E=>{throw oo("RestConnection",`RPC '${e}' ${c} failed with error: `,E,"url: ",f,"request:",r),E})}vo(e,t,r,i,u,c){return this.Io(e,t,r,i,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+mp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}To(e,t){return`${this.mo}/v1/${t}:${fU[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const u=sM();return new Promise((c,f)=>{const y=new fV;y.setWithCredentials(!0),y.listenOnce(lV.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case fA.NO_ERROR:const C=y.getResponseJson();Ee(ri,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(C)),c(C);break;case fA.TIMEOUT:Ee(ri,`RPC '${e}' ${u} timed out`),f(new me(X.DEADLINE_EXCEEDED,"Request time out"));break;case fA.HTTP_ERROR:const S=y.getStatus();if(Ee(ri,`RPC '${e}' ${u} failed with status:`,S,"response text:",y.getResponseText()),S>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const N=O?.error;if(N&&N.status&&N.message){const G=function(re){const le=re.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(le)>=0?le:X.UNKNOWN}(N.status);f(new me(G,N.message))}else f(new me(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new me(X.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Ee(ri,`RPC '${e}' ${u} completed.`)}});const E=JSON.stringify(i);Ee(ri,`RPC '${e}' ${u} sending request:`,i),y.send(t,"POST",E,r,15)})}Ro(e,t,r){const i=sM(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=uV(),f=cV(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;void 0!==E&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.xmlHttpFactory=new hV({})),this.Eo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const C=u.join("");Ee(ri,`Creating RPC '${e}' stream ${i}: ${C}`,y);const S=c.createWebChannel(C,y);let O=!1,N=!1;const G=new pU({ro:le=>{N?Ee(ri,`Not sending because RPC '${e}' stream ${i} is closed:`,le):(O||(Ee(ri,`Opening RPC '${e}' stream ${i} transport.`),S.open(),O=!0),Ee(ri,`RPC '${e}' stream ${i} sending:`,le),S.send(le))},oo:()=>S.close()}),re=(le,ve,ze)=>{le.listen(ve,Be=>{try{ze(Be)}catch(He){setTimeout(()=>{throw He},0)}})};return re(S,tD.EventType.OPEN,()=>{N||Ee(ri,`RPC '${e}' stream ${i} transport opened.`)}),re(S,tD.EventType.CLOSE,()=>{N||(N=!0,Ee(ri,`RPC '${e}' stream ${i} transport closed`),G.wo())}),re(S,tD.EventType.ERROR,le=>{N||(N=!0,oo(ri,`RPC '${e}' stream ${i} transport errored:`,le),G.wo(new me(X.UNAVAILABLE,"The operation could not be completed")))}),re(S,tD.EventType.MESSAGE,le=>{var ve;if(!N){const ze=le.data[0];ut(!!ze);const He=ze.error||(null===(ve=ze[0])||void 0===ve?void 0:ve.error);if(He){Ee(ri,`RPC '${e}' stream ${i} received error:`,He);const Mt=He.status;let en=function(uo){const tu=hr[uo];if(void 0!==tu)return VP(tu)}(Mt),_i=He.message;void 0===en&&(en=X.INTERNAL,_i="Unknown error status: "+Mt+" with message "+He.message),N=!0,G.wo(new me(en,_i)),S.close()}else Ee(ri,`RPC '${e}' stream ${i} received:`,ze),G._o(ze)}}),re(f,dV.STAT_EVENT,le=>{le.stat===$1.PROXY?Ee(ri,`RPC '${e}' stream ${i} detected buffering proxy`):le.stat===$1.NOPROXY&&Ee(ri,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{G.fo()},0),G}}function FD(){return typeof document<"u"?document:null}function Dv(n){return new C2(n,!0)}class oM{constructor(e,t,r=1e3,i=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class GN{constructor(e,t,r,i,u,c,f,y){this.ii=e,this.$o=r,this.Oo=i,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new oM(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,oe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,oe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,oe.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Zn(t.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===X.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new me(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,oe.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mU extends GN{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function S2(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Xe(),i=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(ut(void 0===E||"string"==typeof E),Ir.fromBase64String(E||"")):(ut(void 0===E||E instanceof Uint8Array),Ir.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const E=void 0===y.code?X.UNKNOWN:VP(y.code);return new me(E,y.message||"")}(c);t=new HP(r,i,u,f||null)}else if("documentChange"in e){const r=e.documentChange,i=na(n,r.document.name),u=Qn(r.document.updateTime),c=r.document.createTime?Qn(r.document.createTime):lt.min(),f=new Wr({mapValue:{fields:r.document.fields}}),y=Cn.newFoundDocument(i,u,c,f);t=new wD(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=na(n,r.document),u=r.readTime?Qn(r.readTime):lt.min(),c=Cn.newNoDocument(i,u);t=new wD([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=na(n,r.document);t=new wD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,{count:i=0,unchangedNames:u}=r,c=new _2(i,u);t=new jP(r.targetId,c)}}var y;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return lt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?lt.min():u.readTime?Qn(u.readTime):lt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=fv(this.serializer),t.addTarget=function(i,u){let c;const f=u.target;if(c=hD(f)?{documents:XP(i,f)}:{query:$A(i,f)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=qP(i,u.resumeToken);const y=LA(i,u.expectedCount);null!==y&&(c.expectedCount=y)}else if(u.snapshotVersion.compareTo(lt.min())>0){c.readTime=Sp(i,u.snapshotVersion.toTimestamp());const y=LA(i,u.expectedCount);null!==y&&(c.expectedCount=y)}return c}(this.serializer,e);const r=function M2(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=fv(this.serializer),t.removeTarget=e,this.Wo(t)}}class yU extends GN{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function A2(n,e){return n&&n.length>0?(ut(void 0!==e),n.map(t=>function(r,i){let u=Qn(r.updateTime?r.updateTime:i);return u.isEqual(lt.min())&&(u=Qn(i)),new p2(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Qn(e.commitTime);return this.listener.cu(r,t)}return ut(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=fv(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function pv(n,e){let t;if(e instanceof bp)t={update:QP(n,e.key,e.value)};else if(e instanceof Tp)t={delete:hv(n,e.key)};else if(e instanceof Ja)t={update:QP(n,e.key,e.data),updateMask:P2(e.fieldMask)};else{if(!(e instanceof RA))return Xe();t={verify:hv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof Dp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof jd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Hd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Cp)return{fieldPath:u.field.canonicalString(),increment:c.gt};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:b2(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Xe()),t;var i}(this.serializer,r))};this.Wo(t)}}class _U extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new me(X.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.Io(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new me(X.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.vo(e,t,r,u,c,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(X.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class wU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Zn(t),this.mu=!1):Ee("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class EU{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(f=>{r.enqueueAndForget((0,oe.Z)(function*(){var y;Lc(c)&&(Ee("RemoteStore","Restarting streams for network reachability change."),yield function(E){return(y=y||(0,oe.Z)(function*(C){const S=je(C);S.vu.add(4),yield Pp(S),S.bu.set("Unknown"),S.vu.delete(4),yield Cv(S)})).apply(this,arguments)}(c))}))}),this.bu=new wU(r,i)}}function Cv(n){return(K1=K1||(0,oe.Z)(function*(e){if(Lc(e))for(const t of e.Ru)yield t(!0)})).apply(this,arguments)}function Pp(n){return(Z1=Z1||(0,oe.Z)(function*(e){for(const t of e.Ru)yield t(!1)})).apply(this,arguments)}function LD(n,e){const t=je(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),cM(t)?uM(t):kp(t).Ko()&&aM(t,e))}function bv(n,e){const t=je(n),r=kp(t);t.Au.delete(e),r.Ko()&&WN(t,e),0===t.Au.size&&(r.Ko()?r.jo():Lc(t)&&t.bu.set("Unknown"))}function aM(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(lt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kp(n).su(e)}function WN(n,e){n.Vu.qt(e),kp(n).iu(e)}function uM(n){n.Vu=new w2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),kp(n).start(),n.bu.gu()}function cM(n){return Lc(n)&&!kp(n).Uo()&&n.Au.size>0}function Lc(n){return 0===je(n).vu.size}function qN(n){n.Vu=void 0}function IU(n){return(Y1=Y1||(0,oe.Z)(function*(e){e.Au.forEach((t,r)=>{aM(e,t)})})).apply(this,arguments)}function DU(n,e){return(Q1=Q1||(0,oe.Z)(function*(t,r){qN(t),cM(t)?(t.bu.Iu(r),uM(t)):t.bu.set("Unknown")})).apply(this,arguments)}function CU(n,e,t){return(J1=J1||(0,oe.Z)(function*(r,i,u){if(r.bu.set("Online"),i instanceof HP&&2===i.state&&i.cause)try{var c;yield function(f,y){return(c=c||(0,oe.Z)(function*(E,C){const S=C.cause;for(const O of C.targetIds)E.Au.has(O)&&(yield E.remoteSyncer.rejectListen(O,S),E.Au.delete(O),E.Vu.removeTarget(O))})).apply(this,arguments)}(r,i)}catch(f){Ee("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),f),yield VD(r,f)}else if(i instanceof wD?r.Vu.Ht(i):i instanceof jP?r.Vu.ne(i):r.Vu.Xt(i),!u.isEqual(lt.min()))try{const f=yield kN(r.localStore);u.compareTo(f)>=0&&(yield function(y,E){const C=y.Vu.ce(E);return C.targetChanges.forEach((S,O)=>{if(S.resumeToken.approximateByteSize()>0){const N=y.Au.get(O);N&&y.Au.set(O,N.withResumeToken(S.resumeToken,E))}}),C.targetMismatches.forEach((S,O)=>{const N=y.Au.get(S);if(!N)return;y.Au.set(S,N.withResumeToken(Ir.EMPTY_BYTE_STRING,N.snapshotVersion)),WN(y,S);const G=new Xa(N.target,S,O,N.sequenceNumber);aM(y,G)}),y.remoteSyncer.applyRemoteEvent(C)}(r,u))}catch(f){Ee("RemoteStore","Failed to raise snapshot:",f),yield VD(r,f)}})).apply(this,arguments)}function VD(n,e,t){return(X1=X1||(0,oe.Z)(function*(r,i,u){if(!Tc(i))throw i;r.vu.add(1),yield Pp(r),r.bu.set("Offline"),u||(u=()=>kN(r.localStore)),r.asyncQueue.enqueueRetryable((0,oe.Z)(function*(){Ee("RemoteStore","Retrying IndexedDB access"),yield u(),r.vu.delete(1),yield Cv(r)}))})).apply(this,arguments)}function KN(n,e){return e().catch(t=>VD(n,t,e))}function Np(n){return(eO=eO||(0,oe.Z)(function*(e){const t=je(e),r=Vc(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;bU(t);)try{const u=yield cU(t.localStore,i);if(null===u){0===t.Eu.length&&r.jo();break}i=u.batchId,TU(t,u)}catch(u){yield VD(t,u)}ZN(t)&&YN(t)})).apply(this,arguments)}function bU(n){return Lc(n)&&n.Eu.length<10}function TU(n,e){n.Eu.push(e);const t=Vc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function ZN(n){return Lc(n)&&!Vc(n).Uo()&&n.Eu.length>0}function YN(n){Vc(n).start()}function SU(n){return(tO=tO||(0,oe.Z)(function*(e){Vc(e).hu()})).apply(this,arguments)}function AU(n){return(nO=nO||(0,oe.Z)(function*(e){const t=Vc(e);for(const r of e.Eu)t.uu(r.mutations)})).apply(this,arguments)}function MU(n,e,t){return(rO=rO||(0,oe.Z)(function*(r,i,u){const c=r.Eu.shift(),f=PA.from(c,i,u);yield KN(r,()=>r.remoteSyncer.applySuccessfulWrite(f)),yield Np(r)})).apply(this,arguments)}function xU(n,e){return(iO=iO||(0,oe.Z)(function*(t,r){var i;r&&Vc(t).ou&&(yield function(u,c){return(i=i||(0,oe.Z)(function*(f,y){if(function LP(n){switch(n){default:return Xe();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}(E=y.code)&&E!==X.ABORTED){const C=f.Eu.shift();Vc(f).Qo(),yield KN(f,()=>f.remoteSyncer.rejectFailedWrite(C.batchId,y)),yield Np(f)}var E})).apply(this,arguments)}(t,r)),ZN(t)&&YN(t)})).apply(this,arguments)}function QN(n,e){return(sO=sO||(0,oe.Z)(function*(t,r){const i=je(t);i.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const u=Lc(i);i.vu.add(3),yield Pp(i),u&&i.bu.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(r),i.vu.delete(3),yield Cv(i)})).apply(this,arguments)}function kp(n){var e;return n.Su||(n.Su=function(t,r,i){const u=je(t);return u.fu(),new mU(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,i)}(n.datastore,n.asyncQueue,{uo:IU.bind(null,n),ao:DU.bind(null,n),nu:CU.bind(null,n)}),n.Ru.push(function(t){return(e=e||(0,oe.Z)(function*(r){r?(n.Su.Qo(),cM(n)?uM(n):n.bu.set("Unknown")):(yield n.Su.stop(),qN(n))})).apply(this,arguments)})),n.Su}function Vc(n){var e;return n.Du||(n.Du=function(t,r,i){const u=je(t);return u.fu(),new yU(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,i)}(n.datastore,n.asyncQueue,{uo:SU.bind(null,n),ao:xU.bind(null,n),au:AU.bind(null,n),cu:MU.bind(null,n)}),n.Ru.push(function(t){return(e=e||(0,oe.Z)(function*(r){r?(n.Du.Qo(),yield Np(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ee("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))})).apply(this,arguments)})),n.Du}class dM{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,f=new dM(e,t,c,i,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new me(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(n,e){if(Zn("AsyncQueue",`${e}: ${n}`),Tc(n))return new me(X.UNAVAILABLE,`${e}: ${n}`);throw n}class Lp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=sv(),this.sortedSet=new mn(this.comparator)}static emptySet(e){return new Lp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Lp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class JN{constructor(){this.Cu=new mn($e.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Xe():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Vp{constructor(e,t,r,i,u,c,f,y,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(e,t,r,i,u){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Vp(e,t,Lp.emptySet(t),c,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class RU{constructor(){this.Nu=void 0,this.listeners=[]}}class OU{constructor(){this.queries=new Qa(e=>_P(e),rv),this.onlineState="Unknown",this.ku=new Set}}function PU(n,e){const t=je(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.$u(i)&&(r=!0);c.Nu=i}}r&&pM(t)}function NU(n,e,t){const r=je(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function pM(n){n.ku.forEach(e=>{e.next()})}class gM{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Vp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Vp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class tk{constructor(e){this.key=e}}class nk{constructor(e){this.key=e}}class rk{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Vt(),this.mutatedKeys=Vt(),this.tc=wP(e),this.ec=new Lp(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new JN,i=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((C,S)=>{const O=i.get(C),N=iv(this.query,S)?S:null,G=!!O&&this.mutatedKeys.has(O.key),re=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let le=!1;O&&N?O.data.isEqual(N.data)?G!==re&&(r.track({type:3,doc:N}),le=!0):this.rc(O,N)||(r.track({type:2,doc:N}),le=!0,(y&&this.tc(N,y)>0||E&&this.tc(N,E)<0)&&(f=!0)):!O&&N?(r.track({type:0,doc:N}),le=!0):O&&!N&&(r.track({type:1,doc:O}),le=!0,(y||E)&&(f=!0)),le&&(N?(c=c.add(N),u=re?u.add(C):u.delete(C)):(c=c.delete(C),u=u.delete(C)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const C="F"===this.query.limitType?c.last():c.first();c=c.delete(C.key),u=u.delete(C.key),r.track({type:1,doc:C})}return{ec:c,ic:r,zi:f,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((E,C)=>function(S,O){const N=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return N(S)-N(O)}(E.type,C.type)||this.tc(E.doc,C.doc)),this.oc(r);const c=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,y=f!==this.Xu;return this.Xu=f,0!==u.length||y?{snapshot:new Vp(this.query,e.ec,i,u,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new JN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Vt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new nk(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new tk(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Vt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Vp.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class LU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class VU{constructor(e){this.key=e,this.fc=!1}}class UU{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Qa(f=>_P(f),rv),this._c=new Map,this.mc=new Set,this.gc=new mn($e.comparator),this.yc=new Map,this.Ic=new ZA,this.Tc={},this.Ec=new Map,this.Ac=Zd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function BU(n,e){return(cO=cO||(0,oe.Z)(function*(t,r){const i=function EM(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ik.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HU.bind(null,e),e.dc.nu=PU.bind(null,e.eventManager),e.dc.Pc=NU.bind(null,e.eventManager),e}(t);let u,c;const f=i.wc.get(r);if(f)u=f.targetId,i.sharedClientState.addLocalQueryTarget(u),c=f.view.lc();else{const y=yield function Rp(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(u=>u?(i=u,K.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new Xa(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(i.localStore,mi(r)),E=i.sharedClientState.addLocalQueryTarget(y.targetId);u=y.targetId,c=yield function mM(n,e,t,r,i){return(lO=lO||(0,oe.Z)(function*(u,c,f,y,E){u.Rc=(le,ve,ze)=>{var Be;return function(He,Mt,en,_i){return(Be=Be||(0,oe.Z)(function*(uo,tu,kj,sL){let hC=tu.view.sc(kj);hC.zi&&(hC=yield OD(uo.localStore,tu.query,!1).then(({documents:Lj})=>tu.view.sc(Lj,hC)));const Fj=sL&&sL.targetChanges.get(tu.targetId),oL=tu.view.applyChanges(hC,uo.isPrimaryClient,Fj);return vM(uo,tu.targetId,oL.cc),oL.snapshot})).apply(this,arguments)}(u,le,ve,ze)};const C=yield OD(u.localStore,c,!0),S=new rk(c,C.ir),O=S.sc(C.documents),N=dv.createSynthesizedTargetChangeForCurrentChange(f,y&&"Offline"!==u.onlineState,E),G=S.applyChanges(O,u.isPrimaryClient,N);vM(u,f,G.cc);const re=new LU(c,f,S);return u.wc.set(c,re),u._c.has(f)?u._c.get(f).push(c):u._c.set(f,[c]),G.snapshot})).apply(this,arguments)}(i,r,u,"current"===E,y.resumeToken),i.isPrimaryClient&&LD(i.remoteStore,y)}return c})).apply(this,arguments)}function $U(n,e){return(dO=dO||(0,oe.Z)(function*(t,r){const i=je(t),u=i.wc.get(r),c=i._c.get(u.targetId);if(c.length>1)return i._c.set(u.targetId,c.filter(f=>!rv(f,r))),void i.wc.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(u.targetId),i.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Op(i.localStore,u.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(u.targetId),bv(i.remoteStore,u.targetId),Up(i,u.targetId)}).catch(bc))):(Up(i,u.targetId),yield Op(i.localStore,u.targetId,!0))})).apply(this,arguments)}function ik(n,e){return(fO=fO||(0,oe.Z)(function*(t,r){const i=je(t);try{const u=yield function uU(n,e){const t=je(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((C,S)=>{const O=i.get(S);if(!O)return;f.push(t.Bs.removeMatchingKeys(u,C.removedDocuments,S).next(()=>t.Bs.addMatchingKeys(u,C.addedDocuments,S)));let N=O.withSequenceNumber(u.currentSequenceNumber);var G,re,le;null!==e.targetMismatches.get(S)?N=N.withResumeToken(Ir.EMPTY_BYTE_STRING,lt.min()).withLastLimboFreeSnapshotVersion(lt.min()):C.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(C.resumeToken,r)),i=i.insert(S,N),re=N,le=C,(0===(G=O).resumeToken.approximateByteSize()||re.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(u,N))});let y=Fi(),E=Vt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,C))}),f.push(function FN(n,e,t){let r=Vt(),i=Vt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=Fi();return t.forEach((f,y)=>{const E=u.get(f);y.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(lt.min())?(e.removeEntry(f,y.readTime),c=c.insert(f,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||0===y.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(y),c=c.insert(f,y)):Ee("LocalStore","Ignoring outdated watch update for ",f,". Current version:",E.version," Watch version:",y.version)}),{nr:c,sr:i}})}(u,c,e.documentUpdates).next(C=>{y=C.nr,E=C.sr})),!r.isEqual(lt.min())){const C=t.Bs.getLastRemoteSnapshotVersion(u).next(S=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(C)}return K.waitFor(f).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,y,E)).next(()=>y)}).then(u=>(t.Ji=i,u))}(i.localStore,r);r.targetChanges.forEach((c,f)=>{const y=i.yc.get(f);y&&(ut(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?y.fc=!0:c.modifiedDocuments.size>0?ut(y.fc):c.removedDocuments.size>0&&(ut(y.fc),y.fc=!1))}),yield eu(i,u,r)}catch(u){yield bc(u)}})).apply(this,arguments)}function sk(n,e,t){const r=je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((u,c)=>{const f=c.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(u,c){const f=je(u);f.onlineState=c;let y=!1;f.queries.forEach((E,C)=>{for(const S of C.listeners)S.Mu(c)&&(y=!0)}),y&&pM(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function HU(n,e,t){return(pO=pO||(0,oe.Z)(function*(r,i,u){const c=je(r);c.sharedClientState.updateQueryState(i,"rejected",u);const f=c.yc.get(i),y=f&&f.key;if(y){let E=new mn($e.comparator);E=E.insert(y,Cn.newNoDocument(y,lt.min()));const C=Vt().add(y),S=new lv(lt.min(),new Map,new mn(Rt),E,C);yield ik(c,S),c.gc=c.gc.remove(y),c.yc.delete(i),wM(c)}else yield Op(c.localStore,i,!1).then(()=>Up(c,i,u)).catch(bc)})).apply(this,arguments)}function zU(n,e){return(gO=gO||(0,oe.Z)(function*(t,r){const i=je(t),u=r.batch.batchId;try{const c=yield function aU(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,f,y,E){const C=y.batch,S=C.keys();let O=K.resolve();return S.forEach(N=>{O=O.next(()=>E.getEntry(f,N)).next(G=>{const re=y.docVersions.get(N);ut(null!==re),G.version.compareTo(re)<0&&(C.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))})}),O.next(()=>c.mutationQueue.removeMutationBatch(f,C))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Vt();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(f=f.add(c.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(i.localStore,r);_M(i,u,null),yM(i,u),i.sharedClientState.updateMutationState(u,"acknowledged"),yield eu(i,c)}catch(c){yield bc(c)}})).apply(this,arguments)}function GU(n,e,t){return(mO=mO||(0,oe.Z)(function*(r,i,u){const c=je(r);try{const f=yield function(y,E){const C=je(y);return C.persistence.runTransaction("Reject batch","readwrite-primary",S=>{let O;return C.mutationQueue.lookupMutationBatch(S,E).next(N=>(ut(null!==N),O=N.keys(),C.mutationQueue.removeMutationBatch(S,N))).next(()=>C.mutationQueue.performConsistencyCheck(S)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(S,O,E)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(S,O)).next(()=>C.localDocuments.getDocuments(S,O))})}(c.localStore,i);_M(c,i,u),yM(c,i),c.sharedClientState.updateMutationState(i,"rejected",u),yield eu(c,f)}catch(f){yield bc(f)}})).apply(this,arguments)}function yM(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function _M(n,e,t){const r=je(n);let i=r.Tc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Up(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||ok(n,r)})}function ok(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(bv(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),wM(n))}function vM(n,e,t){for(const r of t)r instanceof tk?(n.Ic.addReference(r.key,e),qU(n,r)):r instanceof nk?(Ee("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||ok(n,r.key)):Xe()}function qU(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ee("SyncEngine","New document in limbo: "+t),n.mc.add(r),wM(n))}function wM(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new $e(Yt.fromString(e)),r=n.Ac.next();n.yc.set(r,new VU(t)),n.gc=n.gc.insert(t,r),LD(n.remoteStore,new Xa(mi(Ip(t.path)),r,"TargetPurposeLimboResolution",ls.ct))}}function eu(n,e,t){return(_O=_O||(0,oe.Z)(function*(r,i,u){var c;const f=je(r),y=[],E=[],C=[];f.wc.isEmpty()||(f.wc.forEach((S,O)=>{C.push(f.Rc(O,i,u).then(N=>{if((N||u)&&f.isPrimaryClient&&f.sharedClientState.updateQueryState(O.targetId,N?.fromCache?"not-current":"current"),N){y.push(N);const G=eM.Li(O.targetId,N);E.push(G)}}))}),yield Promise.all(C),f.dc.nu(y),yield function(S,O){return(c=c||(0,oe.Z)(function*(N,G){const re=je(N);try{yield re.persistence.runTransaction("notifyLocalViewChanges","readwrite",le=>K.forEach(G,ve=>K.forEach(ve.Fi,ze=>re.persistence.referenceDelegate.addReference(le,ve.targetId,ze)).next(()=>K.forEach(ve.Bi,ze=>re.persistence.referenceDelegate.removeReference(le,ve.targetId,ze)))))}catch(le){if(!Tc(le))throw le;Ee("LocalStore","Failed to update sequence numbers: "+le)}for(const le of G){const ve=le.targetId;if(!le.fromCache){const ze=re.Ji.get(ve),He=ze.withLastLimboFreeSnapshotVersion(ze.snapshotVersion);re.Ji=re.Ji.insert(ve,He)}}})).apply(this,arguments)}(f.localStore,E))})).apply(this,arguments)}function KU(n,e){return(vO=vO||(0,oe.Z)(function*(t,r){const i=je(t);if(!i.currentUser.isEqual(r)){Ee("SyncEngine","User change. New user:",r.toKey());const u=yield NN(i.localStore,r);i.currentUser=r,(c=i).Ec.forEach(y=>{y.forEach(E=>{E.reject(new me(X.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ec.clear(),i.sharedClientState.handleUserChange(r,u.removedBatchIds,u.addedBatchIds),yield eu(i,u.er)}var c})).apply(this,arguments)}function ZU(n,e){const t=je(n),r=t.yc.get(e);if(r&&r.fc)return Vt().add(r.key);{let i=Vt();const u=t._c.get(e);if(!u)return i;for(const c of u){const f=t.wc.get(c);i=i.unionWith(f.view.nc)}return i}}function IM(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GU.bind(null,e),e}class UD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,oe.Z)(function*(){t.serializer=Dv(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function PN(n,e,t,r){return new oU(n,e,t,r)}(this.persistence,new ON,e.initialUser,this.serializer)}createPersistence(e){return new YA(MD.zs,this.serializer)}createSharedClientState(e){return new jN}terminate(){var e=this;return(0,oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bp{initialize(e,t){var r=this;return(0,oe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>sk(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=KU.bind(null,r.syncEngine),yield function lM(n,e){return(oO=oO||(0,oe.Z)(function*(t,r){const i=je(t);r?(i.vu.delete(2),yield Cv(i)):r||(i.vu.add(2),yield Pp(i),i.bu.set("Unknown"))})).apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new OU}createDatastore(e){const t=Dv(e.databaseInfo.databaseId),r=new gU(e.databaseInfo);return new _U(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=f=>sk(this.syncEngine,f,0),c=HN.D()?new HN:new hU,new EU(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,f,y,E){const C=new UU(r,i,u,c,f,y);return E&&(C.vc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e;return function(t){return(e=e||(0,oe.Z)(function*(r){const i=je(r);Ee("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Pp(i),i.Pu.shutdown(),i.bu.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}class BD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class uB{constructor(e,t,r,i){var c,u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Pr.UNAUTHENTICATED,this.clientId=kO.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(f){return(c=c||(0,oe.Z)(function*(y){Ee("FirestoreClient","Received user=",y.uid),yield u.authCredentialListener(y),u.user=y})).apply(this,arguments)}),this.appCheckCredentials.start(r,f=>(Ee("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new me(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Fp(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function $D(n,e){return(SO=SO||(0,oe.Z)(function*(t,r){var i;t.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const u=yield t.getConfiguration();yield r.initialize(u);let c=u.initialUser;t.setCredentialChangeListener(function(f){return(i=i||(0,oe.Z)(function*(y){c.isEqual(y)||(yield NN(r.localStore,y),c=y)})).apply(this,arguments)}),r.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=r})).apply(this,arguments)}function DM(n,e){return(AO=AO||(0,oe.Z)(function*(t,r){t.asyncQueue.verifyOperationInProgress();const i=yield function CM(n){return(MO=MO||(0,oe.Z)(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $D(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function hk(n){return"FirebaseError"===n.name?n.code===X.FAILED_PRECONDITION||n.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(r))throw r;oo("Error using user provided cache. Falling back to memory cache: "+r),yield $D(e,new UD)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),yield $D(e,new UD);return e._offlineComponents})).apply(this,arguments)}(t);Ee("FirestoreClient","Initializing OnlineComponentProvider");const u=yield t.getConfiguration();yield r.initialize(i,u),t.setCredentialChangeListener(c=>QN(r.remoteStore,c)),t.setAppCheckTokenChangeListener((c,f)=>QN(r.remoteStore,f)),t._onlineComponents=r})).apply(this,arguments)}function jD(n){return(xO=xO||(0,oe.Z)(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield DM(e,e._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),yield DM(e,new Bp))),e._onlineComponents})).apply(this,arguments)}function $p(n){return(RO=RO||(0,oe.Z)(function*(e){const t=yield jD(e),r=t.eventManager;return r.onListen=BU.bind(null,t.syncEngine),r.onUnlisten=$U.bind(null,t.syncEngine),r})).apply(this,arguments)}function _k(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const vk=new Map;function TM(n,e,t){if(!t)throw new me(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wk(n){if(!$e.isDocumentKey(n))throw new me(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ek(n){if($e.isDocumentKey(n))throw new me(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xe()}function Zt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zD(n);throw new me(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Dk{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new me(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new me(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function yB(n,e,t,r){if(!0===e&&!0===r)throw new me(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=_k(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new me(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new me(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dk(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new gV;switch(t.type){case"firstParty":return new vV(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new me(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=vk.get(e);t&&(Ee("ComponentProvider","Removing Datastore"),vk.delete(e),t.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class qr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class ra extends qr{constructor(e,t,r){super(e,t,Ip(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new $e(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function vB(n,e,...t){if(n=(0,Nt.m9)(n),TM("collection","path",e),n instanceof Tv){const r=Yt.fromString(e,...t);return Ek(r),new ra(n,null,r)}{if(!(n instanceof Jn||n instanceof ra))throw new me(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return Ek(r),new ra(n.firestore,null,r)}}class EB{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new oM(this,"async_queue_retry"),this.Xc=()=>{const t=FD();t&&Ee("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=FD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=FD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Er;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,oe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Tc(t))throw t;Ee("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Zn("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=dM.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(i),i}Zc(){this.Wc&&Xe()}verifyOperationInProgress(){}sa(){var e=this;return(0,oe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function SM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class bn extends Tv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new EB,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bk(this),this._firestoreClient.terminate()}}function DB(n,e){const t="object"==typeof n?n:(0,Lt.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Lt._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const u=(0,Nt.P0)("firestore");u&&function _B(n,e,t,r={}){var i;const u=(n=Zt(n,Tv))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==c&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:c,ssl:!1})),r.mockUserToken){let f,y;if("string"==typeof r.mockUserToken)f=r.mockUserToken,y=Pr.MOCK_USER;else{f=(0,Nt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new me(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Pr(E)}n._authCredentials=new mV(new PO(f,y))}}(i,...u)}return i}function fr(n){return n._firestoreClient||bk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function bk(n){var e,t,r;const i=n._freezeSettings(),u=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ZV(n._databaseId,f,n._persistenceKey,(E=i).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,_k(E.experimentalLongPollingOptions),E.useFetchStreams));var f,E;n._firestoreClient=new uB(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Qd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qd(Ir.fromBase64String(e))}catch(t){throw new me(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qd(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new me(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ak{constructor(e){this._methodName=e}}class AM{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}const bB=/^__.*__$/;class TB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ja(e,this.data,this.fieldMask,t,this.fieldTransforms):new bp(e,this.data,t,this.fieldTransforms)}}function xk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class GD{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new GD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return qD(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(xk(this.ca)&&bB.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class SB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Dv(e)}ya(e,t,r,i=!1){return new GD({ca:e,methodName:t,ga:r,path:Yn.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hp(n){const e=n._freezeSettings(),t=Dv(n._databaseId);return new SB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MM(n,e,t,r,i,u={}){const c=n.ya(u.merge||u.mergeFields?2:0,e,t,i);RM("Data must be an object, but it was:",c,r);const f=kk(r,c);let y,E;if(u.merge)y=new ki(c.fieldMask),E=c.fieldTransforms;else if(u.mergeFields){const C=[];for(const S of u.mergeFields){const O=Mv(e,S,t);if(!c.contains(O))throw new me(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);Lk(C,O)||C.push(O)}y=new ki(C),E=c.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,E=c.fieldTransforms;return new TB(new Wr(f),y,E)}function Jd(n,e){if(Fk(n=(0,Nt.m9)(n)))return RM("Unsupported field value:",e,n),kk(n,e);if(n instanceof Ak)return function(t,r){if(!xk(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let f=Jd(c,r.wa(u));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Nt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return TP(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Pn.fromDate(t);return{timestampValue:Sp(r.serializer,i)}}if(t instanceof Pn){const i=new Pn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Sp(r.serializer,i)}}if(t instanceof AM)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qd)return{bytesValue:qP(r.serializer,t._byteString)};if(t instanceof Jn){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:VA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${zD(t)}`)}(n,e)}function kk(n,e){const t={};return ZO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sc(n,(r,i)=>{const u=Jd(i,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function Fk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Pn||n instanceof AM||n instanceof Qd||n instanceof Jn||n instanceof Ak)}function RM(n,e,t){if(!Fk(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=zD(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Mv(n,e,t){if((e=(0,Nt.m9)(e))instanceof jp)return e._internalPath;if("string"==typeof e)return WD(n,e);throw qD("Field path arguments must be of type string or ",n,!1,void 0,t)}const RB=new RegExp("[~\\*/\\[\\]]");function WD(n,e,t){if(e.search(RB)>=0)throw qD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jp(...e.split("."))._internalPath}catch{throw qD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qD(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(u||c)&&(y+=" (found",u&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new me(X.INVALID_ARGUMENT,f+n+y)}function Lk(n,e){return n.some(t=>t.isEqual(e))}class OM{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new OB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(KD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class OB extends OM{data(){return super.data()}}function KD(n,e){return"string"==typeof e?WD(n,e):e instanceof jp?e._internalPath:e._delegate._internalPath}class NB{convertValue(e,t="none"){switch(xc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Sc(e,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new AM(Bn(e.latitude),Bn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=uD(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(J_(e));default:return null}}convertTimestamp(e){const t=Ac(e);return new Pn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Yt.fromString(e);ut(rN(r));const i=new Vd(r.get(1),r.get(3)),u=new $e(r.popFirst(5));return i.isEqual(t)||Zn(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}class Xd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gp extends OM{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new JD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(KD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class JD extends Gp{data(e={}){return super.data(e)}}class Wp{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Xd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new JD(this._firestore,this._userDataWriter,r.key,r,new Xd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new JD(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Xd(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new JD(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Xd(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,E=-1;return 0!==c.type&&(y=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),E=u.indexOf(c.doc.key)),{type:FB(c.type),doc:f,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function FB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}class Uc extends NB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function LB(n,e){const t=Zt(n.firestore,bn),r=function wB(n,e,...t){if(n=(0,Nt.m9)(n),1===arguments.length&&(e=kO.A()),TM("doc","path",e),n instanceof Tv){const r=Yt.fromString(e,...t);return wk(r),new Jn(n,null,new $e(r))}{if(!(n instanceof Jn||n instanceof ra))throw new me(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return wk(r),new Jn(n.firestore,n instanceof ra?n.converter:null,new $e(r))}}(n),i=function NM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return function Rv(n,e){return function(t,r){const i=new Er;return t.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function jU(n,e,t){return(hO=hO||(0,oe.Z)(function*(r,i,u){const c=IM(r);try{const f=yield function(y,E){const C=je(y),S=Pn.now(),O=E.reduce((re,le)=>re.add(le.key),Vt());let N,G;return C.persistence.runTransaction("Locally write mutations","readwrite",re=>{let le=Fi(),ve=Vt();return C.Zi.getEntries(re,O).next(ze=>{le=ze,le.forEach((Be,He)=>{He.isValidDocument()||(ve=ve.add(Be))})}).next(()=>C.localDocuments.getOverlayedDocuments(re,le)).next(ze=>{N=ze;const Be=[];for(const He of E){const Mt=m2(He,N.get(He.key).overlayedDocument);null!=Mt&&Be.push(new Ja(He.key,Mt,iP(Mt.value.mapValue),Mn.exists(!0)))}return C.mutationQueue.addMutationBatch(re,S,Be,E)}).next(ze=>{G=ze;const Be=ze.applyToLocalDocumentSet(N,ve);return C.documentOverlayCache.saveOverlays(re,ze.batchId,Be)})}).then(()=>({batchId:G.batchId,changes:IP(N)}))}(c.localStore,i);c.sharedClientState.addPendingMutation(f.batchId),function(y,E,C){let S=y.Tc[y.currentUser.toKey()];S||(S=new mn(Rt)),S=S.insert(E,C),y.Tc[y.currentUser.toKey()]=S}(c,f.batchId,u),yield eu(c,f.changes),yield Np(c.remoteStore)}catch(f){const y=Fp(f,"Failed to persist write");u.reject(y)}})).apply(this,arguments)}(yield function bM(n){return jD(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(fr(n),e)}(t,[MM(Hp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Mn.exists(!1))]).then(()=>r)}!function(n,e=!0){mp=Lt.SDK_VERSION,(0,Lt._registerComponent)(new is.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),c=new bn(new yV(t.getProvider("auth-internal")),new wV(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new me(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vd(f.options.projectId,y)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Lt.registerVersion)(OO,"3.13.0",n),(0,Lt.registerVersion)(OO,"3.13.0","esm2017")}();var eC=function(){return eC=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e},eC.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var YB={includeMetadataChanges:!1};function LM(n,e){return void 0===e&&(e=YB),new Xr.y(function(t){var r=function VB(n,...e){var t,r,i;n=(0,Nt.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||SM(e[c])||(u=e[c],c++);const f={includeMetadataChanges:u.includeMetadataChanges};if(SM(e[c])){const S=e[c];e[c]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[c+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[c+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let y,E,C;if(n instanceof Jn)E=Zt(n.firestore,bn),C=Ip(n._key.path),y={next:S=>{e[c]&&e[c](function kM(n,e,t){const r=t.docs.get(e._key),i=new Uc(n);return new Gp(n,i,e._key,r,new Xd(t.hasPendingWrites,t.fromCache),e.converter)}(E,n,S))},error:e[c+1],complete:e[c+2]};else{const S=Zt(n,qr);E=Zt(S.firestore,bn),C=S._query;const O=new Uc(E);y={next:N=>{e[c]&&e[c](new Wp(E,O,S,N))},error:e[c+1],complete:e[c+2]},function Vk(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new me(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(S,O,N,G){const re=new BD(G),le=new gM(O,re,N);return S.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function hM(n,e){return(aO=aO||(0,oe.Z)(function*(t,r){const i=je(t),u=r.query;let c=!1,f=i.queries.get(u);if(f||(c=!0,f=new RU),c)try{f.Nu=yield i.onListen(u)}catch(y){const E=Fp(y,`Initialization of query '${MA(r.query)}' failed`);return void r.onError(E)}i.queries.set(u,f),f.listeners.push(r),r.Mu(i.onlineState),f.Nu&&r.$u(f.Nu)&&pM(i)})).apply(this,arguments)}(yield $p(S),le)})),()=>{re.Dc(),S.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function fM(n,e){return(uO=uO||(0,oe.Z)(function*(t,r){const i=je(t),u=r.query;let c=!1;const f=i.queries.get(u);if(f){const y=f.listeners.indexOf(r);y>=0&&(f.listeners.splice(y,1),c=0===f.listeners.length)}if(c)return i.queries.delete(u),i.onUnlisten(u)})).apply(this,arguments)}(yield $p(S),le)}))}}(fr(E),C,f,y)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function r$(n,e){return void 0===e&&(e={}),function n$(n){return LM(n,{includeMetadataChanges:!0}).pipe((0,It.U)(function(e){return e.docs}))}(n).pipe((0,It.U)(function(t){return t.map(function(r){return function Wk(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?eC(eC({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}class Ov{constructor(e){return e}}const Yk="firestore",BM=new p.OlP("angularfire2.firestore-instances");function a$(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ov(r)}}const u$={provide:class s${constructor(){return qy(Yk)}},deps:[[new p.FiY,BM]]},c$={provide:Ov,useFactory:function o$(n,e){const t=Wy(Yk,n,e);return t&&new Ov(t)},deps:[[new p.FiY,BM],vd]};let l$=(()=>{class n{constructor(){(0,Lt.registerVersion)("angularfire",yd.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[c$,u$]}),n})();function d$(n,...e){return{ngModule:l$,providers:[{provide:BM,useFactory:a$(n),multi:!0,deps:[p.R0b,p.zs3,Gf,Zy,[new p.FiY,Oi],[new p.FiY,Td],...e]}]}}const h$=_c(r$,!0),Qk=_c(LB,!0),$M=_c(vB,!0),f$=_c(DB,!0);var p$=k(6451);class g$ extends Qi.x{constructor(e=1/0,t=1/0,r=Hf){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)f=y;f&&r.splice(0,f+1)}}}var m$=k(3099);function Jk(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,m$.B)({connector:()=>new g$(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Xk(n,e){return(0,Au.m)(e)?xn(()=>n,e):xn(()=>n)}var eh=k(2011);k(9260);const _$=new p.OlP("angularfire2.auth.use-emulator"),v$=new p.OlP("angularfire2.auth.settings"),w$=new p.OlP("angularfire2.auth.tenant-id"),E$=new p.OlP("angularfire2.auth.langugage-code"),I$=new p.OlP("angularfire2.auth.use-device-language"),D$=new p.OlP("angularfire.auth.persistence");let eF=(()=>{class n{constructor(t,r,i,u,c,f,y,E,C,S,O,N){const G=new Qi.x,re=dt(void 0).pipe((0,mc.Q)(c.outsideAngular),xn(()=>u.runOutsideAngular(()=>k.e(568).then(k.bind(k,9568)))),(0,It.U)(()=>(0,eh.on)(t,u,r)),(0,It.U)(le=>((n,e,t,r,i,u,c,f)=>(0,eh.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,u&&y.useDeviceLanguage(),c)for(const[E,C]of Object.entries(c))y.settings[E]=C;return f&&y.setPersistence(f),y},[t,r,i,u,c,f]))(le,u,f,E,C,S,y,O)),Jk({bufferSize:1,refCount:!1}));if(function Hv(n){return"server"===n}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=dt(null);else{re.pipe(Xi()).subscribe();const ve=re.pipe(xn(He=>He.getRedirectResult().then(Mt=>Mt,()=>null)),Ky,Jk({bufferSize:1,refCount:!1})),ze=re.pipe(xn(He=>new Xr.y(Mt=>({unsubscribe:u.runOutsideAngular(()=>He.onAuthStateChanged(en=>Mt.next(en),en=>Mt.error(en),()=>Mt.complete()))})))),Be=re.pipe(xn(He=>new Xr.y(Mt=>({unsubscribe:u.runOutsideAngular(()=>He.onIdTokenChanged(en=>Mt.next(en),en=>Mt.error(en),()=>Mt.complete()))}))));this.authState=ve.pipe(Xk(ze),(0,md.R)(c.outsideAngular),(0,mc.Q)(c.insideAngular)),this.user=ve.pipe(Xk(Be),(0,md.R)(c.outsideAngular),(0,mc.Q)(c.insideAngular)),this.idToken=this.user.pipe(xn(He=>He?(0,gn.D)(He.getIdToken()):dt(null))),this.idTokenResult=this.user.pipe(xn(He=>He?(0,gn.D)(He.getIdTokenResult()):dt(null))),this.credential=(0,p$.T)(ve,G,this.authState.pipe(Ji(He=>!He))).pipe((0,It.U)(He=>He?.user?He:null),(0,md.R)(c.outsideAngular),(0,mc.Q)(c.insideAngular))}return(0,eh.pX)(this,re,u,{spy:{apply:(le,ve,ze)=>{(le.startsWith("signIn")||le.startsWith("createUser"))&&ze.then(Be=>G.next(Be))}}})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(eh.Dh),p.LFG(eh.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Gf),p.LFG(_$,8),p.LFG(v$,8),p.LFG(w$,8),p.LFG(E$,8),p.LFG(I$,8),p.LFG(D$,8),p.LFG(Td,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jM=(()=>{var n;class e{constructor(r,i){this.firestore=r,this.auth=i,this.listadoUsuario=[]}subirLog(r,i){const u=$M(this.firestore,"logs");Qk(u,{nombre:r,date:i})}register(r,i,u){return this.auth.createUserWithEmailAndPassword(r,i)}getUsers(){const r=$M(this.firestore,"Usuarios");h$(r).subscribe(u=>(this.listadoUsuario=u,u))}login(r,i){return this.auth.signInWithEmailAndPassword(r,i)}setDataFromUser(r){const i=localStorage.getItem("currentUser");let u=JSON.stringify({email:r.email,nombre:r.nombre});null==i||localStorage.removeItem("currentUser"),localStorage.setItem("currentUser",u)}logout(){this.auth.signOut()}userLogged(){return this.auth.authState}}return(n=e).\u0275fac=function(r){return new(r||n)(p.LFG(Ov),p.LFG(eF))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),tF=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n}),n})(),th=(()=>{class n extends tF{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275dir=p.lG2({type:n,features:[p.qOj]}),n})();const ia=new p.OlP("NgValueAccessor"),S$={provide:ia,useExisting:(0,p.Gpc)(()=>Pv),multi:!0},M$=new p.OlP("CompositionEventMode");let Pv=(()=>{class n extends tF{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function A$(){const n=te()?te().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(M$,8))},n.\u0275dir=p.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&p.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[p._Bn([S$]),p.qOj]}),n})();const x$=!1,ii=new p.OlP("NgValidators"),$c=new p.OlP("NgAsyncValidators");function hF(n){return null!=n}function fF(n){const e=(0,p.QGY)(n)?(0,gn.D)(n):n;if(x$&&!(0,p.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new p.vHH(-1101,t)}return e}function pF(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function gF(n,e){return e.map(t=>t(n))}function mF(n){return n.map(e=>function O$(n){return!n.validate}(e)?e:t=>e.validate(t))}function HM(n){return null!=n?function yF(n){if(!n)return null;const e=n.filter(hF);return 0==e.length?null:function(t){return pF(gF(t,e))}}(mF(n)):null}function zM(n){return null!=n?function _F(n){if(!n)return null;const e=n.filter(hF);return 0==e.length?null:function(t){return function b$(...n){const e=(0,Vr.jO)(n),{args:t,keys:r}=Tu(n),i=new Xr.y(u=>{const{length:c}=t;if(!c)return void u.complete();const f=new Array(c);let y=c,E=c;for(let C=0;C<c;C++){let S=!1;(0,So.Xf)(t[C]).subscribe((0,lr.x)(u,O=>{S||(S=!0,E--),f[C]=O},()=>y--,void 0,()=>{(!y||!S)&&(E||u.next(r?qs(r,f):f),u.complete())}))}});return e?i.pipe(ei(e)):i}(gF(t,e).map(fF)).pipe((0,It.U)(pF))}}(mF(n)):null}function vF(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function GM(n){return n?Array.isArray(n)?n:[n]:[]}function nC(n,e){return Array.isArray(n)?n.includes(e):n===e}function IF(n,e){const t=GM(e);return GM(n).forEach(i=>{nC(t,i)||t.push(i)}),t}function DF(n,e){return GM(e).filter(t=>!nC(n,t))}class CF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class yi extends CF{get formDirective(){return null}get path(){return null}}class jc extends CF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bF{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let WM=(()=>{class n extends bF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(jc,2))},n.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[p.qOj]}),n})();const Nv="VALID",iC="INVALID",qp="PENDING",kv="DISABLED";function sC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class MF{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Nv}get invalid(){return this.status===iC}get pending(){return this.status==qp}get disabled(){return this.status===kv}get enabled(){return this.status!==kv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(IF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(IF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(DF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(DF(e,this._rawAsyncValidators))}hasValidator(e){return nC(this._rawValidators,e)}hasAsyncValidator(e){return nC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=qp,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kv,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nv,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nv||this.status===qp)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kv:Nv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=qp,this._hasOwnPendingAsyncValidator=!0;const t=fF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?kv:this.errors?iC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qp)?qp:this._anyControlsHaveStatus(iC)?iC:Nv}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function B$(n){return Array.isArray(n)?HM(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function $$(n){return Array.isArray(n)?zM(n):n||null}(this._rawAsyncValidators)}}const Kp=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>oC}),oC="always";function Fv(n,e,t=oC){(function XM(n,e){const t=function wF(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(vF(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function EF(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(vF(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();cC(e._rawValidators,i),cC(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function z$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xF(n,e)})}(n,e),function W$(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function G$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xF(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function H$(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function PF(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function NF(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const kF=class extends MF{constructor(e=null,t,r){super(function YM(n){return(sC(n)?n.validators:n)||null}(t),function QM(n,e){return(sC(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sC(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=NF(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){NF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},ej={provide:jc,useExisting:(0,p.Gpc)(()=>dC)},VF=(()=>Promise.resolve())();let dC=(()=>{class n extends jc{constructor(t,r,i,u,c,f){super(),this._changeDetectorRef=c,this.callSetDisabledState=f,this.control=new kF,this._registered=!1,this.update=new p.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function nx(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===Pv?t=u:function Z$(n){return Object.getPrototypeOf(n.constructor)===th}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function tx(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){VF.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,p.D6c)(r);VF.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function aC(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(yi,9),p.Y36(ii,10),p.Y36($c,10),p.Y36(ia,10),p.Y36(p.sBO,8),p.Y36(Kp,8))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([ej]),p.qOj,p.TTD]}),n})(),BF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})(),bj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[BF]}),n})(),Sj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Kp,useValue:t.callSetDisabledState??oC}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[bj]}),n})();const Aj=[{path:"",component:gf},{path:"home",component:gf},{path:"quien-soy",component:Yl},{path:"login",component:(()=>{var n;class e{constructor(r,i){this.service=r,this.router=i,this.date=new Date,this.email="",this.clave=""}ngOnInit(){}login(){this.service.login(this.email,this.clave).then(r=>{this.service.subirLog(this.email,(new Date).toLocaleString()),console.log("usuario logueado correctamente");let c=new wm(this.email,this.clave,r.user.displayName);this.service.setDataFromUser(c),console.log(r),this.router.navigate(["home"])}).catch(r=>{})}fillUserData(){this.email="usuarioprueba@hotmail.com",this.clave="prueba123"}}return(n=e).\u0275fac=function(r){return new(r||n)(p.Y36(jM),p.Y36(xr))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-login"]],decls:19,vars:2,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"row"],[1,"colm-form"],[1,"form-container"],["type","text","placeholder","email",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",3,"ngModel","ngModelChange"],[1,"btn-login",3,"click"],[1,"btn-new",3,"click"]],template:function(r,i){1&r&&(p.TgZ(0,"html",0)(1,"head"),p._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),p.TgZ(5,"title"),p._uU(6,"Sala de juegos"),p.qZA()(),p.TgZ(7,"body")(8,"main")(9,"div",4)(10,"div",5)(11,"div",6)(12,"input",7),p.NdJ("ngModelChange",function(c){return i.email=c}),p.qZA(),p.TgZ(13,"input",8),p.NdJ("ngModelChange",function(c){return i.clave=c}),p.qZA(),p.TgZ(14,"button",9),p.NdJ("click",function(){return i.login()}),p._uU(15,"Login"),p.qZA(),p.TgZ(16,"button",10),p.NdJ("click",function(){return i.fillUserData()}),p._uU(17,"Ingresar como usuario"),p.qZA()()()()(),p._UZ(18,"footer"),p.qZA()()),2&r&&(p.xp6(12),p.Q6J("ngModel",i.email),p.xp6(1),p.Q6J("ngModel",i.clave))},dependencies:[Pv,WM,dC],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:#f0f2f5;color:#1c1e21}main[_ngcontent-%COMP%]{height:90vh;width:100vw;position:relative;margin:0 auto}footer[_ngcontent-%COMP%]{height:10vh;background-color:#fff}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;width:100%;max-width:1000px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.colm-logo[_ngcontent-%COMP%]{flex:0 0 50%;text-align:left}.colm-form[_ngcontent-%COMP%]{flex:0 0 40%;text-align:center}.colm-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:400px}.colm-logo[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font:26px;font-weight:400;padding:0 30px;line-height:32px}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:10px;box-shadow:0 2px 4px #0000001a,0 8px 16px #0000001a;margin-bottom:30px;padding:20px;max-width:400px}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{width:100%;margin:5px 0;height:45px;vertical-align:middle;font-size:16px}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #dddfe2;color:#1d2129;padding:0 8px;outline:none}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#1877f2;box-shadow:0 0 0 2px #e7f3ff}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{background-color:#1877f2;border:none;border-radius:6px;font-size:20px;padding:0 16px;color:#fff;font-weight:700}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#1877f2;font-size:14px;text-decoration:none;padding:10px 0 20px;border-bottom:1px solid #dadde1}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .btn-new[_ngcontent-%COMP%]{background-color:#42b72a;border:none;border-radius:6px;font-size:17px;line-height:48px;padding:0 16px;color:#fff;font-weight:700;margin-top:20px}.colm-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.colm-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1c1e21;font-weight:600}.colm-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.footer-contents[_ngcontent-%COMP%]{position:relative;max-width:1000px;margin:0 auto}footer[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;list-style-type:none;padding:10px 0}footer[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]:first-child{border-bottom:1px solid #dddfe2}footer[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]:first-child   li[_ngcontent-%COMP%]:last-child   button[_ngcontent-%COMP%]{background-color:#f5f6f7;border:1px solid #ccd0d5;outline:none;color:#4b4f56;padding:0 8px;font-weight:700;font-size:16px}footer[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-right:15px;font-size:12px;color:#385898}footer[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#385898}footer[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}footer[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:11px}"]}),e})()},{path:"registro",component:(()=>{var n;class e{constructor(r,i,u){this.service=r,this.firestore=i,this.router=u,this.date=new Date,this.email="",this.clave="",this.nombre="",this.arrayUsuarios=new Array,this.mensaje=""}ngOnInit(){}register(){this.service.register(this.email,this.clave,this.nombre).then(i=>{console.log("registrado exitosamente");const u=$M(this.firestore,"Usuarios");Qk(u,{email:this.email,nombre:this.nombre}),i.user?.updateProfile({displayName:this.nombre}),console.log("usuario registrado y logueado correctamente");const c=JSON.stringify({email:this.email,nombre:this.nombre});localStorage.setItem("currentUser",c),this.router.navigate(["home"])}).catch(i=>{"auth/email-already-in-use"==i.code&&this.showMessage()})}showMessage(){this.mensaje="El usuario que desea registrar ya existe, por favor vuelva a ingresar otros datos"}}return(n=e).\u0275fac=function(r){return new(r||n)(p.Y36(jM),p.Y36(Ov),p.Y36(xr))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-registro"]],decls:21,vars:4,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"row"],[1,"colm-form"],[1,"form-container"],["type","text","placeholder","Nombre",3,"ngModel","ngModelChange"],["type","text","placeholder","email",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",3,"ngModel","ngModelChange"],[1,"btn-new",3,"click"]],template:function(r,i){1&r&&(p.TgZ(0,"html",0)(1,"head"),p._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),p.TgZ(5,"title"),p._uU(6,"Sala de juegos"),p.qZA()(),p.TgZ(7,"body")(8,"main")(9,"div",4)(10,"div",5)(11,"div",6)(12,"input",7),p.NdJ("ngModelChange",function(c){return i.nombre=c}),p.qZA(),p.TgZ(13,"input",8),p.NdJ("ngModelChange",function(c){return i.email=c}),p.qZA(),p.TgZ(14,"input",9),p.NdJ("ngModelChange",function(c){return i.clave=c}),p.qZA(),p.TgZ(15,"button",10),p.NdJ("click",function(){return i.register()}),p._uU(16,"Registrarse"),p.qZA()(),p.TgZ(17,"div")(18,"p"),p._uU(19),p.qZA()()()()(),p._UZ(20,"footer"),p.qZA()()),2&r&&(p.xp6(12),p.Q6J("ngModel",i.nombre),p.xp6(1),p.Q6J("ngModel",i.email),p.xp6(1),p.Q6J("ngModel",i.clave),p.xp6(5),p.Oqu(i.mensaje))},dependencies:[Pv,WM,dC],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:#f0f2f5;color:#1c1e21}main[_ngcontent-%COMP%]{height:90vh;width:100vw;position:relative;margin:0 auto}footer[_ngcontent-%COMP%]{height:10vh;background-color:#fff}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;width:100%;max-width:1000px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.colm-logo[_ngcontent-%COMP%]{flex:0 0 50%;text-align:left}.colm-form[_ngcontent-%COMP%]{flex:0 0 40%;text-align:center}.colm-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:400px}.colm-logo[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font:26px;font-weight:400;padding:0 30px;line-height:32px}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:10px;box-shadow:0 2px 4px #0000001a,0 8px 16px #0000001a;margin-bottom:30px;padding:20px;max-width:400px}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{width:100%;margin:5px 0;height:45px;vertical-align:middle;font-size:16px}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #dddfe2;color:#1d2129;padding:0 8px;outline:none}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#1877f2;box-shadow:0 0 0 2px #e7f3ff}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{background-color:#1877f2;border:none;border-radius:6px;font-size:20px;padding:0 16px;color:#fff;font-weight:700}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#1877f2;font-size:14px;text-decoration:none;padding:10px 0 20px;border-bottom:1px solid #dadde1}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.colm-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .btn-new[_ngcontent-%COMP%]{background-color:#42b72a;border:none;border-radius:6px;font-size:17px;line-height:48px;padding:0 16px;color:#fff;font-weight:700;margin-top:20px}.colm-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.colm-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1c1e21;font-weight:600}.colm-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.footer-contents[_ngcontent-%COMP%]{position:relative;max-width:1000px;margin:0 auto}footer[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;list-style-type:none;padding:10px 0}footer[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]:first-child{border-bottom:1px solid #dddfe2}footer[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]:first-child   li[_ngcontent-%COMP%]:last-child   button[_ngcontent-%COMP%]{background-color:#f5f6f7;border:1px solid #ccd0d5;outline:none;color:#4b4f56;padding:0 8px;font-weight:700;font-size:16px}footer[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-right:15px;font-size:12px;color:#385898}footer[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#385898}footer[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}footer[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:11px}"]}),e})()}];let Mj=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[fb.forRoot(Aj),fb]}),e})();function xj(n,e){if(1&n){const t=p.EpF();p.TgZ(0,"ul",11)(1,"li",4)(2,"h3",12),p._uU(3),p.qZA()(),p.TgZ(4,"li",4)(5,"button",13),p.NdJ("click",function(){p.CHM(t);const i=p.oxw();return p.KtG(i.logout())}),p._uU(6,"Log Out"),p.qZA()()()}if(2&n){const t=p.oxw();p.xp6(3),p.hij("Hola ",t.getUserName(),"!")}}function Rj(n,e){1&n&&(p.TgZ(0,"ul",11)(1,"li",4)(2,"a",14),p._uU(3,"Login"),p.qZA()(),p.TgZ(4,"li",4)(5,"a",15),p._uU(6,"Register"),p.qZA()()())}let Oj=(()=>{var n;class e{constructor(r){this.service=r}ngOnInit(){}userIsLogged(){return null!=localStorage.getItem("currentUser")}getUserName(){const r=localStorage.getItem("currentUser");return null!=r?JSON.parse(r).nombre:"error"}logout(){console.log("cerrando sesion.."),this.service.logout(),localStorage.clear(),localStorage.removeItem("currentUser")}}return(n=e).\u0275fac=function(r){return new(r||n)(p.Y36(jM))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-navbar"]],decls:17,vars:2,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-dark"],[1,"container-fluid"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","",1,"nav-link","active"],[1,"nav-item","dropdown"],["routerLink","quien-soy","role","button",1,"nav-link"],["routerLink","juegos","role","button",1,"nav-link"],["class","navbar-nav mb-12 mb-lg-0",4,"ngIf","ngIfElse"],["Login",""],[1,"navbar-nav","mb-12","mb-lg-0"],[2,"color","#4d6ba9","padding","0 15px"],[1,"btn","btn-light",3,"click"],["routerLink","login",1,"nav-link"],["routerLink","registro",1,"nav-link"]],template:function(r,i){if(1&r&&(p.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),p._uU(6,"Home"),p.qZA()(),p.TgZ(7,"li",6)(8,"a",7),p._uU(9,"Quien soy"),p.qZA()(),p.TgZ(10,"li",6)(11,"a",8),p._uU(12,"Juegos"),p.qZA()()()(),p.YNc(13,xj,7,1,"ul",9),p.TgZ(14,"ul",3),p.YNc(15,Rj,7,0,"ng-template",null,10,p.W1O),p.qZA()()()),2&r){const u=p.MAs(16);p.xp6(13),p.Q6J("ngIf",i.userIsLogged())("ngIfElse",u)}},dependencies:[go,hf]}),e})(),Pj=(()=>{var n;class e{constructor(){this.title="TpSalaDeJuegos"}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&p._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[qg,Oj]}),e})();const iL={firebaseConfig:{apiKey:"AIzaSyBbFHL7KTPHoN0WnAtmhhutFFMo4RYEycM",authDomain:"saladejuegos-c42f6.firebaseapp.com",projectId:"saladejuegos-c42f6",storageBucket:"saladejuegos-c42f6.appspot.com",messagingSenderId:"495917166475",appId:"1:495917166475:web:405aa4e6c2c4927cf3c98e"}};let Nj=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=p.oAB({type:n,bootstrap:[Pj]}),n.\u0275inj=p.cJS({providers:[{provide:eh.Dh,useValue:iL.firebaseConfig}],imports:[Io,Mj,Sj,ks(()=>qT(iL.firebaseConfig)),IS(()=>Ko()),d$(()=>f$())]}),e})();Rh().bootstrapModule(Nj).catch(n=>console.error(n))},9751:(yt,De,k)=>{k.d(De,{y:()=>Ie});var p=k(2961),F=k(727),te=k(8822),de=k(9635),fe=k(2416),ce=k(576),Re=k(2806);let Ie=(()=>{class H{constructor(Ce){Ce&&(this._subscribe=Ce)}lift(Ce){const qe=new H;return qe.source=this,qe.operator=Ce,qe}subscribe(Ce,qe,et){const J=function B(H){return H&&H instanceof p.Lv||function U(H){return H&&(0,ce.m)(H.next)&&(0,ce.m)(H.error)&&(0,ce.m)(H.complete)}(H)&&(0,F.Nn)(H)}(Ce)?Ce:new p.Hp(Ce,qe,et);return(0,Re.x)(()=>{const{operator:Me,source:_e}=this;J.add(Me?Me.call(J,_e):_e?this._subscribe(J):this._trySubscribe(J))}),J}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(qe){Ce.error(qe)}}forEach(Ce,qe){return new(qe=Oe(qe))((et,J)=>{const Me=new p.Hp({next:_e=>{try{Ce(_e)}catch(Fe){J(Fe),Me.unsubscribe()}},error:J,complete:et});this.subscribe(Me)})}_subscribe(Ce){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(Ce)}[te.L](){return this}pipe(...Ce){return(0,de.U)(Ce)(this)}toPromise(Ce){return new(Ce=Oe(Ce))((qe,et)=>{let J;this.subscribe(Me=>J=Me,Me=>et(Me),()=>qe(J))})}}return H.create=ke=>new H(ke),H})();function Oe(H){var ke;return null!==(ke=H??fe.v.Promise)&&void 0!==ke?ke:Promise}},7579:(yt,De,k)=>{k.d(De,{x:()=>Re});var p=k(9751),F=k(727);const de=(0,k(3888).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=k(8737),ce=k(2806);let Re=(()=>{class Oe extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const H=new Ie(this,this);return H.operator=B,H}_throwIfClosed(){if(this.closed)throw new de}next(B){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const H of this.currentObservers)H.next(B)}})}error(B){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:H}=this;for(;H.length;)H.shift().error(B)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:H,isStopped:ke,observers:Ce}=this;return H||ke?F.Lc:(this.currentObservers=null,Ce.push(B),new F.w0(()=>{this.currentObservers=null,(0,fe.P)(Ce,B)}))}_checkFinalizedStatuses(B){const{hasError:H,thrownError:ke,isStopped:Ce}=this;H?B.error(ke):Ce&&B.complete()}asObservable(){const B=new p.y;return B.source=this,B}}return Oe.create=(U,B)=>new Ie(U,B),Oe})();class Ie extends Re{constructor(U,B){super(),this.destination=U,this.source=B}next(U){var B,H;null===(H=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===H||H.call(B,U)}error(U){var B,H;null===(H=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===H||H.call(B,U)}complete(){var U,B;null===(B=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===B||B.call(U)}_subscribe(U){var B,H;return null!==(H=null===(B=this.source)||void 0===B?void 0:B.subscribe(U))&&void 0!==H?H:F.Lc}}},2961:(yt,De,k)=>{k.d(De,{Hp:()=>et,Lv:()=>H});var p=k(576),F=k(727),te=k(2416),de=k(7849);function fe(){}const ce=Oe("C",void 0,void 0);function Oe(xe,pe,ye){return{kind:xe,value:pe,error:ye}}var U=k(3410),B=k(2806);class H extends F.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,F.Nn)(pe)&&pe.add(this)):this.destination=Fe}static create(pe,ye,Le){return new et(pe,ye,Le)}next(pe){this.isStopped?_e(function Ie(xe){return Oe("N",xe,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?_e(function Re(xe){return Oe("E",void 0,xe)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?_e(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Ce(xe,pe){return ke.call(xe,pe)}class qe{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:ye}=this;if(ye.next)try{ye.next(pe)}catch(Le){J(Le)}}error(pe){const{partialObserver:ye}=this;if(ye.error)try{ye.error(pe)}catch(Le){J(Le)}else J(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(ye){J(ye)}}}class et extends H{constructor(pe,ye,Le){let Ne;if(super(),(0,p.m)(pe)||!pe)Ne={next:pe??void 0,error:ye??void 0,complete:Le??void 0};else{let Ge;this&&te.v.useDeprecatedNextContext?(Ge=Object.create(pe),Ge.unsubscribe=()=>this.unsubscribe(),Ne={next:pe.next&&Ce(pe.next,Ge),error:pe.error&&Ce(pe.error,Ge),complete:pe.complete&&Ce(pe.complete,Ge)}):Ne=pe}this.destination=new qe(Ne)}}function J(xe){te.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(xe):(0,de.h)(xe)}function _e(xe,pe){const{onStoppedNotification:ye}=te.v;ye&&U.z.setTimeout(()=>ye(xe,pe))}const Fe={closed:!0,next:fe,error:function Me(xe){throw xe},complete:fe}},727:(yt,De,k)=>{k.d(De,{Lc:()=>ce,w0:()=>fe,Nn:()=>Re});var p=k(576);const te=(0,k(3888).d)(Oe=>function(B){Oe(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((H,ke)=>`${ke+1}) ${H.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var de=k(8737);class fe{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Ce of B)Ce.remove(this);else B.remove(this);const{initialTeardown:H}=this;if((0,p.m)(H))try{H()}catch(Ce){U=Ce instanceof te?Ce.errors:[Ce]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Ce of ke)try{Ie(Ce)}catch(qe){U=U??[],qe instanceof te?U=[...U,...qe.errors]:U.push(qe)}}if(U)throw new te(U)}}add(U){var B;if(U&&U!==this)if(this.closed)Ie(U);else{if(U instanceof fe){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(U)}}_hasParent(U){const{_parentage:B}=this;return B===U||Array.isArray(B)&&B.includes(U)}_addParent(U){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(U),B):B?[B,U]:U}_removeParent(U){const{_parentage:B}=this;B===U?this._parentage=null:Array.isArray(B)&&(0,de.P)(B,U)}remove(U){const{_finalizers:B}=this;B&&(0,de.P)(B,U),U instanceof fe&&U._removeParent(this)}}fe.EMPTY=(()=>{const Oe=new fe;return Oe.closed=!0,Oe})();const ce=fe.EMPTY;function Re(Oe){return Oe instanceof fe||Oe&&"closed"in Oe&&(0,p.m)(Oe.remove)&&(0,p.m)(Oe.add)&&(0,p.m)(Oe.unsubscribe)}function Ie(Oe){(0,p.m)(Oe)?Oe():Oe.unsubscribe()}},2416:(yt,De,k)=>{k.d(De,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,De,k)=>{k.d(De,{E:()=>F});const F=new(k(9751).y)(fe=>fe.complete())},8996:(yt,De,k)=>{k.d(De,{D:()=>pe});var p=k(8421),F=k(5363),te=k(9468),ce=k(9751),Ie=k(2202),Oe=k(576),U=k(9672);function H(ye,Le){if(!ye)throw new Error("Iterable cannot be null");return new ce.y(Ne=>{(0,U.f)(Ne,Le,()=>{const Ge=ye[Symbol.asyncIterator]();(0,U.f)(Ne,Le,()=>{Ge.next().then(it=>{it.done?Ne.complete():Ne.next(it.value)})},0,!0)})})}var ke=k(3670),Ce=k(8239),qe=k(1144),et=k(6495),J=k(2206),Me=k(4532),_e=k(3260);function pe(ye,Le){return Le?function xe(ye,Le){if(null!=ye){if((0,ke.c)(ye))return function de(ye,Le){return(0,p.Xf)(ye).pipe((0,te.R)(Le),(0,F.Q)(Le))}(ye,Le);if((0,qe.z)(ye))return function Re(ye,Le){return new ce.y(Ne=>{let Ge=0;return Le.schedule(function(){Ge===ye.length?Ne.complete():(Ne.next(ye[Ge++]),Ne.closed||this.schedule())})})}(ye,Le);if((0,Ce.t)(ye))return function fe(ye,Le){return(0,p.Xf)(ye).pipe((0,te.R)(Le),(0,F.Q)(Le))}(ye,Le);if((0,J.D)(ye))return H(ye,Le);if((0,et.T)(ye))return function B(ye,Le){return new ce.y(Ne=>{let Ge;return(0,U.f)(Ne,Le,()=>{Ge=ye[Ie.h](),(0,U.f)(Ne,Le,()=>{let it,Pt;try{({value:it,done:Pt}=Ge.next())}catch(Qe){return void Ne.error(Qe)}Pt?Ne.complete():Ne.next(it)},0,!0)}),()=>(0,Oe.m)(Ge?.return)&&Ge.return()})}(ye,Le);if((0,_e.L)(ye))return function Fe(ye,Le){return H((0,_e.Q)(ye),Le)}(ye,Le)}throw(0,Me.z)(ye)}(ye,Le):(0,p.Xf)(ye)}},8421:(yt,De,k)=>{k.d(De,{Xf:()=>ke});var p=k(7582),F=k(1144),te=k(8239),de=k(9751),fe=k(3670),ce=k(2206),Re=k(4532),Ie=k(6495),Oe=k(3260),U=k(576),B=k(7849),H=k(8822);function ke(xe){if(xe instanceof de.y)return xe;if(null!=xe){if((0,fe.c)(xe))return function Ce(xe){return new de.y(pe=>{const ye=xe[H.L]();if((0,U.m)(ye.subscribe))return ye.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,F.z)(xe))return function qe(xe){return new de.y(pe=>{for(let ye=0;ye<xe.length&&!pe.closed;ye++)pe.next(xe[ye]);pe.complete()})}(xe);if((0,te.t)(xe))return function et(xe){return new de.y(pe=>{xe.then(ye=>{pe.closed||(pe.next(ye),pe.complete())},ye=>pe.error(ye)).then(null,B.h)})}(xe);if((0,ce.D)(xe))return Me(xe);if((0,Ie.T)(xe))return function J(xe){return new de.y(pe=>{for(const ye of xe)if(pe.next(ye),pe.closed)return;pe.complete()})}(xe);if((0,Oe.L)(xe))return function _e(xe){return Me((0,Oe.Q)(xe))}(xe)}throw(0,Re.z)(xe)}function Me(xe){return new de.y(pe=>{(function Fe(xe,pe){var ye,Le,Ne,Ge;return(0,p.mG)(this,void 0,void 0,function*(){try{for(ye=(0,p.KL)(xe);!(Le=yield ye.next()).done;)if(pe.next(Le.value),pe.closed)return}catch(it){Ne={error:it}}finally{try{Le&&!Le.done&&(Ge=ye.return)&&(yield Ge.call(ye))}finally{if(Ne)throw Ne.error}}pe.complete()})})(xe,pe).catch(ye=>pe.error(ye))})}},6451:(yt,De,k)=>{k.d(De,{T:()=>ce});var p=k(8189),F=k(8421),te=k(515),de=k(7669),fe=k(8996);function ce(...Re){const Ie=(0,de.yG)(Re),Oe=(0,de._6)(Re,1/0),U=Re;return U.length?1===U.length?(0,F.Xf)(U[0]):(0,p.J)(Oe)((0,fe.D)(U,Ie)):te.E}},5403:(yt,De,k)=>{k.d(De,{x:()=>F});var p=k(2961);function F(de,fe,ce,Re,Ie){return new te(de,fe,ce,Re,Ie)}class te extends p.Lv{constructor(fe,ce,Re,Ie,Oe,U){super(fe),this.onFinalize=Oe,this.shouldUnsubscribe=U,this._next=ce?function(B){try{ce(B)}catch(H){fe.error(H)}}:super._next,this._error=Ie?function(B){try{Ie(B)}catch(H){fe.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(B){fe.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(yt,De,k)=>{k.d(De,{U:()=>te});var p=k(4482),F=k(5403);function te(de,fe){return(0,p.e)((ce,Re)=>{let Ie=0;ce.subscribe((0,F.x)(Re,Oe=>{Re.next(de.call(fe,Oe,Ie++))}))})}},8189:(yt,De,k)=>{k.d(De,{J:()=>te});var p=k(5577),F=k(4671);function te(de=1/0){return(0,p.z)(F.y,de)}},5577:(yt,De,k)=>{k.d(De,{z:()=>Ie});var p=k(4004),F=k(8421),te=k(4482),de=k(9672),fe=k(5403),Re=k(576);function Ie(Oe,U,B=1/0){return(0,Re.m)(U)?Ie((H,ke)=>(0,p.U)((Ce,qe)=>U(H,Ce,ke,qe))((0,F.Xf)(Oe(H,ke))),B):("number"==typeof U&&(B=U),(0,te.e)((H,ke)=>function ce(Oe,U,B,H,ke,Ce,qe,et){const J=[];let Me=0,_e=0,Fe=!1;const xe=()=>{Fe&&!J.length&&!Me&&U.complete()},pe=Le=>Me<H?ye(Le):J.push(Le),ye=Le=>{Ce&&U.next(Le),Me++;let Ne=!1;(0,F.Xf)(B(Le,_e++)).subscribe((0,fe.x)(U,Ge=>{ke?.(Ge),Ce?pe(Ge):U.next(Ge)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Me--;J.length&&Me<H;){const Ge=J.shift();qe?(0,de.f)(U,qe,()=>ye(Ge)):ye(Ge)}xe()}catch(Ge){U.error(Ge)}}))};return Oe.subscribe((0,fe.x)(U,pe,()=>{Fe=!0,xe()})),()=>{et?.()}}(H,ke,Oe,B)))}},5363:(yt,De,k)=>{k.d(De,{Q:()=>de});var p=k(9672),F=k(4482),te=k(5403);function de(fe,ce=0){return(0,F.e)((Re,Ie)=>{Re.subscribe((0,te.x)(Ie,Oe=>(0,p.f)(Ie,fe,()=>Ie.next(Oe),ce),()=>(0,p.f)(Ie,fe,()=>Ie.complete(),ce),Oe=>(0,p.f)(Ie,fe,()=>Ie.error(Oe),ce)))})}},3099:(yt,De,k)=>{k.d(De,{B:()=>fe});var p=k(8421),F=k(7579),te=k(2961),de=k(4482);function fe(Re={}){const{connector:Ie=(()=>new F.x),resetOnError:Oe=!0,resetOnComplete:U=!0,resetOnRefCountZero:B=!0}=Re;return H=>{let ke,Ce,qe,et=0,J=!1,Me=!1;const _e=()=>{Ce?.unsubscribe(),Ce=void 0},Fe=()=>{_e(),ke=qe=void 0,J=Me=!1},xe=()=>{const pe=ke;Fe(),pe?.unsubscribe()};return(0,de.e)((pe,ye)=>{et++,!Me&&!J&&_e();const Le=qe=qe??Ie();ye.add(()=>{et--,0===et&&!Me&&!J&&(Ce=ce(xe,B))}),Le.subscribe(ye),!ke&&et>0&&(ke=new te.Hp({next:Ne=>Le.next(Ne),error:Ne=>{Me=!0,_e(),Ce=ce(Fe,Oe,Ne),Le.error(Ne)},complete:()=>{J=!0,_e(),Ce=ce(Fe,U),Le.complete()}}),(0,p.Xf)(pe).subscribe(ke))})(H)}}function ce(Re,Ie,...Oe){if(!0===Ie)return void Re();if(!1===Ie)return;const U=new te.Hp({next:()=>{U.unsubscribe(),Re()}});return(0,p.Xf)(Ie(...Oe)).subscribe(U)}},9468:(yt,De,k)=>{k.d(De,{R:()=>F});var p=k(4482);function F(te,de=0){return(0,p.e)((fe,ce)=>{ce.add(te.schedule(()=>fe.subscribe(ce),de))})}},3410:(yt,De,k)=>{k.d(De,{z:()=>p});const p={setTimeout(F,te,...de){const{delegate:fe}=p;return fe?.setTimeout?fe.setTimeout(F,te,...de):setTimeout(F,te,...de)},clearTimeout(F){const{delegate:te}=p;return(te?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(yt,De,k)=>{k.d(De,{h:()=>F});const F=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,De,k)=>{k.d(De,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(yt,De,k)=>{k.d(De,{_6:()=>ce,jO:()=>de,yG:()=>fe});var p=k(576);function te(Re){return Re[Re.length-1]}function de(Re){return(0,p.m)(te(Re))?Re.pop():void 0}function fe(Re){return function F(Re){return Re&&(0,p.m)(Re.schedule)}(te(Re))?Re.pop():void 0}function ce(Re,Ie){return"number"==typeof te(Re)?Re.pop():Ie}},8737:(yt,De,k)=>{function p(F,te){if(F){const de=F.indexOf(te);0<=de&&F.splice(de,1)}}k.d(De,{P:()=>p})},3888:(yt,De,k)=>{function p(F){const de=F(fe=>{Error.call(fe),fe.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}k.d(De,{d:()=>p})},2806:(yt,De,k)=>{k.d(De,{O:()=>de,x:()=>te});var p=k(2416);let F=null;function te(fe){if(p.v.useDeprecatedSynchronousErrorHandling){const ce=!F;if(ce&&(F={errorThrown:!1,error:null}),fe(),ce){const{errorThrown:Re,error:Ie}=F;if(F=null,Re)throw Ie}}else fe()}function de(fe){p.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=fe)}},9672:(yt,De,k)=>{function p(F,te,de,fe=0,ce=!1){const Re=te.schedule(function(){de(),ce?F.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(F.add(Re),!ce)return Re}k.d(De,{f:()=>p})},4671:(yt,De,k)=>{function p(F){return F}k.d(De,{y:()=>p})},1144:(yt,De,k)=>{k.d(De,{z:()=>p});const p=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(yt,De,k)=>{k.d(De,{D:()=>F});var p=k(576);function F(te){return Symbol.asyncIterator&&(0,p.m)(te?.[Symbol.asyncIterator])}},576:(yt,De,k)=>{function p(F){return"function"==typeof F}k.d(De,{m:()=>p})},3670:(yt,De,k)=>{k.d(De,{c:()=>te});var p=k(8822),F=k(576);function te(de){return(0,F.m)(de[p.L])}},6495:(yt,De,k)=>{k.d(De,{T:()=>te});var p=k(2202),F=k(576);function te(de){return(0,F.m)(de?.[p.h])}},8239:(yt,De,k)=>{k.d(De,{t:()=>F});var p=k(576);function F(te){return(0,p.m)(te?.then)}},3260:(yt,De,k)=>{k.d(De,{L:()=>de,Q:()=>te});var p=k(7582),F=k(576);function te(fe){return(0,p.FC)(this,arguments,function*(){const Re=fe.getReader();try{for(;;){const{value:Ie,done:Oe}=yield(0,p.qq)(Re.read());if(Oe)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Ie)}}finally{Re.releaseLock()}})}function de(fe){return(0,F.m)(fe?.getReader)}},4482:(yt,De,k)=>{k.d(De,{A:()=>F,e:()=>te});var p=k(576);function F(de){return(0,p.m)(de?.lift)}function te(de){return fe=>{if(F(fe))return fe.lift(function(ce){try{return de(ce,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(yt,De,k)=>{k.d(De,{U:()=>te,z:()=>F});var p=k(4671);function F(...de){return te(de)}function te(de){return 0===de.length?p.y:1===de.length?de[0]:function(ce){return de.reduce((Re,Ie)=>Ie(Re),ce)}}},7849:(yt,De,k)=>{k.d(De,{h:()=>te});var p=k(2416),F=k(3410);function te(de){F.z.setTimeout(()=>{const{onUnhandledError:fe}=p.v;if(!fe)throw de;fe(de)})}},4532:(yt,De,k)=>{function p(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(De,{z:()=>p})},4650:(yt,De,k)=>{k.d(De,{$8M:()=>Eo,$WT:()=>we,$Z:()=>K0,AFp:()=>p_,AaK:()=>Ie,CHM:()=>ag,CRH:()=>XE,CZH:()=>rp,CqO:()=>Ow,D6c:()=>T_,EJc:()=>vS,EpF:()=>xw,F4k:()=>Rw,FYo:()=>um,FiY:()=>Ca,GfV:()=>A0,Gpc:()=>B,JOm:()=>pt,KtG:()=>ug,LFG:()=>Jt,Lbi:()=>aR,Lck:()=>$E,MAs:()=>Aw,MMx:()=>jf,NdJ:()=>qm,OlP:()=>Wt,Oqu:()=>Of,P3R:()=>v0,PXZ:()=>IR,Q6J:()=>jm,QGY:()=>Or,Qsj:()=>$C,R0b:()=>Pi,RDi:()=>vC,Rgc:()=>Wf,SBq:()=>Ku,Sil:()=>dR,Suo:()=>i_,TTD:()=>Kc,TgZ:()=>od,W1O:()=>Xf,X6Q:()=>SR,XFs:()=>ct,Xpm:()=>si,Xts:()=>Jg,Y36:()=>Xu,YKP:()=>By,YNc:()=>$m,Yjl:()=>ot,Yz7:()=>tt,Z0I:()=>_n,ZZ4:()=>Rd,_Bn:()=>BE,_UZ:()=>bf,_Vd:()=>qu,_c5:()=>RI,_uU:()=>uy,aQg:()=>Yo,c2e:()=>_S,cJS:()=>_t,cg1:()=>vy,dDg:()=>_R,dqk:()=>hn,eFA:()=>RS,eJc:()=>s_,ekj:()=>cd,eoX:()=>SS,f3M:()=>vi,g9A:()=>Td,h0i:()=>gd,hGG:()=>b_,hij:()=>dd,iGM:()=>JE,ifc:()=>se,ip1:()=>mS,jDz:()=>Hf,kL8:()=>lE,lG2:()=>Ze,lqb:()=>ka,lri:()=>bS,n5z:()=>xh,oAB:()=>Z,oxw:()=>Nw,q4F:()=>M0,qLn:()=>Hl,qOj:()=>Fm,qZA:()=>ad,rWj:()=>TS,sBO:()=>AR,s_b:()=>Ed,soG:()=>ip,tb:()=>MS,tp0:()=>It,uIk:()=>Um,vHH:()=>J,vpe:()=>ks,wAp:()=>vt,xp6:()=>B0,z2F:()=>y_,zSh:()=>Vo,zs3:()=>Yu});var p=k(7579),F=k(727),te=k(9751),de=k(6451),fe=k(3099);function ce(s){for(let o in s)if(s[o]===ce)return o;throw Error("Could not find renamed property on target object.")}function Re(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function Ie(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ie).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Oe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const U=ce({__forward_ref__:ce});function B(s){return s.__forward_ref__=B,s.toString=function(){return Ie(this())},s}function H(s){return ke(s)?s():s}function ke(s){return"function"==typeof s&&s.hasOwnProperty(U)&&s.__forward_ref__===B}function Ce(s){return s&&!!s.\u0275providers}const et="https://g.co/ng/security#xss";class J extends Error{constructor(o,a){super(Me(o,a)),this.code=o}}function Me(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function Le(s,o){throw new J(-201,!1)}function ne(s,o){null==s&&function Q(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function tt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function _t(s){return{providers:s.providers||[],imports:s.imports||[]}}function zt(s){return rn(s,Nn)||rn(s,Kr)}function _n(s){return null!==zt(s)}function rn(s,o){return s.hasOwnProperty(o)?s[o]:null}function er(s){return s&&(s.hasOwnProperty(pr)||s.hasOwnProperty(tr))?s[pr]:null}const Nn=ce({\u0275prov:ce}),pr=ce({\u0275inj:ce}),Kr=ce({ngInjectableDef:ce}),tr=ce({ngInjectorDef:ce});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let Vi;function $n(s){const o=Vi;return Vi=s,o}function Ls(s,o,a){const l=zt(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ct.Optional?null:void 0!==o?o:void Le(Ie(s))}const hn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Dr={},Cr="__NG_DI_FLAG__",nr="ngTempTokenPath",br="ngTokenPath",rr=/\n/gm,oa="\u0275",an="__source";let Bi;function At(s){const o=Bi;return Bi=s,o}function aa(s,o=ct.Default){if(void 0===Bi)throw new J(-203,!1);return null===Bi?Ls(s,void 0,o):Bi.get(s,o&ct.Optional?null:void 0,o)}function Jt(s,o=ct.Default){return(function sa(){return Vi}()||aa)(H(s),o)}function vi(s,o=ct.Default){return Jt(s,$i(o))}function $i(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function ji(s){const o=[];for(let a=0;a<s.length;a++){const l=H(s[a]);if(Array.isArray(l)){if(0===l.length)throw new J(900,!1);let d,h=ct.Default;for(let _=0;_<l.length;_++){const w=l[_],I=Hi(w);"number"==typeof I?-1===I?d=w.token:h|=I:d=w}o.push(Jt(d,h))}else o.push(Jt(l))}return o}function Tr(s,o){return s[Cr]=o,s.prototype[Cr]=o,s}function Hi(s){return s[Cr]}function P(s){return{toString:s}.toString()}var $=(()=>(($=$||{})[$.OnPush=0]="OnPush",$[$.Default=1]="Default",$))(),se=(()=>{return(s=se||(se={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",se;var s})();const W={},Te=[],Dt=ce({\u0275cmp:ce}),Xt=ce({\u0275dir:ce}),jn=ce({\u0275pipe:ce}),Tn=ce({\u0275mod:ce}),dn=ce({\u0275fac:ce}),Ut=ce({__NG_ELEMENT_ID__:ce});let Sr=0;function si(s){return P(()=>{const o=Ar(s),a={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===$.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||se.Emulated,id:"c"+Sr++,styles:s.styles||Te,_:null,schemas:s.schemas||null,tView:null};zi(a);const l=s.dependencies;return a.directiveDefs=fo(l,!1),a.pipeDefs=fo(l,!0),a})}function nu(s){return nt(s)||Ht(s)}function ae(s){return null!==s}function Z(s){return P(()=>({type:s.type,bootstrap:s.bootstrap||Te,declarations:s.declarations||Te,imports:s.imports||Te,exports:s.exports||Te,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Ke(s,o){if(null==s)return W;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),a[d]=l,o&&(o[d]=h)}return a}function Ze(s){return P(()=>{const o=Ar(s);return zi(o),o})}function ot(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function nt(s){return s[Dt]||null}function Ht(s){return s[Xt]||null}function Gt(s){return s[jn]||null}function we(s){const o=nt(s)||Ht(s)||Gt(s);return null!==o&&o.standalone}function sn(s,o){const a=s[Tn]||null;if(!a&&!0===o)throw new Error(`Type ${Ie(s)} does not have '\u0275mod' property.`);return a}function Ar(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Te,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ke(s.inputs,o),outputs:Ke(s.outputs)}}function zi(s){s.features?.forEach(o=>o(s))}function fo(s,o){if(!s)return null;const a=o?Gt:nu;return()=>("function"==typeof s?s():s).map(l=>a(l)).filter(ae)}const Zr=0,We=1,Ot=2,on=3,Mr=4,Gi=5,ir=6,po=7,St=8,un=9,go=10,wt=11,ua=12,Us=13,fs=14,mo=15,sr=16,ru=17,oi=18,ps=19,iu=20,Hc=21,nn=22,ai=1,rh=2,su=7,ca=8,Ei=9,gr=10;function Fr(s){return Array.isArray(s)&&"object"==typeof s[ai]}function ui(s){return Array.isArray(s)&&!0===s[ai]}function Bs(s){return 0!=(4&s.flags)}function Yr(s){return s.componentOffset>-1}function Ii(s){return 1==(1&s.flags)}function Qr(s){return!!s.template}function Di(s){return 0!=(256&s[Ot])}function $s(s,o){return s.hasOwnProperty(dn)?s[dn]:null}class Xp{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Kc(){return Zc}function Zc(s){return s.type.prototype.ngOnChanges&&(s.setInput=au),eg}function eg(){const s=tg(this),o=s?.current;if(o){const a=s.previous;if(a===W)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function au(s,o,a,l){const d=this.declaredInputs[a],h=tg(s)||function ng(s,o){return s[Yc]=o}(s,{previous:W,current:null}),_=h.current||(h.current={}),w=h.previous,I=w[d];_[d]=new Xp(I&&I.currentValue,o,w===W),s[l]=o}Kc.ngInherit=!0;const Yc="__ngSimpleChanges__";function tg(s){return s[Yc]||null}const kn=function(s,o,a){};function Bt(s){for(;Array.isArray(s);)s=s[Zr];return s}function cu(s,o){return Bt(o[s])}function or(s,o){return Bt(o[s.index])}function Qc(s,o){return s.data[o]}function mr(s,o){const a=o[s];return Fr(a)?a:a[Zr]}function Wi(s){return 64==(64&s[Ot])}function gs(s,o){return null==o?null:s[o]}function hh(s){s[oi]=0}function pa(s,o){s[Gi]+=o;let a=s,l=s[on];for(;null!==l&&(1===o&&1===a[Gi]||-1===o&&0===a[Gi]);)l[Gi]+=o,a=l,l=l[on]}const Et={lFrame:vh(null),bindingsEnabled:!0};function ph(){return Et.bindingsEnabled}function ie(){return Et.lFrame.lView}function xt(){return Et.lFrame.tView}function ag(s){return Et.lFrame.contextLView=s,s[St]}function ug(s){return Et.lFrame.contextLView=null,s}function ar(){let s=cg();for(;null!==s&&64===s.type;)s=s.parent;return s}function cg(){return Et.lFrame.currentTNode}function ur(s,o){const a=Et.lFrame;a.currentTNode=s,a.isParent=o}function gh(){return Et.lFrame.isParent}function ga(){return Et.lFrame.bindingIndex++}function ma(s,o){const a=Et.lFrame;a.bindingIndex=a.bindingRootIndex=s,yo(o)}function yo(s){Et.lFrame.currentDirectiveIndex=s}function gu(){return Et.lFrame.currentQueryIndex}function Lr(s){Et.lFrame.currentQueryIndex=s}function lg(s){const o=s[We];return 2===o.type?o.declTNode:1===o.type?s[ir]:null}function dg(s,o,a){if(a&ct.SkipSelf){let d=o,h=s;for(;!(d=d.parent,null!==d||a&ct.Host||(d=lg(h),null===d||(h=h[mo],10&d.type))););if(null===d)return!1;o=d,s=h}const l=Et.lFrame=_h();return l.currentTNode=o,l.lView=s,!0}function ya(s){const o=_h(),a=s[We];Et.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function _h(){const s=Et.lFrame,o=null===s?null:s.child;return null===o?vh(s):o}function vh(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function hg(){const s=Et.lFrame;return Et.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const el=hg;function _a(){const s=hg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Fn(){return Et.lFrame.selectedIndex}function ys(s){Et.lFrame.selectedIndex=s}function pn(){const s=Et.lFrame;return Qc(s.tView,s.selectedIndex)}function tl(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const h=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:b,ngOnDestroy:M}=h;_&&(s.contentHooks??(s.contentHooks=[])).push(-a,_),w&&((s.contentHooks??(s.contentHooks=[])).push(a,w),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(a,w)),I&&(s.viewHooks??(s.viewHooks=[])).push(-a,I),b&&((s.viewHooks??(s.viewHooks=[])).push(a,b),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(a,b)),null!=M&&(s.destroyHooks??(s.destroyHooks=[])).push(a,M)}}function nl(s,o,a){_u(s,o,3,a)}function rl(s,o,a,l){(3&s[Ot])===a&&_u(s,o,a,l)}function yu(s,o){let a=s[Ot];(3&a)===o&&(a&=2047,a+=1,s[Ot]=a)}function _u(s,o,a,l){const h=l??-1,_=o.length-1;let w=0;for(let I=void 0!==l?65535&s[oi]:0;I<_;I++)if("number"==typeof o[I+1]){if(w=o[I],null!=l&&w>=l)break}else o[I]<0&&(s[oi]+=65536),(w<h||-1==h)&&(wa(s,a,o,I),s[oi]=(4294901760&s[oi])+I+2),I++}function wa(s,o,a,l){const d=a[l]<0,h=a[l+1],w=s[d?-a[l]:a[l]];if(d){if(s[Ot]>>11<s[oi]>>16&&(3&s[Ot])===o){s[Ot]+=2048,kn(4,w,h);try{h.call(w)}finally{kn(5,w,h)}}}else{kn(4,w,h);try{h.call(w)}finally{kn(5,w,h)}}}const _o=-1;class _s{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function vu(s,o,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const h=a[l++],_=a[l++],w=a[l++];s.setAttribute(o,_,w,h)}else{const h=d,_=a[++l];js(h)?s.setProperty(o,h,_):s.setAttribute(o,h,_),l++}}return l}function al(s){return 3===s||4===s||6===s}function js(s){return 64===s.charCodeAt(0)}function Hs(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Ki(s,a,d,null,-1===a||2===a?o[++l]:null)}}return s}function Ki(s,o,a,l,d){let h=0,_=s.length;if(-1===o)_=-1;else for(;h<s.length;){const w=s[h++];if("number"==typeof w){if(w===o){_=-1;break}if(w>o){_=h-1;break}}}for(;h<s.length;){const w=s[h];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==d&&(s[h+1]=d));if(l===s[h+1])return void(s[h+2]=d)}h++,null!==l&&h++,null!==d&&h++}-1!==_&&(s.splice(_,0,o),h=_+1),s.splice(h++,0,a),null!==l&&s.splice(h++,0,l),null!==d&&s.splice(h++,0,d)}function wu(s){return s!==_o}function Ea(s){return 32767&s}function Eu(s,o){let a=function _g(s){return s>>16}(s),l=o;for(;a>0;)l=l[mo],a--;return l}let ul=!0;function Ia(s){const o=ul;return ul=s,o}const vg=255,cl=5;let Dh=0;const ci={};function ll(s,o){const a=bh(s,o);if(-1!==a)return a;const l=o[We];l.firstCreatePass&&(s.injectorIndex=o.length,dl(l.data,s),dl(o,null),dl(l.blueprint,null));const d=Zi(s,o),h=s.injectorIndex;if(wu(d)){const _=Ea(d),w=Eu(d,o),I=w[We].data;for(let b=0;b<8;b++)o[h+b]=w[_+b]|I[_+b]}return o[h+8]=d,h}function dl(s,o){s.push(0,0,0,0,0,0,0,0,o)}function bh(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Zi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){if(l=Oh(d),null===l)return _o;if(a++,d=d[mo],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return _o}function zs(s,o,a){!function Ch(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Ut)&&(l=a[Ut]),null==l&&(l=a[Ut]=Dh++);const d=l&vg;o.data[s+(d>>cl)]|=1<<d}(s,o,a)}function Sh(s,o,a){if(a&ct.Optional||void 0!==s)return s;Le()}function hl(s,o,a,l){if(a&ct.Optional&&void 0===l&&(l=null),!(a&(ct.Self|ct.Host))){const d=s[un],h=$n(void 0);try{return d?d.get(o,l,a&ct.Optional):Ls(o,l,a&ct.Optional)}finally{$n(h)}}return Sh(l,0,a)}function wg(s,o,a,l=ct.Default,d){if(null!==s){if(1024&o[Ot]){const _=function Rh(s,o,a,l,d){let h=s,_=o;for(;null!==h&&null!==_&&1024&_[Ot]&&!(256&_[Ot]);){const w=Ah(h,_,a,l|ct.Self,ci);if(w!==ci)return w;let I=h.parent;if(!I){const b=_[Hc];if(b){const M=b.get(a,ci,l);if(M!==ci)return M}I=Oh(_),_=_[mo]}h=I}return d}(s,o,a,l,ci);if(_!==ci)return _}const h=Ah(s,o,a,l,ci);if(h!==ci)return h}return hl(o,a,l,d)}function Ah(s,o,a,l,d){const h=function Zv(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ut)?s[Ut]:void 0;return"number"==typeof o?o>=0?o&vg:Ig:o}(a);if("function"==typeof h){if(!dg(o,s,l))return l&ct.Host?Sh(d,0,l):hl(o,a,l,d);try{const _=h(l);if(null!=_||l&ct.Optional)return _;Le()}finally{el()}}else if("number"==typeof h){let _=null,w=bh(s,o),I=_o,b=l&ct.Host?o[sr][ir]:null;for((-1===w||l&ct.SkipSelf)&&(I=-1===w?Zi(s,o):o[w+8],I!==_o&&Mh(l,!1)?(_=o[We],w=Ea(I),o=Eu(I,o)):w=-1);-1!==w;){const M=o[We];if(vo(h,w,M.data)){const x=Eg(w,o,a,_,l,b);if(x!==ci)return x}I=o[w+8],I!==_o&&Mh(l,o[We].data[w+8]===b)&&vo(h,w,o)?(_=M,w=Ea(I),o=Eu(I,o)):w=-1}}return d}function Eg(s,o,a,l,d,h){const _=o[We],w=_.data[s+8],M=vs(w,_,a,null==l?Yr(w)&&ul:l!=_&&0!=(3&w.type),d&ct.Host&&h===w);return null!==M?ws(o,_,M,w):ci}function vs(s,o,a,l,d){const h=s.providerIndexes,_=o.data,w=1048575&h,I=s.directiveStart,M=h>>20,j=d?w+M:s.directiveEnd;for(let z=l?w:w+M;z<j;z++){const ue=_[z];if(z<I&&a===ue||z>=I&&ue.type===a)return z}if(d){const z=_[I];if(z&&Qr(z)&&z.type===a)return I}return null}function ws(s,o,a,l){let d=s[a];const h=o.data;if(function pg(s){return s instanceof _s}(d)){const _=d;_.resolving&&function xe(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new J(-200,`Circular dependency in DI detected for ${s}${a}`)}(function Fe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}(h[a]));const w=Ia(_.canSeeViewProviders);_.resolving=!0;const I=_.injectImpl?$n(_.injectImpl):null;dg(s,l,ct.Default);try{d=s[a]=_.factory(void 0,h,s,l),o.firstCreatePass&&a>=l.directiveStart&&function va(s,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:h}=o.type.prototype;if(l){const _=Zc(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,_)}d&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-s,d),h&&((a.preOrderHooks??(a.preOrderHooks=[])).push(s,h),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,h))}(a,h[a],o)}finally{null!==I&&$n(I),Ia(w),_.resolving=!1,el()}}return d}function vo(s,o,a){return!!(a[o+(s>>cl)]&1<<s)}function Mh(s,o){return!(s&ct.Self||s&ct.Host&&o)}class wo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return wg(this._tNode,this._lView,o,$i(l),a)}}function Ig(){return new wo(ar(),ie())}function xh(s){return P(()=>{const o=s.prototype.constructor,a=o[dn]||fl(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const h=d[dn]||fl(d);if(h&&h!==a)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function fl(s){return ke(s)?()=>{const o=fl(H(s));return o&&o()}:$s(s)}function Oh(s){const o=s[We],a=o.type;return 2===a?o.declTNode:1===a?s[ir]:null}function Eo(s){return function Th(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const h=a[d];if(al(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(h===o)return a[d+1];d+=2}}}return null}(ar(),s)}const Io="__parameters__";function Do(s,o,a){return P(()=>{const l=function vn(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...h){if(this instanceof d)return l.apply(this,h),this;const _=new d(...h);return w.annotation=_,w;function w(I,b,M){const x=I.hasOwnProperty(Io)?I[Io]:Object.defineProperty(I,Io,{value:[]})[Io];for(;x.length<=M;)x.push(null);return(x[M]=x[M]||[]).push(_),I}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Wt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=tt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ws(s,o){s.forEach(a=>Array.isArray(a)?Ws(a,o):o(a))}function Tg(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function yl(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Jr(s,o,a){let l=Vr(s,o);return l>=0?s[1|l]=a:(l=~l,function _l(s,o,a,l){let d=s.length;if(d==o)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function gn(s,o){const a=Vr(s,o);if(a>=0)return s[1|a]}function Vr(s,o){return function Qi(s,o,a){let l=0,d=s.length>>a;for(;d!==l;){const h=l+(d-l>>1),_=s[h<<a];if(o===_)return h<<a;_>o?d=h:l=h+1}return~(d<<a)}(s,o,1)}const Ca=Tr(Do("Optional"),8),It=Tr(Do("SkipSelf"),4);var pt=(()=>((pt=pt||{})[pt.Important=1]="Important",pt[pt.DashCase=2]="DashCase",pt))();const El=new Map;let Ti=0;const Ou="__ngContext__";function Wn(s,o){Fr(o)?(s[Ou]=o[iu],function Gh(s){El.set(s[iu],s)}(o)):s[Ou]=o}let bl;function ts(s,o){return bl(s,o)}function Nu(s){const o=s[on];return ui(o)?o[on]:o}function Zs(s){return Sl(s[Us])}function Ys(s){return Sl(s[Mr])}function Sl(s){for(;null!==s&&!ui(s);)s=s[Mr];return s}function Cs(s,o,a,l,d){if(null!=l){let h,_=!1;ui(l)?h=l:Fr(l)&&(_=!0,l=l[Zr]);const w=Bt(l);0===s&&null!==a?null==d?at(o,a,w):Ye(o,a,w,d||null,!0):1===s&&null!==a?Ye(o,a,w,d||null,!0):2===s?function Ug(s,o,a){const l=On(s,o);l&&function Rn(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}(o,w,_):3===s&&o.destroyNode(w),null!=h&&function Ol(s,o,a,l,d){const h=a[su];h!==Bt(a)&&Cs(o,s,l,h,d);for(let w=gr;w<a.length;w++){const I=a[w];Rl(I[We],I,s,o,l,h)}}(o,s,h,a,d)}}function Ml(s,o,a){return s.createElement(o,a)}function v(s,o){const a=s[Ei],l=a.indexOf(o),d=o[on];512&o[Ot]&&(o[Ot]&=-513,pa(d,-1)),a.splice(l,1)}function T(s,o){if(s.length<=gr)return;const a=gr+o,l=s[a];if(l){const d=l[ru];null!==d&&d!==s&&v(d,l),o>0&&(s[a-1][Mr]=l[Mr]);const h=yl(s,gr+o);!function Yh(s,o){Rl(s,o,o[wt],2,null,null),o[Zr]=null,o[ir]=null}(l[We],l);const _=h[ps];null!==_&&_.detachView(h[We]),l[on]=null,l[Mr]=null,l[Ot]&=-65}return l}function A(s,o){if(!(128&o[Ot])){const a=o[wt];a.destroyNode&&Rl(s,o,a,3,null,null),function D(s){let o=s[Us];if(!o)return R(s[We],s);for(;o;){let a=null;if(Fr(o))a=o[Us];else{const l=o[gr];l&&(a=l)}if(!a){for(;o&&!o[Mr]&&o!==s;)Fr(o)&&R(o[We],o),o=o[on];null===o&&(o=s),Fr(o)&&R(o[We],o),a=o&&o[Mr]}o=a}}(o)}}function R(s,o){if(!(128&o[Ot])){o[Ot]&=-65,o[Ot]|=128,function q(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof _s)){const h=a[l+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const w=d[h[_]],I=h[_+1];kn(4,w,I);try{I.call(w)}finally{kn(5,w,I)}}else{kn(4,d,h);try{h.call(d)}finally{kn(5,d,h)}}}}}(s,o),function V(s,o){const a=s.cleanup,l=o[po];let d=-1;if(null!==a)for(let h=0;h<a.length-1;h+=2)if("string"==typeof a[h]){const _=a[h+3];_>=0?l[d=_]():l[d=-_].unsubscribe(),h+=2}else{const _=l[d=a[h+1]];a[h].call(_)}if(null!==l){for(let h=d+1;h<l.length;h++)(0,l[h])();o[po]=null}}(s,o),1===o[We].type&&o[wt].destroy();const a=o[ru];if(null!==a&&ui(o[on])){a!==o[on]&&v(a,o);const l=o[ps];null!==l&&l.detachView(s)}!function n0(s){El.delete(s[iu])}(o)}}function he(s,o,a){return function rt(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[Zr];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:h}=s.data[l.directiveStart+d];if(h===se.None||h===se.Emulated)return null}return or(l,a)}}(s,o.parent,a)}function Ye(s,o,a,l,d){s.insertBefore(o,a,l,d)}function at(s,o,a){s.appendChild(o,a)}function qt(s,o,a,l,d){null!==l?Ye(s,o,a,l,d):at(s,o,a)}function On(s,o){return s.parentNode(o)}let Lu,jg,Qh,bs=function Oa(s,o,a){return 40&s.type?or(s,a):null};function ko(s,o,a,l){const d=he(s,l,o),h=o[wt],w=function Fu(s,o,a){return bs(s,o,a)}(l.parent||o[ir],l,o);if(null!=d)if(Array.isArray(a))for(let I=0;I<a.length;I++)qt(h,d,a[I],w,!1);else qt(h,d,a,w,!1);void 0!==Lu&&Lu(h,l,o,a,d)}function Uu(s,o){if(null!==o){const a=o.type;if(3&a)return or(o,s);if(4&a)return Ts(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return Uu(s,l);{const d=s[o.index];return ui(d)?Ts(-1,d):Bt(d)}}if(32&a)return ts(o,s)()||Bt(s[o.index]);{const l=Fo(s,o);return null!==l?Array.isArray(l)?l[0]:Uu(Nu(s[sr]),l):Uu(s,o.next)}}return null}function Fo(s,o){return null!==o?s[sr][ir].projection[o.projection]:null}function Ts(s,o){const a=gr+s+1;if(a<o.length){const l=o[a],d=l[We].firstChild;if(null!==d)return Uu(l,d)}return o[su]}function xl(s,o,a,l,d,h,_){for(;null!=a;){const w=l[a.index],I=a.type;if(_&&0===o&&(w&&Wn(Bt(w),l),a.flags|=2),32!=(32&a.flags))if(8&I)xl(s,o,a.child,l,d,h,!1),Cs(o,s,d,w,h);else if(32&I){const b=ts(a,l);let M;for(;M=b();)Cs(o,s,d,M,h);Cs(o,s,d,w,h)}else 16&I?Bg(s,o,l,a,d,h):Cs(o,s,d,w,h);a=_?a.projectionNext:a.next}}function Rl(s,o,a,l,d,h){xl(a,l,s.firstChild,o,d,h,!1)}function Bg(s,o,a,l,d,h){const _=a[sr],I=_[ir].projection[l.projection];if(Array.isArray(I))for(let b=0;b<I.length;b++)Cs(o,s,d,I[b],h);else xl(s,o,I,_[on],d,h,!0)}function Lo(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function Pl(s,o,a){const{mergedAttrs:l,classes:d,styles:h}=a;null!==l&&vu(s,o,l),null!==d&&Lo(s,o,d),null!==h&&function $g(s,o,a){s.setAttribute(o,"style",a)}(s,o,h)}function vC(s){jg=s}function a0(s){return function Hg(){if(void 0===Qh&&(Qh=null,hn.trustedTypes))try{Qh=hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Qh}()?.createScriptURL(s)||s}class u0{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${et})`}}function As(s){return s instanceof u0?s.changingThisBreaksApplicationSecurity:s}function hi(s,o){const a=function $u(s){return s instanceof u0&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${et})`)}return a===o}const h0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();function y0(s){const o=Bl();return o?o.sanitize(Sn.URL,s)||"":hi(s,"URL")?As(s):function Fl(s){return(s=String(s)).match(h0)?s:"unsafe:"+s}(_e(s))}function nf(s){const o=Bl();if(o)return a0(o.sanitize(Sn.RESOURCE_URL,s)||"");if(hi(s,"ResourceURL"))return a0(As(s));throw new J(904,!1)}function v0(s,o,a){return function OC(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?nf:y0}(o,a)(s)}function Bl(){const s=ie();return s&&s[ua]}const Jg=new Wt("ENVIRONMENT_INITIALIZER"),Na=new Wt("INJECTOR",-1),Hu=new Wt("INJECTOR_DEF_TYPES");class w0{get(o,a=Dr){if(a===Dr){const l=new Error(`NullInjectorError: No provider for ${Ie(o)}!`);throw l.name="NullInjectorError",l}return a}}function $l(...s){return{\u0275providers:zu(0,s),\u0275fromNgModule:!0}}function zu(s,...o){const a=[],l=new Set;let d;return Ws(o,h=>{const _=h;Xg(_,a,[],l)&&(d||(d=[]),d.push(_))}),void 0!==d&&E0(d,a),a}function E0(s,o){for(let a=0;a<s.length;a++){const{providers:d}=s[a];em(d,h=>{o.push(h)})}}function Xg(s,o,a,l){if(!(s=H(s)))return!1;let d=null,h=er(s);const _=!h&&nt(s);if(h||_){if(_&&!_.standalone)return!1;d=s}else{const I=s.ngModule;if(h=er(I),!h)return!1;d=I}const w=l.has(d);if(_){if(w)return!1;if(l.add(d),_.dependencies){const I="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const b of I)Xg(b,o,a,l)}}else{if(!h)return!1;{if(null!=h.imports&&!w){let b;l.add(d);try{Ws(h.imports,M=>{Xg(M,o,a,l)&&(b||(b=[]),b.push(M))})}finally{}void 0!==b&&E0(b,o)}if(!w){const b=$s(d)||(()=>new d);o.push({provide:d,useFactory:b,deps:Te},{provide:Hu,useValue:d,multi:!0},{provide:Jg,useValue:()=>Jt(d),multi:!0})}const I=h.providers;null==I||w||em(I,M=>{o.push(M)})}}return d!==s&&void 0!==s.providers}function em(s,o){for(let a of s)Ce(a)&&(a=a.\u0275providers),Array.isArray(a)?em(a,o):o(a)}const NC=ce({provide:String,useValue:ce});function tm(s){return null!==s&&"object"==typeof s&&NC in s}function Js(s){return"function"==typeof s}const Vo=new Wt("Set Injector scope."),sf={},FC={};let nm;function af(){return void 0===nm&&(nm=new w0),nm}class ka{}class D0 extends ka{get destroyed(){return this._destroyed}constructor(o,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wu(o,_=>this.processProvider(_)),this.records.set(Na,Gu(void 0,this)),d.has("environment")&&this.records.set(ka,Gu(void 0,this));const h=this.records.get(Vo);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Hu.multi,Te,ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=At(this),l=$n(void 0);try{return o()}finally{At(a),$n(l)}}get(o,a=Dr,l=ct.Default){this.assertNotDestroyed(),l=$i(l);const d=At(this),h=$n(void 0);try{if(!(l&ct.SkipSelf)){let w=this.records.get(o);if(void 0===w){const I=function om(s){return"function"==typeof s||"object"==typeof s&&s instanceof Wt}(o)&&zt(o);w=I&&this.injectableDefInScope(I)?Gu(rm(o),sf):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(l&ct.Self?af():this.parent).get(o,a=l&ct.Optional&&a===Dr?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[nr]=_[nr]||[]).unshift(Ie(o)),d)throw _;return function hs(s,o,a,l){const d=s[nr];throw o[an]&&d.unshift(o[an]),s.message=function L(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==oa?s.slice(2):s;let d=Ie(o);if(Array.isArray(o))d=o.map(Ie).join(" -> ");else if("object"==typeof o){let h=[];for(let _ in o)if(o.hasOwnProperty(_)){let w=o[_];h.push(_+":"+("string"==typeof w?JSON.stringify(w):Ie(w)))}d=`{${h.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(rr,"\n  ")}`}("\n"+s.message,d,a,l),s[br]=d,s[nr]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{$n(h),At(d)}}resolveInjectorInitializers(){const o=At(this),a=$n(void 0);try{const l=this.get(Jg.multi,Te,ct.Self);for(const d of l)d()}finally{At(o),$n(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(Ie(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(o){let a=Js(o=H(o))?o:H(o&&o.provide);const l=function VC(s){return tm(s)?Gu(void 0,s.useValue):Gu(im(s),sf)}(o);if(Js(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Gu(void 0,sf,!0),d.factory=()=>ji(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===sf&&(a.value=FC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function C0(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=H(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function rm(s){const o=zt(s),a=null!==o?o.factory:$s(s);if(null!==a)return a;if(s instanceof Wt)throw new J(204,!1);if(s instanceof Function)return function LC(s){const o=s.length;if(o>0)throw function Cu(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}(o,"?"),new J(204,!1);const a=function Xn(s){return s&&(s[Nn]||s[Kr])||null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new J(204,!1)}function im(s,o,a){let l;if(Js(s)){const d=H(s);return $s(d)||rm(d)}if(tm(s))l=()=>H(s.useValue);else if(function I0(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...ji(s.deps||[]));else if(function kC(s){return!(!s||!s.useExisting)}(s))l=()=>Jt(H(s.useExisting));else{const d=H(s&&(s.useClass||s.provide));if(!function sm(s){return!!s.deps}(s))return $s(d)||rm(d);l=()=>new d(...ji(s.deps))}return l}function Gu(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Wu(s,o){for(const a of s)Array.isArray(a)?Wu(a,o):a&&Ce(a)?Wu(a.\u0275providers,o):o(a)}class UC{}class b0{}class S0{resolveComponentFactory(o){throw function BC(s){const o=Error(`No component factory found for ${Ie(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let qu=(()=>{class s{}return s.NULL=new S0,s})();function uf(){return Xs(ar(),ie())}function Xs(s,o){return new Ku(or(s,o))}let Ku=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=uf,s})();function jl(s){return s instanceof Ku?s.nativeElement:s}class um{}let $C=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function jC(){const s=ie(),a=mr(ar().index,s);return(Fr(a)?a:s)[wt]}(),s})(),HC=(()=>{class s{}return s.\u0275prov=tt({token:s,providedIn:"root",factory:()=>null}),s})();class A0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const M0=new A0("15.2.9"),cf={},cm="ngOriginalError";function lm(s){return s[cm]}class Hl{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&lm(o);for(;a&&lm(a);)a=lm(a);return a||null}}function Ms(s){return s instanceof Function?s():s}function k0(s,o,a){let l=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const h=o.length;if(d+h===l||s.charCodeAt(d+h)<=32)return d}a=d+1}}const dm="ng-template";function hm(s,o,a){let l=0,d=!0;for(;l<s.length;){let h=s[l++];if("string"==typeof h&&d){const _=s[l++];if(a&&"class"===h&&-1!==k0(_.toLowerCase(),o,0))return!0}else{if(1===h){for(;l<s.length&&"string"==typeof(h=s[l++]);)if(h.toLowerCase()===o)return!0;return!1}"number"==typeof h&&(d=!1)}}return!1}function fm(s){return 4===s.type&&s.value!==dm}function Zu(s,o,a){return o===(4!==s.type||a?s.value:dm)}function pm(s,o,a){let l=4;const d=s.attrs||[],h=function L0(s){for(let o=0;o<s.length;o++)if(al(s[o]))return o;return s.length}(d);let _=!1;for(let w=0;w<o.length;w++){const I=o[w];if("number"!=typeof I){if(!_)if(4&l){if(l=2|1&l,""!==I&&!Zu(s,I,a)||""===I&&1===o.length){if(rs(l))return!1;_=!0}}else{const b=8&l?I:o[++w];if(8&l&&null!==s.attrs){if(!hm(s.attrs,b,a)){if(rs(l))return!1;_=!0}continue}const x=F0(8&l?"class":I,d,fm(s),a);if(-1===x){if(rs(l))return!1;_=!0;continue}if(""!==b){let j;j=x>h?"":d[x+1].toLowerCase();const z=8&l?j:null;if(z&&-1!==k0(z,b,0)||2&l&&b!==j){if(rs(l))return!1;_=!0}}}}else{if(!_&&!rs(l)&&!rs(I))return!1;if(_&&rs(I))continue;_=!1,l=I|1&l}}return rs(l)||_}function rs(s){return 0==(1&s)}function F0(s,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let h=!1;for(;d<o.length;){const _=o[d];if(_===s)return d;if(3===_||6===_)h=!0;else{if(1===_||2===_){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=h?1:2}return-1}return function V0(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function Gl(s,o,a=!1){for(let l=0;l<o.length;l++)if(pm(s,o[l],a))return!0;return!1}function U0(s,o){return s?":not("+o.trim()+")":o}function QC(s){let o=s[0],a=1,l=2,d="",h=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&l){const w=s[++a];d+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!rs(_)&&(o+=U0(h,d),d=""),l=_,h=h||!rs(l);a++}return""!==d&&(o+=U0(h,d)),o}const Ct={};function B0(s){$0(xt(),ie(),Fn()+s,!1)}function $0(s,o,a,l){if(!l)if(3==(3&o[Ot])){const h=s.preOrderCheckHooks;null!==h&&nl(o,h,a)}else{const h=s.preOrderHooks;null!==h&&rl(o,h,0,a)}ys(a)}function H0(s,o=null,a=null,l){const d=gm(s,o,a,l);return d.resolveInjectorInitializers(),d}function gm(s,o=null,a=null,l,d=new Set){const h=[a||Te,$l(s)];return l=l||("object"==typeof s?void 0:Ie(s)),new D0(h,o||af(),l||null,d)}let Yu=(()=>{class s{static create(a,l){if(Array.isArray(a))return H0({name:""},l,a,"");{const d=a.name??"";return H0({name:d},a.parent,a.providers,d)}}}return s.THROW_IF_NOT_FOUND=Dr,s.NULL=new w0,s.\u0275prov=tt({token:s,providedIn:"any",factory:()=>Jt(Na)}),s.__NG_ELEMENT_ID__=-1,s})();function Xu(s,o=ct.Default){const a=ie();return null===a?Jt(s,o):wg(ar(),a,H(s),o)}function K0(){throw new Error("invalid")}function Z0(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l+1];if(-1!==h){const _=s.data[h];Lr(a[l]),_.contentQueries(2,o[h],h)}}}function pf(s,o,a,l,d,h,_,w,I,b,M){const x=o.blueprint.slice();return x[Zr]=d,x[Ot]=76|l,(null!==M||s&&1024&s[Ot])&&(x[Ot]|=1024),hh(x),x[on]=x[mo]=s,x[St]=a,x[go]=_||s&&s[go],x[wt]=w||s&&s[wt],x[ua]=I||s&&s[ua]||null,x[un]=b||s&&s[un]||null,x[ir]=h,x[iu]=function zh(){return Ti++}(),x[Hc]=M,x[sr]=2==o.type?s[sr]:x,x}function Zl(s,o,a,l,d){let h=s.data[o];if(null===h)h=function gf(s,o,a,l,d){const h=cg(),_=gh(),I=s.data[o]=function yb(s,o,a,l,d,h){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,a,o,l,d);return null===s.firstChild&&(s.firstChild=I),null!==h&&(_?null==h.child&&null!==I.parent&&(h.child=I):null===h.next&&(h.next=I,I.prev=h)),I}(s,o,a,l,d),function yh(){return Et.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=a,h.value=l,h.attrs=d;const _=function du(){const s=Et.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return ur(h,!0),h}function Yl(s,o,a,l){if(0===a)return-1;const d=o.length;for(let h=0;h<a;h++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function wm(s,o,a){ya(o);try{const l=s.viewQuery;null!==l&&vf(1,l,a);const d=s.template;null!==d&&Q0(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Z0(s,o),s.staticViewQueries&&vf(2,s.viewQuery,a);const h=s.components;null!==h&&function Y0(s,o){for(let a=0;a<o.length;a++)lw(s,o[a])}(o,h)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[Ot]&=-5,_a()}}function Lt(s,o,a,l){const d=o[Ot];if(128!=(128&d)){ya(o);try{hh(o),function Ci(s){return Et.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&Q0(s,o,a,2,l);const _=3==(3&d);if(_){const b=s.preOrderCheckHooks;null!==b&&nl(o,b,null)}else{const b=s.preOrderHooks;null!==b&&rl(o,b,0,null),yu(o,0)}if(function uw(s){for(let o=Zs(s);null!==o;o=Ys(o)){if(!o[rh])continue;const a=o[Ei];for(let l=0;l<a.length;l++){const d=a[l];512&d[Ot]||pa(d[on],1),d[Ot]|=512}}}(o),function aw(s){for(let o=Zs(s);null!==o;o=Ys(o))for(let a=gr;a<o.length;a++){const l=o[a],d=l[We];Wi(l)&&Lt(d,l,d.template,l[St])}}(o),null!==s.contentQueries&&Z0(s,o),_){const b=s.contentCheckHooks;null!==b&&nl(o,b)}else{const b=s.contentHooks;null!==b&&rl(o,b,1),yu(o,1)}!function pb(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)ys(~d);else{const h=d,_=a[++l],w=a[++l];ma(_,h),w(2,o[h])}}}finally{ys(-1)}}(s,o);const w=s.components;null!==w&&function gb(s,o){for(let a=0;a<o.length;a++)cw(s,o[a])}(o,w);const I=s.viewQuery;if(null!==I&&vf(2,I,l),_){const b=s.viewCheckHooks;null!==b&&nl(o,b)}else{const b=s.viewHooks;null!==b&&rl(o,b,2),yu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Ot]&=-41,512&o[Ot]&&(o[Ot]&=-513,pa(o[on],-1))}finally{_a()}}}function Q0(s,o,a,l,d){const h=Fn(),_=2&l;try{ys(-1),_&&o.length>nn&&$0(s,o,nn,!1),kn(_?2:0,d),a(l,d)}finally{ys(h),kn(_?3:1,d)}}function Em(s,o,a){if(Bs(o)){const d=o.directiveEnd;for(let h=o.directiveStart;h<d;h++){const _=s.data[h];_.contentQueries&&_.contentQueries(1,a[h],h)}}}function oe(s,o,a){ph()&&(function Uo(s,o,a,l){const d=a.directiveStart,h=a.directiveEnd;Yr(a)&&function iw(s,o,a){const l=or(o,s),d=is(a),h=s[go],_=Jl(s,pf(s,d,null,a.onPush?32:16,l,o,h,h.createRenderer(l,a),null,null,null));s[o.index]=_}(o,a,s.data[d+a.componentOffset]),s.firstCreatePass||ll(a,o),Wn(l,o);const _=a.initialInputs;for(let w=d;w<h;w++){const I=s.data[w],b=ws(o,s,w,a);Wn(b,o),null!==_&&sw(0,w-d,b,I,0,_),Qr(I)&&(mr(a.index,o)[St]=ws(o,s,w,a))}}(s,o,a,or(a,o)),64==(64&a.flags)&&mf(s,o,a))}function Nt(s,o,a=or){const l=o.localNames;if(null!==l){let d=o.index+1;for(let h=0;h<l.length;h+=2){const _=l[h+1],w=-1===_?a(o,s):s[_];s[d++]=w}}}function is(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Mi(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Mi(s,o,a,l,d,h,_,w,I,b){const M=nn+l,x=M+d,j=function mb(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Ct);return a}(M,x),z="function"==typeof b?b():b;return j[We]={type:s,blueprint:j,template:a,queries:null,viewQuery:w,declTNode:o,data:j.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:I,consts:z,incompleteFirstPass:!1}}function Im(s,o,a,l){const d=wf(o);null===a?d.push(l):(d.push(a),s.firstCreatePass&&Mm(s).push(l,d.length-1))}function X0(s,o,a,l){for(let d in s)if(s.hasOwnProperty(d)){a=null===a?{}:a;const h=s[d];null===l?Dm(a,o,d,h):l.hasOwnProperty(d)&&Dm(a,o,l[d],h)}return a}function Dm(s,o,a,l){s.hasOwnProperty(a)?s[a].push(o,l):s[a]=[o,l]}function Ql(s,o,a,l){if(ph()){const d=null===l?null:{"":-1},h=function Sx(s,o){const a=s.directiveRegistry;let l=null,d=null;if(a)for(let h=0;h<a.length;h++){const _=a[h];if(Gl(o,_.selectors,!1))if(l||(l=[]),Qr(_))if(null!==_.findHostDirectiveDefs){const w=[];d=d||new Map,_.findHostDirectiveDefs(_,w,d),l.unshift(...w,_),Tm(s,o,w.length)}else l.unshift(_),Tm(s,o,0);else d=d||new Map,_.findHostDirectiveDefs?.(_,l,d),l.push(_)}return null===l?null:[l,d]}(s,a);let _,w;null===h?_=w=null:[_,w]=h,null!==_&&tw(s,o,a,_,d,w),d&&function Ib(s,o,a){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const h=a[o[d+1]];if(null==h)throw new J(-301,!1);l.push(o[d],h)}}}(a,l,d)}a.mergedAttrs=Hs(a.mergedAttrs,a.attrs)}function tw(s,o,a,l,d,h){for(let b=0;b<l.length;b++)zs(ll(a,o),s,l[b].type);!function nw(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,l.length);for(let b=0;b<l.length;b++){const M=l[b];M.providersResolver&&M.providersResolver(M)}let _=!1,w=!1,I=Yl(s,o,l.length,null);for(let b=0;b<l.length;b++){const M=l[b];a.mergedAttrs=Hs(a.mergedAttrs,M.hostAttrs),rw(s,a,o,I,M),Sm(I,M,d),null!==M.contentQueries&&(a.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(a.flags|=64);const x=M.type.prototype;!_&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(a.index),_=!0),!w&&(x.ngOnChanges||x.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(a.index),w=!0),I++}!function Cm(s,o,a){const d=o.directiveEnd,h=s.data,_=o.attrs,w=[];let I=null,b=null;for(let M=o.directiveStart;M<d;M++){const x=h[M],j=a?a.get(x):null,ue=j?j.outputs:null;I=X0(x.inputs,M,I,j?j.inputs:null),b=X0(x.outputs,M,b,ue);const Ae=null===I||null===_||fm(o)?null:ow(I,M,_);w.push(Ae)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=8),I.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=w,o.inputs=I,o.outputs=b}(s,a,h)}function mf(s,o,a){const l=a.directiveStart,d=a.directiveEnd,h=a.index,_=function Gv(){return Et.lFrame.currentDirectiveIndex}();try{ys(h);for(let w=l;w<d;w++){const I=s.data[w],b=o[w];yo(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Eb(I,b)}}finally{ys(-1),yo(_)}}function Eb(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Tm(s,o,a){o.componentOffset=a,(s.components??(s.components=[])).push(o.index)}function Sm(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Qr(o)&&(a[""]=s)}}function rw(s,o,a,l,d){s.data[l]=d;const h=d.factory||(d.factory=$s(d.type)),_=new _s(h,Qr(d),Xu);s.blueprint[l]=_,a[l]=_,function vb(s,o,a,l,d){const h=d.hostBindings;if(h){let _=s.hostBindingOpCodes;null===_&&(_=s.hostBindingOpCodes=[]);const w=~o.index;(function wb(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(_)!=w&&_.push(w),_.push(a,l,h)}}(s,o,l,Yl(s,a,d.hostVars,Ct),d)}function ss(s,o,a,l,d,h){const _=or(s,o);!function yf(s,o,a,l,d,h,_){if(null==h)s.removeAttribute(o,d,a);else{const w=null==_?_e(h):_(h,l||"",d);s.setAttribute(o,d,w,a)}}(o[wt],_,h,s.value,a,l,d)}function sw(s,o,a,l,d,h){const _=h[o];if(null!==_){const w=l.setInput;for(let I=0;I<_.length;){const b=_[I++],M=_[I++],x=_[I++];null!==w?l.setInput(a,x,b,M):a[M]=x}}}function ow(s,o,a){let l=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;if(s.hasOwnProperty(h)){null===l&&(l=[]);const _=s[h];for(let w=0;w<_.length;w+=2)if(_[w]===o){l.push(h,_[w+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function Am(s,o,a,l){return[s,!0,!1,o,null,0,l,a,null,null]}function cw(s,o){const a=mr(o,s);if(Wi(a)){const l=a[We];48&a[Ot]?Lt(l,a,l.template,a[St]):a[Gi]>0&&_f(a)}}function _f(s){for(let l=Zs(s);null!==l;l=Ys(l))for(let d=gr;d<l.length;d++){const h=l[d];if(Wi(h))if(512&h[Ot]){const _=h[We];Lt(_,h,_.template,h[St])}else h[Gi]>0&&_f(h)}const a=s[We].components;if(null!==a)for(let l=0;l<a.length;l++){const d=mr(a[l],s);Wi(d)&&d[Gi]>0&&_f(d)}}function lw(s,o){const a=mr(o,s),l=a[We];(function dw(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),wm(l,a,a[St])}function Jl(s,o){return s[Us]?s[fs][Mr]=o:s[Us]=o,s[fs]=o,o}function Xl(s){for(;s;){s[Ot]|=32;const o=Nu(s);if(Di(s)&&!o)return s;s=o}return null}function ed(s,o,a,l=!0){const d=o[go];d.begin&&d.begin();try{Lt(s,o,s.template,a)}catch(_){throw l&&Rm(o,_),_}finally{d.end&&d.end()}}function vf(s,o,a){Lr(0),o(s,a)}function wf(s){return s[po]||(s[po]=[])}function Mm(s){return s.cleanup||(s.cleanup=[])}function Rm(s,o){const a=s[un],l=a?a.get(Hl,null):null;l&&l.handleError(o)}function Om(s,o,a,l,d){for(let h=0;h<a.length;){const _=a[h++],w=a[h++],I=o[_],b=s.data[_];null!==b.setInput?b.setInput(I,d,l,w):I[w]=d}}function Ef(s,o,a){let l=a?s.styles:null,d=a?s.classes:null,h=0;if(null!==o)for(let _=0;_<o.length;_++){const w=o[_];"number"==typeof w?h=w:1==h?d=Oe(d,w):2==h&&(l=Oe(l,w+": "+o[++_]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}function If(s,o,a,l,d=!1){for(;null!==a;){const h=o[a.index];if(null!==h&&l.push(Bt(h)),ui(h))for(let w=gr;w<h.length;w++){const I=h[w],b=I[We].firstChild;null!==b&&If(I[We],I,b,l)}const _=a.type;if(8&_)If(s,o,a.child,l);else if(32&_){const w=ts(a,o);let I;for(;I=w();)l.push(I)}else if(16&_){const w=Fo(o,a);if(Array.isArray(w))l.push(...w);else{const I=Nu(o[sr]);If(I[We],I,w,l,!0)}}a=d?a.projectionNext:a.next}return l}class td{get rootNodes(){const o=this._lView,a=o[We];return If(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[St]}set context(o){this._lView[St]=o}get destroyed(){return 128==(128&this._lView[Ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[on];if(ui(o)){const a=o[ca],l=a?a.indexOf(this):-1;l>-1&&(T(o,l),yl(a,l))}this._attachedToViewContainer=!1}A(this._lView[We],this._lView)}onDestroy(o){Im(this._lView[We],this._lView,null,o)}markForCheck(){Xl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ot]&=-65}reattach(){this._lView[Ot]|=64}detectChanges(){ed(this._lView[We],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ku(s,o){Rl(s,o,o[wt],2,null,null)}(this._lView[We],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=o}}class to extends td{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;ed(o[We],o,o[St],!1)}checkNoChanges(){}get context(){return null}}class Pm extends qu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=nt(o);return new ec(a,this.ngModule)}}function Df(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Nm{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=$i(l);const d=this.injector.get(o,cf,l);return d!==cf||a===cf?d:this.parentInjector.get(o,a,l)}}class ec extends b0{get inputs(){return Df(this.componentDef.inputs)}get outputs(){return Df(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function JC(s){return s.map(QC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,d){let h=(d=d||this.ngModule)instanceof ka?d:d?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const _=h?new Nm(o,h):o,w=_.get(um,null);if(null===w)throw new J(407,!1);const I=_.get(HC,null),b=w.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",x=l?function J0(s,o,a){return s.selectRootElement(o,a===se.ShadowDom)}(b,l,this.componentDef.encapsulation):Ml(b,M,function hw(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),j=this.componentDef.onPush?288:272,z=Mi(0,null,null,1,0,null,null,null,null,null),ue=pf(null,z,null,j,null,null,w,b,I,_,null);let Ae,Ue;ya(ue);try{const Je=this.componentDef;let mt,ge=null;Je.findHostDirectiveDefs?(mt=[],ge=new Map,Je.findHostDirectiveDefs(Je,mt,ge),mt.push(Je)):mt=[Je];const Tt=function bb(s,o){const a=s[We],l=nn;return s[l]=o,Zl(a,l,2,"#host",null)}(ue,x),Ft=function Tb(s,o,a,l,d,h,_,w){const I=d[We];!function Sb(s,o,a,l){for(const d of s)o.mergedAttrs=Hs(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(Ef(o,o.mergedAttrs,!0),null!==a&&Pl(l,a,o))}(l,s,o,_);const b=h.createRenderer(o,a),M=pf(d,is(a),null,a.onPush?32:16,d[s.index],s,h,b,w||null,null,null);return I.firstCreatePass&&Tm(I,s,l.length-1),Jl(d,M),d[s.index]=M}(Tt,x,Je,mt,ue,w,b);Ue=Qc(z,nn),x&&function Ab(s,o,a,l){if(l)vu(s,a,["ng-version",M0.full]);else{const{attrs:d,classes:h}=function XC(s){const o=[],a=[];let l=1,d=2;for(;l<s.length;){let h=s[l];if("string"==typeof h)2===d?""!==h&&o.push(h,s[++l]):8===d&&a.push(h);else{if(!rs(d))break;d=h}l++}return{attrs:o,classes:a}}(o.selectors[0]);d&&vu(s,a,d),h&&h.length>0&&Lo(s,a,h.join(" "))}}(b,Je,x,l),void 0!==a&&function Mb(s,o,a){const l=s.projection=[];for(let d=0;d<o.length;d++){const h=a[d];l.push(null!=h?Array.from(h):null)}}(Ue,this.ngContentSelectors,a),Ae=function gw(s,o,a,l,d,h){const _=ar(),w=d[We],I=or(_,d);tw(w,d,_,a,null,l);for(let M=0;M<a.length;M++)Wn(ws(d,w,_.directiveStart+M,_),d);mf(w,d,_),I&&Wn(I,d);const b=ws(d,w,_.directiveStart+_.componentOffset,_);if(s[St]=d[St]=b,null!==h)for(const M of h)M(b,o);return Em(w,_,s),b}(Ft,Je,mt,ge,ue,[km]),wm(z,ue,null)}finally{_a()}return new fw(this.componentType,Ae,Xs(Ue,ue),ue,Ue)}}class fw extends UC{constructor(o,a,l,d,h){super(),this.location=l,this._rootLView=d,this._tNode=h,this.instance=a,this.hostView=this.changeDetectorRef=new to(d),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){const h=this._rootLView;Om(h[We],h,d,o,a),Xl(mr(this._tNode.index,h))}}get injector(){return new wo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function km(){const s=ar();tl(ie()[We],s)}function Fm(s){let o=function mw(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let d;if(Qr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new J(903,!1);d=o.\u0275dir}if(d){if(a){l.push(d);const _=s;_.inputs=Bo(s.inputs),_.declaredInputs=Bo(s.declaredInputs),_.outputs=Bo(s.outputs);const w=d.hostBindings;w&&Rb(s,w);const I=d.viewQuery,b=d.contentQueries;if(I&&yw(s,I),b&&xb(s,b),Re(s.inputs,d.inputs),Re(s.declaredInputs,d.declaredInputs),Re(s.outputs,d.outputs),Qr(d)&&d.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let _=0;_<h.length;_++){const w=h[_];w&&w.ngInherit&&w(s),w===Fm&&(a=!1)}}o=Object.getPrototypeOf(o)}!function tc(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Hs(d.hostAttrs,a=Hs(a,d.hostAttrs))}}(l)}function Bo(s){return s===W?{}:s===Te?[]:s}function yw(s,o){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function xb(s,o){const a=s.contentQueries;s.contentQueries=a?(l,d,h)=>{o(l,d,h),a(l,d,h)}:o}function Rb(s,o){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}function Va(s){return!!rd(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function rd(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Rr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Um(s,o,a,l){const d=ie();return Rr(d,ga(),o)&&(xt(),ss(pn(),d,s,o,a,l)),Um}function $m(s,o,a,l,d,h,_,w){const I=ie(),b=xt(),M=s+nn,x=b.firstCreatePass?function Bm(s,o,a,l,d,h,_,w,I){const b=o.consts,M=Zl(o,s,4,_||null,gs(b,w));Ql(o,a,M,gs(b,I)),tl(o,M);const x=M.tView=Mi(2,M,l,d,h,o.directiveRegistry,o.pipeRegistry,null,o.schemas,b);return null!==o.queries&&(o.queries.template(o,M),x.queries=o.queries.embeddedTView(M)),M}(M,b,I,o,a,l,d,h,_):b.data[M];ur(x,!1);const j=I[wt].createComment("");ko(b,I,j,x),Wn(j,I),Jl(I,I[M]=Am(j,I,j,x)),Ii(x)&&oe(b,I,x),null!=_&&Nt(I,x,w)}function Aw(s){return function fa(s,o){return s[o]}(function hu(){return Et.lFrame.contextLView}(),nn+s)}function jm(s,o,a){const l=ie();return Rr(l,ga(),o)&&function $r(s,o,a,l,d,h,_,w){const I=or(o,a);let M,b=o.inputs;!w&&null!=b&&(M=b[l])?(Om(s,a,M,l,d),Yr(o)&&function bm(s,o){const a=mr(o,s);16&a[Ot]||(a[Ot]|=32)}(a,o.index)):3&o.type&&(l=function ew(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=_?_(d,o.value||"",l):d,h.setProperty(I,l,d))}(xt(),pn(),l,s,o,l[wt],a,!1),jm}function Hm(s,o,a,l,d){const _=d?"class":"style";Om(s,a,o.inputs[_],_,l)}function od(s,o,a,l){const d=ie(),h=xt(),_=nn+s,w=d[wt],I=h.firstCreatePass?function Mw(s,o,a,l,d,h){const _=o.consts,I=Zl(o,s,2,l,gs(_,d));return Ql(o,a,I,gs(_,h)),null!==I.attrs&&Ef(I,I.attrs,!1),null!==I.mergedAttrs&&Ef(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(_,h,d,o,a,l):h.data[_],b=d[_]=Ml(w,o,function Ih(){return Et.lFrame.currentNamespace}()),M=Ii(I);return ur(I,!0),Pl(w,b,I),32!=(32&I.flags)&&ko(h,d,b,I),0===function Jc(){return Et.lFrame.elementDepthCount}()&&Wn(b,d),function sg(){Et.lFrame.elementDepthCount++}(),M&&(oe(h,d,I),Em(h,I,d)),null!==l&&Nt(d,I),od}function ad(){let s=ar();gh()?function mh(){Et.lFrame.isParent=!1}():(s=s.parent,ur(s,!1));const o=s;!function og(){Et.lFrame.elementDepthCount--}();const a=xt();return a.firstCreatePass&&(tl(a,s),Bs(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function mg(s){return 0!=(8&s.flags)}(o)&&Hm(a,o,ie(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function yg(s){return 0!=(16&s.flags)}(o)&&Hm(a,o,ie(),o.stylesWithoutHost,!1),ad}function bf(s,o,a,l){return od(s,o,a,l),ad(),bf}function xw(){return ie()}function Or(s){return!!s&&"function"==typeof s.then}function Rw(s){return!!s&&"function"==typeof s.subscribe}const Ow=Rw;function qm(s,o,a,l){const d=ie(),h=xt(),_=ar();return function Sf(s,o,a,l,d,h,_){const w=Ii(l),b=s.firstCreatePass&&Mm(s),M=o[St],x=wf(o);let j=!0;if(3&l.type||_){const Ae=or(l,o),Ue=_?_(Ae):Ae,Je=x.length,mt=_?Tt=>_(Bt(Tt[l.index])):l.index;let ge=null;if(!_&&w&&(ge=function Bb(s,o,a,l){const d=s.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const _=d[h];if(_===a&&d[h+1]===l){const w=o[po],I=d[h+2];return w.length>I?w[I]:null}"string"==typeof _&&(h+=2)}return null}(s,o,d,l.index)),null!==ge)(ge.__ngLastListenerFn__||ge).__ngNextListenerFn__=h,ge.__ngLastListenerFn__=h,j=!1;else{h=Pw(l,o,M,h,!1);const Tt=a.listen(Ue,d,h);x.push(h,Tt),b&&b.push(d,mt,Je,Je+1)}}else h=Pw(l,o,M,h,!1);const z=l.outputs;let ue;if(j&&null!==z&&(ue=z[d])){const Ae=ue.length;if(Ae)for(let Ue=0;Ue<Ae;Ue+=2){const Ft=o[ue[Ue]][ue[Ue+1]].subscribe(h),$t=x.length;x.push(h,Ft),b&&b.push(d,l.index,$t,-($t+1))}}}(h,d,d[wt],_,s,o,l),qm}function $b(s,o,a,l){try{return kn(6,o,a),!1!==a(l)}catch(d){return Rm(s,d),!1}finally{kn(7,o,a)}}function Pw(s,o,a,l,d){return function h(_){if(_===Function)return l;Xl(s.componentOffset>-1?mr(s.index,o):o);let I=$b(o,a,l,_),b=h.__ngNextListenerFn__;for(;b;)I=$b(o,a,b,_)&&I,b=b.__ngNextListenerFn__;return d&&!1===I&&(_.preventDefault(),_.returnValue=!1),I}}function Nw(s=1){return function wh(s){return(Et.lFrame.contextLView=function fg(s,o){for(;s>0;)o=o[mo],s--;return o}(s,Et.lFrame.contextLView))[St]}(s)}function Af(s,o){return s<<17|o<<2}function Ho(s){return s>>17&32767}function cc(s){return 2|s}function fi(s){return(131068&s)>>2}function Zm(s,o){return-131069&s|o<<2}function Ym(s){return 1|s}function jw(s,o,a,l,d){const h=s[a+1],_=null===o;let w=l?Ho(h):fi(h),I=!1;for(;0!==w&&(!1===I||_);){const M=s[w+1];Zb(s[w],o)&&(I=!0,s[w+1]=l?Ym(M):cc(M)),w=l?Ho(M):fi(M)}I&&(s[a+1]=l?cc(h):Ym(h))}function Zb(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Vr(s,o)>=0}function cd(s,o){return function pi(s,o,a,l){const d=ie(),h=xt(),_=function ms(s){const o=Et.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);h.firstUpdatePass&&function ry(s,o,a,l){const d=s.data;if(null===d[a+1]){const h=d[Fn()],_=function ny(s,o){return o>=s.expandoStartIndex}(s,a);(function ay(s,o){return 0!=(s.flags&(o?8:16))})(h,l)&&null===o&&!_&&(o=!1),o=function zw(s,o,a,l){const d=function pu(s){const o=Et.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let h=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=lc(a=Rf(null,s,o,a,l),o.attrs,l),h=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==d)if(a=Rf(d,s,o,a,l),null===h){let I=function Gw(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==fi(l))return s[Ho(l)]}(s,o,l);void 0!==I&&Array.isArray(I)&&(I=Rf(null,s,o,I[1],l),I=lc(I,o.attrs,l),function Ww(s,o,a,l){s[Ho(a?o.classBindings:o.styleBindings)]=l}(s,o,l,I))}else h=function qw(s,o,a){let l;const d=o.directiveEnd;for(let h=1+o.directiveStylingLast;h<d;h++)l=lc(l,s[h].hostAttrs,a);return lc(l,o.attrs,a)}(s,o,l)}return void 0!==h&&(l?o.residualClasses=h:o.residualStyles=h),a}(d,h,o,l),function Kb(s,o,a,l,d,h){let _=h?o.classBindings:o.styleBindings,w=Ho(_),I=fi(_);s[l]=a;let M,b=!1;if(Array.isArray(a)?(M=a[1],(null===M||Vr(a,M)>0)&&(b=!0)):M=a,d)if(0!==I){const j=Ho(s[w+1]);s[l+1]=Af(j,w),0!==j&&(s[j+1]=Zm(s[j+1],l)),s[w+1]=function Wb(s,o){return 131071&s|o<<17}(s[w+1],l)}else s[l+1]=Af(w,0),0!==w&&(s[w+1]=Zm(s[w+1],l)),w=l;else s[l+1]=Af(I,0),0===w?w=l:s[I+1]=Zm(s[I+1],l),I=l;b&&(s[l+1]=cc(s[l+1])),jw(s,M,l,!0),jw(s,M,l,!1),function Ox(s,o,a,l,d){const h=d?s.residualClasses:s.residualStyles;null!=h&&"string"==typeof o&&Vr(h,o)>=0&&(a[l+1]=Ym(a[l+1]))}(o,M,s,l,h),_=Af(w,I),h?o.classBindings=_:o.styleBindings=_}(d,h,o,a,_,l)}}(h,s,_,l),o!==Ct&&Rr(d,_,o)&&function sy(s,o,a,l,d,h,_,w){if(!(3&o.type))return;const I=s.data,b=I[w+1],M=function qb(s){return 1==(1&s)}(b)?oy(I,o,a,d,fi(b),_):void 0;ld(M)||(ld(h)||function Gb(s){return 2==(2&s)}(b)&&(h=oy(I,null,a,d,w,_)),function Ss(s,o,a,l,d){if(o)d?s.addClass(a,l):s.removeClass(a,l);else{let h=-1===l.indexOf("-")?void 0:pt.DashCase;null==d?s.removeStyle(a,l,h):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),h|=pt.Important),s.setStyle(a,l,d,h))}}(l,_,cu(Fn(),a),d,h))}(h,h.data[Fn()],d,d[wt],s,d[_+1]=function Qw(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Ie(As(s)))),s}(o,a),l,_)}(s,o,null,!0),cd}function Rf(s,o,a,l,d){let h=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(h=o[w],l=lc(l,h.hostAttrs,d),h!==s);)w++;return null!==s&&(a.directiveStylingLast=w),l}function lc(s,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let h=0;h<o.length;h++){const _=o[h];"number"==typeof _?d=_:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Jr(s,_,!!a||o[++h]))}return void 0===s?null:s}function oy(s,o,a,l,d,h){const _=null===o;let w;for(;d>0;){const I=s[d],b=Array.isArray(I),M=b?I[1]:I,x=null===M;let j=a[d+1];j===Ct&&(j=x?Te:void 0);let z=x?gn(j,l):M===l?j:void 0;if(b&&!ld(z)&&(z=gn(I,l)),ld(z)&&(w=z,_))return w;const ue=s[d+1];d=_?Ho(ue):fi(ue)}if(null!==o){let I=h?o.residualClasses:o.residualStyles;null!=I&&(w=gn(I,l))}return w}function ld(s){return void 0!==s}function uy(s,o=""){const a=ie(),l=xt(),d=s+nn,h=l.firstCreatePass?Zl(l,d,1,o,null):l.data[d],_=a[d]=function No(s,o){return s.createText(o)}(a[wt],o);ko(l,a,_,h),ur(h,!1)}function Of(s){return dd("",s,""),Of}function dd(s,o,a){const l=ie(),d=function jo(s,o,a,l){return Rr(s,ga(),a)?o+_e(a)+l:Ct}(l,s,o,a);return d!==Ct&&function eo(s,o,a){const l=cu(o,s);!function Al(s,o,a){s.setValue(o,a)}(s[wt],l,a)}(l,Fn(),d),dd}const ja=void 0;var lT=["en",[["a","p"],["AM","PM"],ja],[["AM","PM"],ja,ja],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ja,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ja,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ja,"{1} 'at' {0}",ja],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cE(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Ha={};function vy(s){const o=function hE(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=dE(o);if(a)return a;const l=o.split("-")[0];if(a=dE(l),a)return a;if("en"===l)return lT;throw new J(701,!1)}function lE(s){return vy(s)[vt.PluralCase]}function dE(s){return s in Ha||(Ha[s]=hn.ng&&hn.ng.common&&hn.ng.common.locales&&hn.ng.common.locales[s]),Ha[s]}var vt=(()=>((vt=vt||{})[vt.LocaleId=0]="LocaleId",vt[vt.DayPeriodsFormat=1]="DayPeriodsFormat",vt[vt.DayPeriodsStandalone=2]="DayPeriodsStandalone",vt[vt.DaysFormat=3]="DaysFormat",vt[vt.DaysStandalone=4]="DaysStandalone",vt[vt.MonthsFormat=5]="MonthsFormat",vt[vt.MonthsStandalone=6]="MonthsStandalone",vt[vt.Eras=7]="Eras",vt[vt.FirstDayOfWeek=8]="FirstDayOfWeek",vt[vt.WeekendRange=9]="WeekendRange",vt[vt.DateFormat=10]="DateFormat",vt[vt.TimeFormat=11]="TimeFormat",vt[vt.DateTimeFormat=12]="DateTimeFormat",vt[vt.NumberSymbols=13]="NumberSymbols",vt[vt.NumberFormats=14]="NumberFormats",vt[vt.CurrencyCode=15]="CurrencyCode",vt[vt.CurrencySymbol=16]="CurrencySymbol",vt[vt.CurrencyName=17]="CurrencyName",vt[vt.Currencies=18]="Currencies",vt[vt.Directionality=19]="Directionality",vt[vt.PluralCase=20]="PluralCase",vt[vt.ExtraData=21]="ExtraData",vt))();const hc="en-US";let pE=hc;function Vy(s,o,a,l,d){if(s=H(s),Array.isArray(s))for(let h=0;h<s.length;h++)Vy(s[h],o,a,l,d);else{const h=xt(),_=ie();let w=Js(s)?s:H(s.provide),I=im(s);const b=ar(),M=1048575&b.providerIndexes,x=b.directiveStart,j=b.providerIndexes>>20;if(Js(s)||!s.multi){const z=new _s(I,d,Xu),ue=VE(w,o,d?M:M+j,x);-1===ue?(zs(ll(b,_),h,w),Uy(h,s,o.length),o.push(w),b.directiveStart++,b.directiveEnd++,d&&(b.providerIndexes+=1048576),a.push(z),_.push(z)):(a[ue]=z,_[ue]=z)}else{const z=VE(w,o,M+j,x),ue=VE(w,o,M,M+j),Ue=ue>=0&&a[ue];if(d&&!Ue||!d&&!(z>=0&&a[z])){zs(ll(b,_),h,w);const Je=function Kx(s,o,a,l,d){const h=new _s(s,a,Xu);return h.multi=[],h.index=o,h.componentProviders=0,kT(h,d,l&&!a),h}(d?qx:Wx,a.length,d,l,I);!d&&Ue&&(a[ue].providerFactory=Je),Uy(h,s,o.length,0),o.push(w),b.directiveStart++,b.directiveEnd++,d&&(b.providerIndexes+=1048576),a.push(Je),_.push(Je)}else Uy(h,s,z>-1?z:ue,kT(a[d?ue:z],I,!d&&l));!d&&l&&Ue&&a[ue].componentProviders++}}}function Uy(s,o,a,l){const d=Js(o),h=function rf(s){return!!s.useClass}(o);if(d||h){const I=(h?H(o.useClass):o).prototype.ngOnDestroy;if(I){const b=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const M=b.indexOf(a);-1===M?b.push(a,[l,I]):b[M+1].push(l,I)}else b.push(a,I)}}}function kT(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function VE(s,o,a,l){for(let d=a;d<l;d++)if(o[d]===s)return d;return-1}function Wx(s,o,a,l){return UE(this.multi,[])}function qx(s,o,a,l){const d=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=ws(a,a[We],this.providerFactory.index,l);h=w.slice(0,_),UE(d,h);for(let I=_;I<w.length;I++)h.push(w[I])}else h=[],UE(d,h);return h}function UE(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function BE(s,o=[]){return a=>{a.providersResolver=(l,d)=>function Gx(s,o,a){const l=xt();if(l.firstCreatePass){const d=Qr(s);Vy(a,l.data,l.blueprint,d,!0),Vy(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class gd{}class By{}function $E(s,o){return new jE(s,o??null)}class jE extends gd{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pm(this);const l=sn(o);this._bootstrapComponents=Ms(l.bootstrap),this._r3Injector=gm(o,a,[{provide:gd,useValue:this},{provide:qu,useValue:this.componentFactoryResolver}],Ie(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class gc extends By{constructor(o){super(),this.moduleType=o}create(o){return new jE(this.moduleType,o)}}class FT extends gd{constructor(o,a,l){super(),this.componentFactoryResolver=new Pm(this),this.instance=null;const d=new D0([...o,{provide:gd,useValue:this},{provide:qu,useValue:this.componentFactoryResolver}],a||af(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function jf(s,o,a=null){return new FT(s,o,a).injector}let LT=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=zu(0,a.type),d=l.length>0?jf([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=tt({token:s,providedIn:"environment",factory:()=>new s(Jt(ka))}),s})();function Hf(s){s.getStandaloneInjector=o=>o.get(LT).getOrCreateStandaloneInjector(s)}function Qy(s){return o=>{setTimeout(s,void 0,o)}}const ks=class WT extends p.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let d=o,h=a||(()=>null),_=l;if(o&&"object"==typeof o){const I=o;d=I.next?.bind(I),h=I.error?.bind(I),_=I.complete?.bind(I)}this.__isAsync&&(h=Qy(h),d&&(d=Qy(d)),_&&(_=Qy(_)));const w=super.subscribe({next:d,error:h,complete:_});return o instanceof F.w0&&o.add(w),w}};function tR(){return this._results[Symbol.iterator]()}class ZE{get changes(){return this._changes||(this._changes=new ks)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=ZE.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=tR)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=function bi(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function bg(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],h=o[l];if(a&&(d=a(d),h=a(h)),h!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wf=(()=>{class s{}return s.__NG_ELEMENT_ID__=rR,s})();const qT=Wf,nR=class extends qT{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tView,d=pf(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);d[ru]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[ps];return null!==_&&(d[ps]=_.createEmbeddedView(l)),wm(l,d,o),new td(d)}};function rR(){return Jy(ar(),ie())}function Jy(s,o){return 4&s.type?new nR(o,s,Xs(s,o)):null}let Ed=(()=>{class s{}return s.__NG_ELEMENT_ID__=YE,s})();function YE(){return t_(ar(),ie())}const QE=Ed,Xy=class extends QE{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Xs(this._hostTNode,this._hostLView)}get injector(){return new wo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Zi(this._hostTNode,this._hostLView);if(wu(o)){const a=Eu(o,this._hostLView),l=Ea(o);return new wo(a[We].data[l+8],a)}return new wo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=e_(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-gr}createEmbeddedView(o,a,l){let d,h;"number"==typeof l?d=l:null!=l&&(d=l.index,h=l.injector);const _=o.createEmbeddedView(a||{},h);return this.insert(_,d),_}createComponent(o,a,l,d,h){const _=o&&!function Du(s){return"function"==typeof s}(o);let w;if(_)w=a;else{const x=a||{};w=x.index,l=x.injector,d=x.projectableNodes,h=x.environmentInjector||x.ngModuleRef}const I=_?o:new ec(nt(o)),b=l||this.parentInjector;if(!h&&null==I.ngModule){const j=(_?b:this.parentInjector).get(ka,null);j&&(h=j)}const M=I.create(b,d,void 0,h);return this.insert(M.hostView,w),M}insert(o,a){const l=o._lView,d=l[We];if(function dh(s){return ui(s[on])}(l)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const x=l[on],j=new Xy(x,x[ir],x[on]);j.detach(j.indexOf(o))}}const h=this._adjustIndex(a),_=this._lContainer;!function g(s,o,a,l){const d=gr+l,h=a.length;l>0&&(a[d-1][Mr]=o),l<h-gr?(o[Mr]=a[d],Tg(a,gr+l,o)):(a.push(o),o[Mr]=null),o[on]=a;const _=o[ru];null!==_&&a!==_&&function m(s,o){const a=s[Ei];o[sr]!==o[on][on][sr]&&(s[rh]=!0),null===a?s[Ei]=[o]:a.push(o)}(_,o);const w=o[ps];null!==w&&w.insertView(s),o[Ot]|=64}(d,l,_,h);const w=Ts(h,_),I=l[wt],b=On(I,_[su]);return null!==b&&function Vg(s,o,a,l,d,h){l[Zr]=d,l[ir]=o,Rl(s,l,a,1,d,h)}(d,_[ir],I,l,b,w),o.attachToViewContainerRef(),Tg(qf(_),h,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=e_(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=T(this._lContainer,a);l&&(yl(qf(this._lContainer),a),A(l[We],l))}detach(o){const a=this._adjustIndex(o,-1),l=T(this._lContainer,a);return l&&null!=yl(qf(this._lContainer),a)?new td(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function e_(s){return s[ca]}function qf(s){return s[ca]||(s[ca]=[])}function t_(s,o){let a;const l=o[s.index];if(ui(l))a=l;else{let d;if(8&s.type)d=Bt(l);else{const h=o[wt];d=h.createComment("");const _=or(s,o);Ye(h,On(h,_),d,function Qs(s,o){return s.nextSibling(o)}(h,_),!1)}o[s.index]=a=Am(l,o,d,s),Jl(o,a)}return new Xy(a,s,o)}class Kf{constructor(o){this.queryList=o,this.matches=null}clone(){return new Kf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zf{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let h=0;h<l;h++){const _=a.getByIndex(h);d.push(this.queries[_.indexInDeclarationView].clone())}return new Zf(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Dd(o,a).matches&&this.queries[a].setDirty()}}class n_{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class Id{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,h=this.getByIndex(l).embeddedTView(o,d);h&&(h.indexInDeclarationView=l,null!==a?a.push(h):a=[h])}return null!==a?new Id(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Yf{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Yf(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const h=l[d];this.matchTNodeWithReadOption(o,a,KT(a,h)),this.matchTNodeWithReadOption(o,a,vs(a,o,h,!1,!1))}else l===Wf?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,vs(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Ku||d===Ed||d===Wf&&4&a.type)this.addMatch(a.index,-2);else{const h=vs(a,o,d,!1,!1);null!==h&&this.addMatch(a.index,h)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function KT(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function ZT(s,o,a,l){return-1===a?function An(s,o){return 11&s.type?Xs(s,o):4&s.type?Jy(s,o):null}(o,s):-2===a?function Qf(s,o,a){return a===Ku?Xs(o,s):a===Wf?Jy(o,s):a===Ed?t_(o,s):void 0}(s,o,l):ws(s,s[We],a,o)}function Jf(s,o,a,l){const d=o[ps].queries[l];if(null===d.matches){const h=s.data,_=a.matches,w=[];for(let I=0;I<_.length;I+=2){const b=_[I];w.push(b<0?null:ZT(o,h[b],_[I+1],a.metadata.read))}d.matches=w}return d.matches}function r_(s,o,a,l){const d=s.queries.getByIndex(a),h=d.matches;if(null!==h){const _=Jf(s,o,d,a);for(let w=0;w<h.length;w+=2){const I=h[w];if(I>0)l.push(_[w/2]);else{const b=h[w+1],M=o[-I];for(let x=gr;x<M.length;x++){const j=M[x];j[ru]===j[on]&&r_(j[We],j,b,l)}if(null!==M[Ei]){const x=M[Ei];for(let j=0;j<x.length;j++){const z=x[j];r_(z[We],z,b,l)}}}}}return l}function JE(s){const o=ie(),a=xt(),l=gu();Lr(l+1);const d=Dd(a,l);if(s.dirty&&function rg(s){return 4==(4&s[Ot])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const h=d.crossesNgTemplate?r_(a,o,l,[]):Jf(a,o,d,l);s.reset(h,jl),s.notifyOnChanges()}return!0}return!1}function i_(s,o,a,l){const d=xt();if(d.firstCreatePass){const h=ar();(function tI(s,o,a){null===s.queries&&(s.queries=new Id),s.queries.track(new Yf(o,a))})(d,new n_(o,a,l),h.index),function _r(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}!function eI(s,o,a){const l=new ZE(4==(4&a));Im(s,o,l,l.destroy),null===o[ps]&&(o[ps]=new Zf),o[ps].queries.push(new Kf(l))}(d,ie(),a)}function XE(){return function QT(s,o){return s[ps].queries[o].queryList}(ie(),gu())}function Dd(s,o){return s.queries.getByIndex(o)}function Xf(s,o){return Jy(s,o)}function s_(s){return!!sn(s)}function f_(...s){}const mS=new Wt("Application Initializer");let rp=(()=>{class s{constructor(a){this.appInits=a,this.resolve=f_,this.reject=f_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const h=this.appInits[d]();if(Or(h))a.push(h);else if(Ow(h)){const _=new Promise((w,I)=>{h.subscribe({complete:w,error:I})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Jt(mS,8))},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const p_=new Wt("AppId",{providedIn:"root",factory:function vI(){return`${bd()}${bd()}${bd()}`}});function bd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Td=new Wt("Platform Initializer"),aR=new Wt("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let _S=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const ip=new Wt("LocaleId",{providedIn:"root",factory:()=>vi(ip,ct.Optional|ct.SkipSelf)||function uR(){return typeof $localize<"u"&&$localize.locale||hc}()}),vS=new Wt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class lR{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let dR=(()=>{class s{compileModuleSync(a){return new gc(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),h=Ms(sn(a).declarations).reduce((_,w)=>{const I=nt(w);return I&&_.push(new ec(I)),_},[]);return new lR(l,h)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const pR=(()=>Promise.resolve(0))();function Sd(s){typeof Zone>"u"?pR.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Pi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ks(!1),this.onMicrotaskEmpty=new ks(!1),this.onStable=new ks(!1),this.onError=new ks(!1),typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function wS(){let s=hn.requestAnimationFrame,o=hn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function mR(s){const o=()=>{!function IS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(hn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,DI(s),s.isCheckStableRunning=!0,m_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),DI(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,h,_,w)=>{try{return DS(s),a.invokeTask(d,h,_,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||s.shouldCoalesceRunChangeDetection)&&o(),CS(s)}},onInvoke:(a,l,d,h,_,w,I)=>{try{return DS(s),a.invoke(d,h,_,w,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),CS(s)}},onHasTask:(a,l,d,h)=>{a.hasTask(d,h),l===d&&("microTask"==h.change?(s._hasPendingMicrotasks=h.microTask,DI(s),m_(s)):"macroTask"==h.change&&(s.hasPendingMacrotasks=h.macroTask))},onHandleError:(a,l,d,h)=>(a.handleError(d,h),s.runOutsideAngular(()=>s.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pi.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(Pi.isInAngularZone())throw new J(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+d,o,ES,f_,f_);try{return h.runTask(_,a,l)}finally{h.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const ES={};function m_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function DI(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function DS(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function CS(s){s._nesting--,m_(s)}class yR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ks,this.onMicrotaskEmpty=new ks,this.onStable=new ks,this.onError=new ks}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}const bS=new Wt(""),TS=new Wt("");let CI,_R=(()=>{class s{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,CI||(function vR(s){CI=s}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pi.assertNotInAngularZone(),Sd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sd(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:h,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(Jt(Pi),Jt(SS),Jt(TS))},s.\u0275prov=tt({token:s,factory:s.\u0275fac}),s})(),SS=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return CI?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const qo=!1;let Ko=null;const AS=new Wt("AllowMultipleToken"),bI=new Wt("PlatformDestroyListeners"),MS=new Wt("appBootstrapListener");class IR{constructor(o,a){this.name=o,this.token=a}}function RS(s,o,a=[]){const l=`Platform: ${o}`,d=new Wt(l);return(h=[])=>{let _=TI();if(!_||_.injector.get(AS,!1)){const w=[...a,...h,{provide:d,useValue:!0}];s?s(w):function DR(s){if(Ko&&!Ko.get(AS,!1))throw new J(400,!1);Ko=s;const o=s.get(PS);(function xS(s){const o=s.get(Td,null);o&&o.forEach(a=>a())})(s)}(function OS(s=[],o){return Yu.create({name:o,providers:[{provide:Vo,useValue:"platform"},{provide:bI,useValue:new Set([()=>Ko=null])},...s]})}(w,l))}return function bR(s){const o=TI();if(!o)throw new J(401,!1);return o}()}}function TI(){return Ko?.get(PS)??null}let PS=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function kS(s,o){let a;return a="noop"===s?new yR:("zone.js"===s?void 0:s)||new Pi(o),a}(l?.ngZone,function NS(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),h=[{provide:Pi,useValue:d}];return d.run(()=>{const _=Yu.create({providers:h,parent:this.injector,name:a.moduleType.name}),w=a.create(_),I=w.injector.get(Hl,null);if(!I)throw new J(402,!1);return d.runOutsideAngular(()=>{const b=d.onError.subscribe({next:M=>{I.handleError(M)}});w.onDestroy(()=>{__(this._modules,w),b.unsubscribe()})}),function FS(s,o,a){try{const l=a();return Or(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(I,d,()=>{const b=w.injector.get(rp);return b.runInitializers(),b.donePromise.then(()=>(function gE(s){ne(s,"Expected localeId to be defined"),"string"==typeof s&&(pE=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(ip,hc)||hc),this._moduleDoBootstrap(w),w))})})}bootstrapModule(a,l=[]){const d=LS({},l);return function wR(s,o,a){const l=new gc(a);return Promise.resolve(l)}(0,0,a).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(a){const l=a.injector.get(y_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new J(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(bI,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Jt(Yu))},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function LS(s,o){return Array.isArray(o)?o.reduce(LS,s):{...s,...o}}let y_=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,l,d){this._zone=a,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new te.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),_=new te.y(w=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Pi.assertNotInAngularZone(),Sd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{Pi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{I.unsubscribe(),b.unsubscribe()}});this.isStable=(0,de.T)(h,_.pipe((0,fe.B)()))}bootstrap(a,l){const d=a instanceof b0;if(!this._injector.get(rp).done){!d&&we(a);throw new J(405,qo)}let _;_=d?a:this._injector.get(qu).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const w=function ER(s){return s.isBoundToModule}(_)?void 0:this._injector.get(gd),b=_.create(Yu.NULL,[],l||_.selector,w),M=b.location.nativeElement,x=b.injector.get(bS,null);return x?.registerApplication(M),b.onDestroy(()=>{this.detachView(b.hostView),__(this.components,b),x?.unregisterApplication(M)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new J(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;__(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(MS,[]);l.push(...this._bootstrapListeners),l.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>__(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new J(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Jt(Pi),Jt(ka),Jt(Hl))},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function __(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}function SR(){return!1}let AR=(()=>{class s{}return s.__NG_ELEMENT_ID__=MR,s})();function MR(s){return function xR(s,o,a){if(Yr(s)&&!a){const l=mr(s.index,o);return new td(l,l)}return 47&s.type?new td(o[sr],o):null}(ar(),ie(),16==(16&s))}class Kn{constructor(){}supports(o){return Va(o)}create(o){return new $S(o)}}const Zo=(s,o)=>o;class $S{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Zo}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,h=null;for(;a||l;){const _=!l||a&&a.currentIndex<wr(l,d,h)?a:l,w=wr(_,d,h),I=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{h||(h=[]);const b=w-d,M=I-d;if(b!=M){for(let j=0;j<b;j++){const z=j<h.length?h[j]:h[j]=0,ue=z+j;M<=ue&&ue<b&&(h[j]=z+1)}h[_.previousIndex]=M-b}}w!==I&&o(_,w,I)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Va(o))throw new J(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,h,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)h=o[w],_=this._trackByFn(w,h),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,h,_,w)),Object.is(a.item,h)||this._addIdentityChange(a,h)):(a=this._mismatch(a,h,_,w),l=!0),a=a._next}else d=0,function nd(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Symbol.iterator]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,w=>{_=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,w,_,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let h;return null===o?h=this._itTail:(h=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,h,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,h,d)):o=this._addAfter(new SI(a,l),h,d),o}_verifyReinsertion(o,a,l,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?o=this._reinsertAfter(h,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,h=o._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new D_),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new D_),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class SI{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class I_{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class D_{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new I_,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wr(s,o,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class AI{constructor(){}supports(o){return o instanceof Map||rd(o)}create(){return new xd}}class xd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||rd(o)))throw new J(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const h=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,h)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const h=d._prev,_=d._next;return h&&(h._next=_),_&&(_._prev=h),d._next=null,d._prev=null,d}const l=new ap(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class ap{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function as(){return new Rd([new Kn])}let Rd=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||as()),deps:[[s,new It,new Ca]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new J(901,!1)}}return s.\u0275prov=tt({token:s,providedIn:"root",factory:as}),s})();function MI(){return new Yo([new AI])}let Yo=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||MI()),deps:[[s,new It,new Ca]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new J(901,!1)}}return s.\u0275prov=tt({token:s,providedIn:"root",factory:MI}),s})();const RI=RS(null,"core",[]);let b_=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Jt(y_))},s.\u0275mod=Z({type:s}),s.\u0275inj=_t({}),s})();function T_(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(yt,De,k)=>{k.d(De,{Z:()=>qe});var p=k(2090),F=k(4859),te=k(6881),de=k(1877);class fe{constructor(J,Me){this._delegate=J,this.firebase=Me,(0,te._addComponent)(J,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=J.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this._delegate.automaticDataCollectionEnabled=J}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(J=>{this._delegate.checkDestroyed(),J()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,te.deleteApp)(this._delegate)))}_getService(J,Me=te._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const Fe=this._delegate.container.getProvider(J);return!Fe.isInitialized()&&"EXPLICIT"===(null===(_e=Fe.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&Fe.initialize(),Fe.getImmediate({identifier:Me})}_removeServiceInstance(J,Me=te._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(J).clearInstance(Me)}_addComponent(J){(0,te._addComponent)(this._delegate,J)}_addOrOverwriteComponent(J){(0,te._addOrOverwriteComponent)(this._delegate,J)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function Oe(){const et=function Ie(et){const J={},Me={__esModule:!0,initializeApp:function xe(Ne,Ge={}){const it=te.initializeApp(Ne,Ge);if((0,p.r3)(J,it.name))return J[it.name];const Pt=new et(it,Me);return J[it.name]=Pt,Pt},app:Fe,registerVersion:te.registerVersion,setLogLevel:te.setLogLevel,onLog:te.onLog,apps:null,SDK_VERSION:te.SDK_VERSION,INTERNAL:{registerComponent:function ye(Ne){const Ge=Ne.name,it=Ge.replace("-compat","");if(te._registerComponent(Ne)&&"PUBLIC"===Ne.type){const Pt=(Qe=Fe())=>{if("function"!=typeof Qe[it])throw Re.create("invalid-app-argument",{appName:Ge});return Qe[it]()};void 0!==Ne.serviceProps&&(0,p.ZB)(Pt,Ne.serviceProps),Me[it]=Pt,et.prototype[it]=function(...Qe){return this._getService.bind(this,Ge).apply(this,Ne.multipleInstances?Qe:[])}}return"PUBLIC"===Ne.type?Me[it]:null},removeApp:function _e(Ne){delete J[Ne]},useAsService:function Le(Ne,Ge){return"serverAuth"===Ge?null:Ge},modularAPIs:te}};function Fe(Ne){if(!(0,p.r3)(J,Ne=Ne||te._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:Ne});return J[Ne]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function pe(){return Object.keys(J).map(Ne=>J[Ne])}}),Fe.App=et,Me}(fe);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:Oe,extendNamespace:function J(Me){(0,p.ZB)(et,Me)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),et}(),B=new de.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=U;!function Ce(et){(0,te.registerVersion)("@firebase/app-compat","0.2.13",et)}()},6881:(yt,De,k)=>{k.r(De),k.d(De,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>Jt,_DEFAULT_ENTRY_NAME:()=>tn,_addComponent:()=>Cr,_addOrOverwriteComponent:()=>nr,_apps:()=>gt,_clearComponents:()=>an,_components:()=>Dr,_getProvider:()=>rr,_registerComponent:()=>br,_removeServiceInstance:()=>oa,deleteApp:()=>ji,getApp:()=>vi,getApps:()=>$i,initializeApp:()=>ds,onLog:()=>Hi,registerVersion:()=>Tr,setLogLevel:()=>hs});var p=k(5861),F=k(4859),te=k(1877),de=k(2090);const fe=(ae,Z)=>Z.some(Se=>ae instanceof Se);let ce,Re;const U=new WeakMap,B=new WeakMap,H=new WeakMap,ke=new WeakMap,Ce=new WeakMap;let J={get(ae,Z,Se){if(ae instanceof IDBTransaction){if("done"===Z)return B.get(ae);if("objectStoreNames"===Z)return ae.objectStoreNames||H.get(ae);if("store"===Z)return Se.objectStoreNames[1]?void 0:Se.objectStore(Se.objectStoreNames[0])}return xe(ae[Z])},set:(ae,Z,Se)=>(ae[Z]=Se,!0),has:(ae,Z)=>ae instanceof IDBTransaction&&("done"===Z||"store"===Z)||Z in ae};function Fe(ae){return"function"==typeof ae?function _e(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oe(){return Re||(Re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...Z){return ae.apply(pe(this),Z),xe(U.get(this))}:function(...Z){return xe(ae.apply(pe(this),Z))}:function(Z,...Se){const Ke=ae.call(pe(this),Z,...Se);return H.set(Ke,Z.sort?Z.sort():[Z]),xe(Ke)}}(ae):(ae instanceof IDBTransaction&&function et(ae){if(B.has(ae))return;const Z=new Promise((Se,Ke)=>{const Ze=()=>{ae.removeEventListener("complete",ot),ae.removeEventListener("error",nt),ae.removeEventListener("abort",nt)},ot=()=>{Se(),Ze()},nt=()=>{Ke(ae.error||new DOMException("AbortError","AbortError")),Ze()};ae.addEventListener("complete",ot),ae.addEventListener("error",nt),ae.addEventListener("abort",nt)});B.set(ae,Z)}(ae),fe(ae,function Ie(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,J):ae)}function xe(ae){if(ae instanceof IDBRequest)return function qe(ae){const Z=new Promise((Se,Ke)=>{const Ze=()=>{ae.removeEventListener("success",ot),ae.removeEventListener("error",nt)},ot=()=>{Se(xe(ae.result)),Ze()},nt=()=>{Ke(ae.error),Ze()};ae.addEventListener("success",ot),ae.addEventListener("error",nt)});return Z.then(Se=>{Se instanceof IDBCursor&&U.set(Se,ae)}).catch(()=>{}),Ce.set(Z,ae),Z}(ae);if(ke.has(ae))return ke.get(ae);const Z=Fe(ae);return Z!==ae&&(ke.set(ae,Z),Ce.set(Z,ae)),Z}const pe=ae=>Ce.get(ae),Ne=["get","getKey","getAll","getAllKeys","count"],Ge=["put","add","delete","clear"],it=new Map;function Pt(ae,Z){var Se;if(!(ae instanceof IDBDatabase)||Z in ae||"string"!=typeof Z)return;if(it.get(Z))return it.get(Z);const Ke=Z.replace(/FromIndex$/,""),Ze=Z!==Ke,ot=Ge.includes(Ke);if(!(Ke in(Ze?IDBIndex:IDBObjectStore).prototype)||!ot&&!Ne.includes(Ke))return;const nt=function(Gt){return(Se=Se||(0,p.Z)(function*(we,...sn){const Ar=this.transaction(we,ot?"readwrite":"readonly");let zi=Ar.store;return Ze&&(zi=zi.index(sn.shift())),(yield Promise.all([zi[Ke](...sn),ot&&Ar.done]))[0]})).apply(this,arguments)};return it.set(Z,nt),nt}var Qe,jt,st;!function Me(ae){J=ae(J)}(ae=>({...ae,get:(Z,Se,Ke)=>Pt(Z,Se)||ae.get(Z,Se,Ke),has:(Z,Se)=>!!Pt(Z,Se)||ae.has(Z,Se)}));class co{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map(Se=>{if(function lo(ae){return"VERSION"===ae.getComponent()?.type}(Se)){const Ke=Se.getImmediate();return`${Ke.library}/${Ke.version}`}return null}).filter(Se=>Se).join(" ")}}const Li="@firebase/app",Y=new te.Yd("@firebase/app"),tn="[DEFAULT]",ft={[Li]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gt=new Map,Dr=new Map;function Cr(ae,Z){try{ae.container.addComponent(Z)}catch(Se){Y.debug(`Component ${Z.name} failed to register with FirebaseApp ${ae.name}`,Se)}}function nr(ae,Z){ae.container.addOrOverwriteComponent(Z)}function br(ae){const Z=ae.name;if(Dr.has(Z))return Y.debug(`There were multiple attempts to register component ${Z}.`),!1;Dr.set(Z,ae);for(const Se of gt.values())Cr(Se,ae);return!0}function rr(ae,Z){const Se=ae.container.getProvider("heartbeat").getImmediate({optional:!0});return Se&&Se.triggerHeartbeat(),ae.container.getProvider(Z)}function oa(ae,Z,Se=tn){rr(ae,Z).clearInstance(Se)}function an(){Dr.clear()}const At=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class aa{constructor(Z,Se,Ke){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},Se),this._name=Se.name,this._automaticDataCollectionEnabled=Se.automaticDataCollectionEnabled,this._container=Ke,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw At.create("app-deleted",{appName:this._name})}}const Jt="9.23.0";function ds(ae,Z={}){let Se=ae;"object"!=typeof Z&&(Z={name:Z});const Ke=Object.assign({name:tn,automaticDataCollectionEnabled:!1},Z),Ze=Ke.name;if("string"!=typeof Ze||!Ze)throw At.create("bad-app-name",{appName:String(Ze)});if(Se||(Se=(0,de.aH)()),!Se)throw At.create("no-options");const ot=gt.get(Ze);if(ot){if((0,de.vZ)(Se,ot.options)&&(0,de.vZ)(Ke,ot.config))return ot;throw At.create("duplicate-app",{appName:Ze})}const nt=new F.H0(Ze);for(const Gt of Dr.values())nt.addComponent(Gt);const Ht=new aa(Se,Ke,nt);return gt.set(Ze,Ht),Ht}function vi(ae=tn){const Z=gt.get(ae);if(!Z&&ae===tn&&(0,de.aH)())return ds();if(!Z)throw At.create("no-app",{appName:ae});return Z}function $i(){return Array.from(gt.values())}function ji(ae){return(Qe=Qe||(0,p.Z)(function*(Z){const Se=Z.name;gt.has(Se)&&(gt.delete(Se),yield Promise.all(Z.container.getProviders().map(Ke=>Ke.delete())),Z.isDeleted=!0)})).apply(this,arguments)}function Tr(ae,Z,Se){var Ke;let Ze=null!==(Ke=ft[ae])&&void 0!==Ke?Ke:ae;Se&&(Ze+=`-${Se}`);const ot=Ze.match(/\s|\//),nt=Z.match(/\s|\//);if(ot||nt){const Ht=[`Unable to register library "${Ze}" with version "${Z}":`];return ot&&Ht.push(`library name "${Ze}" contains illegal characters (whitespace or "/")`),ot&&nt&&Ht.push("and"),nt&&Ht.push(`version name "${Z}" contains illegal characters (whitespace or "/")`),void Y.warn(Ht.join(" "))}br(new F.wA(`${Ze}-version`,()=>({library:Ze,version:Z}),"VERSION"))}function Hi(ae,Z){if(null!==ae&&"function"!=typeof ae)throw At.create("invalid-log-argument");(0,te.Am)(ae,Z)}function hs(ae){(0,te.Ub)(ae)}const L="firebase-heartbeat-database",P=1,$="firebase-heartbeat-store";let se=null;function W(){return se||(se=function ye(ae,Z,{blocked:Se,upgrade:Ke,blocking:Ze,terminated:ot}={}){const nt=indexedDB.open(ae,Z),Ht=xe(nt);return Ke&&nt.addEventListener("upgradeneeded",Gt=>{Ke(xe(nt.result),Gt.oldVersion,Gt.newVersion,xe(nt.transaction),Gt)}),Se&&nt.addEventListener("blocked",Gt=>Se(Gt.oldVersion,Gt.newVersion,Gt)),Ht.then(Gt=>{ot&&Gt.addEventListener("close",()=>ot()),Ze&&Gt.addEventListener("versionchange",we=>Ze(we.oldVersion,we.newVersion,we))}).catch(()=>{}),Ht}(L,P,{upgrade:(ae,Z)=>{0===Z&&ae.createObjectStore($)}}).catch(ae=>{throw At.create("idb-open",{originalErrorMessage:ae.message})})),se}function Dt(ae,Z){return(st=st||(0,p.Z)(function*(Se,Ke){try{const ot=(yield W()).transaction($,"readwrite");yield ot.objectStore($).put(Ke,Xt(Se)),yield ot.done}catch(Ze){if(Ze instanceof de.ZR)Y.warn(Ze.message);else{const ot=At.create("idb-set",{originalErrorMessage:Ze?.message});Y.warn(ot.message)}}})).apply(this,arguments)}function Xt(ae){return`${ae.name}!${ae.options.appId}`}class dn{constructor(Z){this.container=Z,this._heartbeatsCache=null;const Se=this.container.getProvider("app").getImmediate();this._storage=new si(Se),this._heartbeatsCachePromise=this._storage.read().then(Ke=>(this._heartbeatsCache=Ke,Ke))}triggerHeartbeat(){var Z=this;return(0,p.Z)(function*(){const Ke=Z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ze=Ut();if(null===Z._heartbeatsCache&&(Z._heartbeatsCache=yield Z._heartbeatsCachePromise),Z._heartbeatsCache.lastSentHeartbeatDate!==Ze&&!Z._heartbeatsCache.heartbeats.some(ot=>ot.date===Ze))return Z._heartbeatsCache.heartbeats.push({date:Ze,agent:Ke}),Z._heartbeatsCache.heartbeats=Z._heartbeatsCache.heartbeats.filter(ot=>{const nt=new Date(ot.date).valueOf();return Date.now()-nt<=2592e6}),Z._storage.overwrite(Z._heartbeatsCache)})()}getHeartbeatsHeader(){var Z=this;return(0,p.Z)(function*(){if(null===Z._heartbeatsCache&&(yield Z._heartbeatsCachePromise),null===Z._heartbeatsCache||0===Z._heartbeatsCache.heartbeats.length)return"";const Se=Ut(),{heartbeatsToSend:Ke,unsentEntries:Ze}=function Sr(ae,Z=1024){const Se=[];let Ke=ae.slice();for(const Ze of ae){const ot=Se.find(nt=>nt.agent===Ze.agent);if(ot){if(ot.dates.push(Ze.date),Vs(Se)>Z){ot.dates.pop();break}}else if(Se.push({agent:Ze.agent,dates:[Ze.date]}),Vs(Se)>Z){Se.pop();break}Ke=Ke.slice(1)}return{heartbeatsToSend:Se,unsentEntries:Ke}}(Z._heartbeatsCache.heartbeats),ot=(0,de.L)(JSON.stringify({version:2,heartbeats:Ke}));return Z._heartbeatsCache.lastSentHeartbeatDate=Se,Ze.length>0?(Z._heartbeatsCache.heartbeats=Ze,yield Z._storage.overwrite(Z._heartbeatsCache)):(Z._heartbeatsCache.heartbeats=[],Z._storage.overwrite(Z._heartbeatsCache)),ot})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class si{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Z=this;return(0,p.Z)(function*(){return(yield Z._canUseIndexedDBPromise)&&(yield function Te(ae){return(jt=jt||(0,p.Z)(function*(Z){try{return yield(yield W()).transaction($).objectStore($).get(Xt(Z))}catch(Se){if(Se instanceof de.ZR)Y.warn(Se.message);else{const Ke=At.create("idb-get",{originalErrorMessage:Se?.message});Y.warn(Ke.message)}}})).apply(this,arguments)}(Z.app))||{heartbeats:[]}})()}overwrite(Z){var Se=this;return(0,p.Z)(function*(){var Ke;if(yield Se._canUseIndexedDBPromise){const ot=yield Se.read();return Dt(Se.app,{lastSentHeartbeatDate:null!==(Ke=Z.lastSentHeartbeatDate)&&void 0!==Ke?Ke:ot.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}})()}add(Z){var Se=this;return(0,p.Z)(function*(){var Ke;if(yield Se._canUseIndexedDBPromise){const ot=yield Se.read();return Dt(Se.app,{lastSentHeartbeatDate:null!==(Ke=Z.lastSentHeartbeatDate)&&void 0!==Ke?Ke:ot.lastSentHeartbeatDate,heartbeats:[...ot.heartbeats,...Z.heartbeats]})}})()}}function Vs(ae){return(0,de.L)(JSON.stringify({version:2,heartbeats:ae})).length}!function nu(ae){br(new F.wA("platform-logger",Z=>new co(Z),"PRIVATE")),br(new F.wA("heartbeat",Z=>new dn(Z),"PRIVATE")),Tr(Li,"0.9.13",ae),Tr(Li,"0.9.13","esm2017"),Tr("fire-js","")}("")},4859:(yt,De,k)=>{k.d(De,{H0:()=>Ie,wA:()=>te});var p=k(5861),F=k(2090);class te{constructor(U,B,H){this.name=U,this.instanceFactory=B,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const de="[DEFAULT]";class fe{constructor(U,B){this.name=U,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const B=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(B)){const H=new F.BH;if(this.instancesDeferred.set(B,H),this.isInitialized(B)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:B});ke&&H.resolve(ke)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(U){var B;const H=this.normalizeInstanceIdentifier(U?.identifier),ke=null!==(B=U?.optional)&&void 0!==B&&B;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(Ce){if(ke)return null;throw Ce}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function Re(Oe){return"EAGER"===Oe.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[B,H]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(B);try{const Ce=this.getOrInitializeService({instanceIdentifier:ke});H.resolve(Ce)}catch{}}}}clearInstance(U=de){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,p.Z)(function*(){const B=Array.from(U.instances.values());yield Promise.all([...B.filter(H=>"INTERNAL"in H).map(H=>H.INTERNAL.delete()),...B.filter(H=>"_delete"in H).map(H=>H._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=de){return this.instances.has(U)}getOptions(U=de){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:B={}}=U,H=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(H))throw Error(`${this.name}(${H}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:H,options:B});for(const[Ce,qe]of this.instancesDeferred.entries())H===this.normalizeInstanceIdentifier(Ce)&&qe.resolve(ke);return ke}onInit(U,B){var H;const ke=this.normalizeInstanceIdentifier(B),Ce=null!==(H=this.onInitCallbacks.get(ke))&&void 0!==H?H:new Set;Ce.add(U),this.onInitCallbacks.set(ke,Ce);const qe=this.instances.get(ke);return qe&&U(qe,ke),()=>{Ce.delete(U)}}invokeOnInitCallbacks(U,B){const H=this.onInitCallbacks.get(B);if(H)for(const ke of H)try{ke(U,B)}catch{}}getOrInitializeService({instanceIdentifier:U,options:B={}}){let H=this.instances.get(U);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=U,Oe===de?void 0:Oe),options:B}),this.instances.set(U,H),this.instancesOptions.set(U,B),this.invokeOnInitCallbacks(H,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,H)}catch{}var Oe;return H||null}normalizeInstanceIdentifier(U=de){return this.component?this.component.multipleInstances?U:de:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const B=this.getProvider(U.name);if(B.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);B.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const B=new fe(U,this);return this.providers.set(U,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(yt,De,k)=>{k.d(De,{Am:()=>Oe,Ub:()=>Ie,Yd:()=>Re,in:()=>F});const p=[];var F=(()=>{return(U=F||(F={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",F;var U})();const te={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},de=F.INFO,fe={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},ce=(U,B,...H)=>{if(B<U.logLevel)return;const ke=(new Date).toISOString(),Ce=fe[B];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Ce](`[${ke}]  ${U.name}:`,...H)};class Re{constructor(B){this.name=B,this._logLevel=de,this._logHandler=ce,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in F))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?te[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...B),this._logHandler(this,F.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...B),this._logHandler(this,F.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,F.INFO,...B),this._logHandler(this,F.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,F.WARN,...B),this._logHandler(this,F.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...B),this._logHandler(this,F.ERROR,...B)}}function Ie(U){p.forEach(B=>{B.setLogLevel(U)})}function Oe(U,B){for(const H of p){let ke=null;B&&B.level&&(ke=te[B.level]),H.userLogHandler=null===U?null:(Ce,qe,...et)=>{const J=et.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");qe>=(ke??Ce.logLevel)&&U({level:F[qe].toLowerCase(),message:J,args:et,type:Ce.name})}}}},9260:(yt,De,k)=>{k.d(De,{Z:()=>p.Z});var p=k(3942);p.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(yt,De,k)=>{function p(te,de,fe,ce,Re,Ie,Oe){try{var U=te[Ie](Oe),B=U.value}catch(H){return void fe(H)}U.done?de(B):Promise.resolve(B).then(ce,Re)}function F(te){return function(){var de=this,fe=arguments;return new Promise(function(ce,Re){var Ie=te.apply(de,fe);function Oe(B){p(Ie,ce,Re,Oe,U,"next",B)}function U(B){p(Ie,ce,Re,Oe,U,"throw",B)}Oe(void 0)})}}k.d(De,{Z:()=>F})},7582:(yt,De,k)=>{function de(Y,ee){var ne={};for(var Q in Y)Object.prototype.hasOwnProperty.call(Y,Q)&&ee.indexOf(Q)<0&&(ne[Q]=Y[Q]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(Q=Object.getOwnPropertySymbols(Y);Pe<Q.length;Pe++)ee.indexOf(Q[Pe])<0&&Object.prototype.propertyIsEnumerable.call(Y,Q[Pe])&&(ne[Q[Pe]]=Y[Q[Pe]])}return ne}function H(Y,ee,ne,Q){return new(ne||(ne=Promise))(function(be,ht){function tt(zt){try{_t(Q.next(zt))}catch(_n){ht(_n)}}function yn(zt){try{_t(Q.throw(zt))}catch(_n){ht(_n)}}function _t(zt){zt.done?be(zt.value):function Pe(be){return be instanceof ne?be:new ne(function(ht){ht(be)})}(zt.value).then(tt,yn)}_t((Q=Q.apply(Y,ee||[])).next())})}function xe(Y){return this instanceof xe?(this.v=Y,this):new xe(Y)}function pe(Y,ee,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Q=ne.apply(Y,ee||[]),be=[];return Pe={},ht("next"),ht("throw"),ht("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function ht(rn){Q[rn]&&(Pe[rn]=function(Xn){return new Promise(function(er,Nn){be.push([rn,Xn,er,Nn])>1||tt(rn,Xn)})})}function tt(rn,Xn){try{!function yn(rn){rn.value instanceof xe?Promise.resolve(rn.value.v).then(_t,zt):_n(be[0][2],rn)}(Q[rn](Xn))}catch(er){_n(be[0][3],er)}}function _t(rn){tt("next",rn)}function zt(rn){tt("throw",rn)}function _n(rn,Xn){rn(Xn),be.shift(),be.length&&tt(be[0][0],be[0][1])}}function Le(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,ee=Y[Symbol.asyncIterator];return ee?ee.call(Y):(Y=function et(Y){var ee="function"==typeof Symbol&&Symbol.iterator,ne=ee&&Y[ee],Q=0;if(ne)return ne.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&Q>=Y.length&&(Y=void 0),{value:Y&&Y[Q++],done:!Y}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ne={},Q("next"),Q("throw"),Q("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function Q(be){ne[be]=Y[be]&&function(ht){return new Promise(function(tt,yn){!function Pe(be,ht,tt,yn){Promise.resolve(yn).then(function(_t){be({value:_t,done:tt})},ht)}(tt,yn,(ht=Y[be](ht)).done,ht.value)})}}}k.d(De,{FC:()=>pe,KL:()=>Le,_T:()=>de,mG:()=>H,qq:()=>xe}),"function"==typeof SuppressedError&&SuppressedError}},yt=>{yt(yt.s=6099)}]);